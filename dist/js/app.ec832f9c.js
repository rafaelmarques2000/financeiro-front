(function(){var a={8977:function(a,t,e){"use strict";var n=e(9242),s=e(3396);function o(a,t){const e=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(e)}var i=e(89);const r={},l=(0,i.Z)(r,[["render",o]]);var c=l,d=(e(7658),e(2483)),u=e(7139);const p=a=>((0,s.dD)("data-v-71931602"),a=a(),(0,s.Cn)(),a),g={class:"login-view"},m={class:"login-form-content"},v=p((()=>(0,s._)("div",{class:"logo-content"},[(0,s._)("h1",null,"Sistema de Finanças")],-1))),b=p((()=>(0,s._)("h4",{class:"sub-title"},"Seja bem vindo, insira suas credencias para começar",-1))),_={class:"login-form"},f={class:"form-field-content",id:"userfield"},h={class:"form-field-content"},y=["disabled"];function w(a,t,e,o,i,r){return(0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("div",m,[v,b,(0,s._)("div",_,[(0,s._)("form",null,[(0,s._)("div",f,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>o.data.username=a),placeholder:"Usuário"},null,512),[[n.nr,o.data.username]])]),(0,s._)("div",h,[(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>o.data.password=a),placeholder:"Senha"},null,512),[[n.nr,o.data.password]])]),(0,s._)("button",{disabled:o.data.disabledBtnLogin,onClick:t[2]||(t[2]=(...a)=>o.authSubmit&&o.authSubmit(...a)),class:"login-btn",type:"button"},(0,u.zw)(o.data.buttonMsg),9,y)])])])])}var D=e(4870),k=e(2492),C=e.n(k),P=e(65),F=e(5103),x=e(8082),$=e.n(x),T=e(680);const S="state",A="state",R=T.Z.get(S)||"dcefb8d7-17dd-45cd-8123-91e92b7fc52c",M=new F.ZP({storage:{getItem:()=>{const a=window.localStorage.getItem(A);if(a)try{const t=$().AES.decrypt(a,R);return JSON.parse(t.toString($().enc.Utf8))}catch(t){window.localStorage.removeItem(A)}return null},setItem:(a,t)=>{const e=$().AES.encrypt(t,R).toString();return window.localStorage.setItem(A,e)},removeItem:()=>window.localStorage.removeItem(A)}});var z=(0,P.MT)({state:{isAuth:!1,userData:{},metadata:{},filters:{range:null}},getters:{isAuth(a){return a.isAuth},userData(a){return a.userData},metadata(a){return a.metadata},getFirstDate(a){return a.filters.firstDate},getLastDate(a){return a.filters.lastDate},getDateFilterRange(a){return a.filters.range}},mutations:{enableAuth(a){a.isAuth=!0},disabledAuth(a){a.isAuth=!1},setUserData(a,t){a.userData=t},clearState(a){a.isAuth=!1,a.userData={},a.filters={range:null}},setMetadata(a,t){a.metadata=t},setFirstDate(a,t){a.filters.firstDate=t},setLastDate(a,t){a.filters.lastDate=t},setDateFilterRange(a,t){a.filters.range=t}},plugins:[M.plugin]}),L=e(70);let B={baseURL:"http://192.168.1.252:8080/api/v1",headers:{}};z.getters.isAuth&&(B.headers={Authorization:`bearer ${z.getters.userData.token}`});var V=L.ZP.create(B);const W=a=>V.post("/auth",{username:a.username,password:a.password}),j=a=>V.post("/check-token",{token:a});var O={setup(){const a=(0,d.tv)(),t=(0,D.qj)({username:null,password:null,disabledBtnLogin:!1,buttonMsg:"Entrar"}),e=()=>{t.username?t.password?(t.disabledBtnLogin=!0,t.buttonMsg="Processando Aguarde...",W(t).then((e=>{t.disabledBtnLogin=!1,t.buttonMsg="Entrar",z.commit("enableAuth"),z.commit("setUserData",e.data),a.push({name:"home"})})).catch((a=>{C().fire(a.response.data.message,"","error"),t.disabledBtnLogin=!1,t.buttonMsg="Entrar"}))):C().fire("Atenção","Preencha o campo Senha","warning",""):C().fire("Atenção","Preencha o campo Usuário","warning","")};return(0,s.bv)((()=>{})),{data:t,authSubmit:e}}};const U=(0,i.Z)(O,[["render",w],["__scopeId","data-v-71931602"]]);var I=U;const N=a=>((0,s.dD)("data-v-45c59962"),a=a(),(0,s.Cn)(),a),E={class:"home-view"},q={class:"sidebar"},Y=N((()=>(0,s._)("div",{class:"logo"},[(0,s._)("h1",null,"Sistema Financeiro")],-1))),H={class:"sidebar-menu"},Z={class:"home-fluid"},K=N((()=>(0,s._)("nav",{class:"home-navbar"},null,-1))),G={class:"content-center"};function J(a,t,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",E,[(0,s._)("div",q,[Y,(0,s._)("nav",H,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(c,{to:"/app/dashboard"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-house"}),(0,s.Uk)(" Inicio")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(c,{to:"/app/contas"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-receipt"}),(0,s.Uk)(" Contas")])),_:1})]),(0,s._)("li",null,[(0,s._)("a",{href:"",onClick:t[0]||(t[0]=(0,n.iM)(((...a)=>o.confirmAppExit&&o.confirmAppExit(...a)),["prevent"]))},[(0,s.Wm)(l,{icon:"fa-solid fa-right-from-bracket"}),(0,s.Uk)(" Sair")])])])])]),(0,s._)("div",Z,[K,(0,s._)("div",G,[(0,s.Wm)(d)])])])}var Q={setup(){const a=(0,d.tv)(),t=(0,D.qj)({msg:"hello"}),e=()=>{C().fire({title:"Confirmação",text:"Deseja sair do sistema ? ",icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&(z.commit("clearState"),a.push({name:"login"}))}))};return{data:t,confirmAppExit:e}}};const X=(0,i.Z)(Q,[["render",J],["__scopeId","data-v-45c59962"]]);var aa=X;const ta={class:"inicio-view page-content"},ea={class:"row"},na={class:"col-6"},sa={class:"container cards-content-chart"},oa={class:"card chart-card"},ia={class:"card-body"},ra=(0,s.uE)('<div class="col-6" data-v-22837a4e><div class="dropdown data-filter" data-v-22837a4e><button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" data-v-22837a4e> Hoje(27/10) </button><ul class="dropdown-menu" data-v-22837a4e><li data-v-22837a4e><button class="dropdown-item" type="button" data-v-22837a4e>Action</button></li><li data-v-22837a4e><button class="dropdown-item" type="button" data-v-22837a4e>Another action</button></li><li data-v-22837a4e><button class="dropdown-item" type="button" data-v-22837a4e>Something else here</button></li></ul></div><div class="container cards-content" data-v-22837a4e><div class="row metric-card-row" data-v-22837a4e><div class="col-md-6" data-v-22837a4e><div class="card metric-card metric-card-blue" data-v-22837a4e><div class="card-body" data-v-22837a4e><h5 class="title-card" data-v-22837a4e>Total compras mês</h5><span class="card-value" data-v-22837a4e>R$ 500,00</span></div></div></div><div class="col-md-6" data-v-22837a4e><div class="card metric-card metric-card-blue" data-v-22837a4e><div class="card-body" data-v-22837a4e><h5 class="title-card" data-v-22837a4e>Total compras mês</h5><span class="card-value" data-v-22837a4e>R$ 500,00</span></div></div></div></div><div class="row" data-v-22837a4e><div class="col-md-6" data-v-22837a4e><div class="card metric-card metric-card-blue" data-v-22837a4e><div class="card-body" data-v-22837a4e><h5 class="title-card" data-v-22837a4e>Total compras mês</h5><span class="card-value" data-v-22837a4e>R$ 500,00</span></div></div></div><div class="col-md-6" data-v-22837a4e><div class="card metric-card metric-card-blue" data-v-22837a4e><div class="card-body" data-v-22837a4e><h5 class="title-card" data-v-22837a4e>Total compras mês</h5><span class="card-value" data-v-22837a4e>R$ 500,00</span></div></div></div></div></div></div>',1);function la(a,t,e,n,o,i){const r=(0,s.up)("page-title"),l=(0,s.up)("bar");return(0,s.wg)(),(0,s.iD)("div",ta,[(0,s._)("div",ea,[(0,s._)("div",na,[(0,s.Wm)(r,{style:{border:"none"},title:"Bem vindo, "+n.data.user_show_name+"!",subtitle:"Acompanhe aqui a evolução das suas finanças."},null,8,["title"]),(0,s._)("div",sa,[(0,s._)("div",oa,[(0,s._)("div",ia,[(0,s.Wm)(l,{"chart-data":n.data.chartData,"chart-options":n.data.chartOptions},null,8,["chart-data","chart-options"])])])])]),ra])])}var ca=e(6294),da=e(741);const ua={class:"page-title"},pa=(0,s._)("br",null,null,-1),ga={key:0,class:"small subtitle"};function ma(a,t,e,n,o,i){const r=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("h1",ua,[(0,s.Wm)(r,{icon:e.pageIcon},null,8,["icon"]),(0,s.Uk)(" "+(0,u.zw)(e.title),1),pa,e.subtitle?((0,s.wg)(),(0,s.iD)("small",ga,(0,u.zw)(e.subtitle),1)):(0,s.kq)("",!0)])}var va={name:"PageTitle",props:["title","pageIcon","subtitle"]};const ba=(0,i.Z)(va,[["render",ma]]);var _a=ba;da.kL.register(da.Dx,da.u,da.De,da.ZL,da.uw,da.f$);var fa={components:{Bar:ca.$Q,pageTitle:_a},setup(){const a=(0,D.qj)({chartData:{labels:["January","February","March"],datasets:[{label:"Faturas ao longo dos meses",backgroundColor:"#7DA0FA",data:[40,20,12]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1},user_show_name:z.getters.userData.show_name});return{data:a}}};const ha=(0,i.Z)(fa,[["render",la],["__scopeId","data-v-22837a4e"]]);var ya=ha;const wa=a=>((0,s.dD)("data-v-16718358"),a=a(),(0,s.Cn)(),a),Da={class:"contas-view page-content"},ka={class:"row"},Ca={class:"col-12"},Pa={class:"card page-card"},Fa={class:"alert alert-primary label-top"},xa={class:"row"},$a={class:"col-3"},Ta=wa((()=>(0,s._)("h4",{class:"tipo-transacao-label"},"Resultado do mês",-1))),Sa={key:0,class:"value-label negative-label"},Aa={key:1,class:"value-label positive-label"},Ra={class:"page-action"},Ma={class:"show-per-page"},za=wa((()=>(0,s._)("option",{value:"5"},"5",-1))),La=wa((()=>(0,s._)("option",{value:"10"},"10",-1))),Ba=wa((()=>(0,s._)("option",{value:"50"},"50",-1))),Va=wa((()=>(0,s._)("option",{value:"100"},"100",-1))),Wa=[za,La,Ba,Va],ja={class:"row"},Oa={class:"col-6"},Ua=wa((()=>(0,s._)("label",{class:"form-label"},"Descrição",-1))),Ia={class:"input-group"},Na={class:"col-4"},Ea=wa((()=>(0,s._)("label",{class:"form-label"},"Data",-1))),qa={style:{display:"flex"}},Ya=["value"],Ha=wa((()=>(0,s._)("span",{style:{padding:"10px"}},"até",-1))),Za=["value"],Ka={class:"col-2"},Ga={class:"card-body page-card-body"},Ja={key:1,class:"table table-striped"},Qa=wa((()=>(0,s._)("tr",{class:"page-table-header"},[(0,s._)("th",null,"Descrição"),(0,s._)("th",null,"Tipo"),(0,s._)("th",null,"Saldo"),(0,s._)("th",null,"Última atualização"),(0,s._)("th")],-1))),Xa={class:"page-table-row"},at=["onClick"],tt=["onClick"],et=["onClick"],nt={class:"positive-label"},st=["onClick"],ot={class:"negative-label"},it=["onClick"],rt={class:"normal-label"},lt=["onClick"],ct={class:"row-btn-actions"},dt=["onClick"],ut=["onClick"],pt={key:0,class:"row",style:{padding:"20px"}},gt={class:"col-12"},mt={"aria-label":"Page navigation example"},vt={class:"pagination"},bt={class:"page-item"},_t={class:"page-item"},ft={key:0,class:"page-link"},ht=["onClick"],yt={class:"page-item"};function wt(a,t,e,o,i,r){const l=(0,s.up)("page-title"),c=(0,s.up)("font-awesome-icon"),d=(0,s.up)("v-date-picker"),p=(0,s.up)("no-content");return(0,s.wg)(),(0,s.iD)("div",Da,[(0,s._)("div",ka,[(0,s._)("div",Ca,[(0,s._)("div",Pa,[(0,s.Wm)(l,{title:"Contas","page-icon":"fa-solid fa-receipt",subtitle:"Gerencie suas contas",style:{padding:"20px"}}),(0,s._)("div",Fa,[(0,s._)("div",xa,[(0,s._)("div",$a,[Ta,o.isNegativeAmount?((0,s.wg)(),(0,s.iD)("span",Sa,(0,u.zw)(o.totalAmountAccounts),1)):((0,s.wg)(),(0,s.iD)("span",Aa,(0,u.zw)(o.totalAmountAccounts),1))])])]),(0,s._)("div",Ra,[(0,s._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:t[0]||(t[0]=a=>o.openForm(null))},[(0,s.Wm)(c,{icon:"fa-solid fa-circle-plus"})]),(0,s._)("button",{class:"btn btn-secondary",type:"button",onClick:t[1]||(t[1]=(...a)=>o.openFilter&&o.openFilter(...a))},[(0,s.Wm)(c,{icon:"fa-solid fa-filter"})]),(0,s._)("div",Ma,[(0,s.wy)((0,s._)("select",{onChange:t[2]||(t[2]=(...a)=>o.changeLimitPerPage&&o.changeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>o.data.pagination.limit=a),class:"form-select show-pages"},Wa,544),[[n.bM,o.data.pagination.limit]])])]),(0,s._)("div",{class:(0,u.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,s._)("div",ja,[(0,s._)("div",Oa,[Ua,(0,s._)("div",Ia,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>o.data.filters.description=a),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,s._)("div",Na,[Ea,(0,s.Wm)(d,{modelValue:o.data.filters.range,"onUpdate:modelValue":t[5]||(t[5]=a=>o.data.filters.range=a),mode:"date","is-range":""},{default:(0,s.w5)((({inputValue:a,inputEvents:t,isDragging:e})=>[(0,s._)("div",qa,[(0,s._)("input",(0,s.dG)({class:"form-control",style:{"margin-right":"10px"},value:a.start},(0,s.mx)(t.start,!0)),null,16,Ya),Ha,(0,s._)("input",(0,s.dG)({class:"form-control",value:a.end},(0,s.mx)(t.end,!0)),null,16,Za)])])),_:1},8,["modelValue"])]),(0,s._)("div",Ka,[(0,s._)("button",{type:"button",onClick:t[6]||(t[6]=(...a)=>o.searchFilter&&o.searchFilter(...a)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(c,{icon:"fa-solid fa-search"})])])])],2),(0,s._)("div",Ga,[o.data.contas.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(p,{key:0,message:"Ainda não há contas cadastradas, clique adicionar para cria sua primeira conta"})),o.data.contas.length?((0,s.wg)(),(0,s.iD)("table",Ja,[Qa,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.contas,(a=>((0,s.wg)(),(0,s.iD)("tr",Xa,[(0,s._)("td",{onClick:t=>o.openTransactions(a.id,a.description)},(0,u.zw)(a.description),9,at),(0,s._)("td",{onClick:t=>o.openTransactions(a.id,a.description)},[(0,s._)("span",{class:"badge rounded-pill text-bg-primary",style:(0,u.j5)(`background:${a.accountType.color}!important`)},(0,u.zw)(a.accountType.description),5)],8,tt),a.amount>0?((0,s.wg)(),(0,s.iD)("td",{key:0,onClick:t=>o.openTransactions(a.id,a.description)},[(0,s._)("span",nt,"+"+(0,u.zw)(a.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,et)):a.amount<0?((0,s.wg)(),(0,s.iD)("td",{key:1,onClick:t=>o.openTransactions(a.id,a.description)},[(0,s._)("span",ot,(0,u.zw)(a.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,st)):((0,s.wg)(),(0,s.iD)("td",{key:2,onClick:t=>o.openTransactions(a.id,a.description)},[(0,s._)("span",rt,(0,u.zw)(a.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,it)),(0,s._)("td",{onClick:t=>o.openTransactions(a.id,a.description)},(0,u.zw)(o.formatDateAndHour(a.updated_at)),9,lt),(0,s._)("td",null,[(0,s._)("div",ct,[(0,s._)("button",{type:"button",onClick:t=>o.openForm(a.id),class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(c,{icon:"fa-solid fa-pen-to-square"})],8,dt),(0,s._)("button",{type:"button",onClick:t=>o.deletePrompt(a.description,a.id),class:"btn btn-outline-danger"},[(0,s.Wm)(c,{icon:"fa-solid fa-trash"})],8,ut)])])])))),256))])):(0,s.kq)("",!0)]),o.data.contas.length?((0,s.wg)(),(0,s.iD)("div",pt,[(0,s._)("div",gt,[(0,s._)("nav",mt,[(0,s._)("ul",vt,[(0,s._)("li",bt,[(0,s._)("a",{onClick:t[7]||(t[7]=(0,n.iM)((a=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.pagination.pages,(a=>((0,s.wg)(),(0,s.iD)("li",_t,["..."===a?((0,s.wg)(),(0,s.iD)("span",ft,"...")):((0,s.wg)(),(0,s.iD)("a",{key:1,onClick:(0,n.iM)((t=>o.linkNavigationPage(a)),["prevent"]),class:(0,u.C_)(["page-link",{active:o.data.pagination.current_page===a}]),href:"#"},(0,u.zw)(a),11,ht))])))),256)),(0,s._)("li",yt,[(0,s._)("a",{onClick:t[8]||(t[8]=(0,n.iM)((a=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,s.kq)("",!0)])])])])}const Dt=()=>{C().fire({title:"",text:"Processando aguarde....",icon:"",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1})},kt=(a,t)=>C().fire({title:"",text:"",html:`<h3>${a}</h3>`,icon:t,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0}),Ct=a=>{let t=new Date(a),e=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()<10?"0"+t.getMonth()+1:t.getMonth()+1,s=t.getFullYear(),o=t.getHours()<10?"0"+t.getHours():t.getHours(),i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return`${e}/${n}/${s} ${o}:${i}`},Pt=a=>{let t=new Date(a),e=t.getDate()<10?"0"+t.getDate():t.getDate(),n=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1,s=t.getFullYear();return`${s}-${n}-${e}`},Ft=(a,t,e,n)=>{Dt();let s=`/users/${a}/accounts?limit=${t}&page=${e}`;null!=n.filters.description&&(s=s.concat(`&description=${n.filters.description}`)),s=s.concat(`&initial_date=${Pt(n.filters.range.start)}&end_date=${Pt(n.filters.range.end)}`),V.get(s).then((a=>{C().close(),n.pagination.current_page=a.data.current_page,n.pagination.totalPages=a.data.total_pages,n.pagination.totalRows=a.data.total_rows,n.contas=a.data.items})).catch((a=>{C().close(),kt("Falha ao obter lista de contas","error")}))},xt=(a,t,e)=>{V.get(`/users/${a}/accounts/${t}`).then((a=>{C().close(),e.account.description=a.data.description,e.account.account_type_id=a.data.accountType.id})).catch((a=>{C().close(),kt("Falha ao obter dados da conta","error")}))},$t=(a,t,e)=>{Dt(),V.post(`/users/${a}/accounts`,t.account).then((a=>{kt("Conta cadastrada com sucesso!","success").then((a=>{a.isConfirmed&&e.push({name:"contas"})}))})).catch((a=>{C().close(),kt("Falha ao cadastrar conta!","error")}))},Tt=(a,t,e,n)=>{Dt(),V.put(`/users/${a}/accounts/${t}`,n.account).then((a=>{kt("Conta atualizada com sucesso!","success").then((a=>{a.isConfirmed&&e.push({name:"contas"})}))})).catch((a=>{C().close(),kt("Falha ao atualizar conta","error")}))},St=(a,t,e)=>(Dt(),V["delete"](`/users/${a}/accounts/${t}`).then((t=>{C().close(),Ft(a,e.pagination.limit,e.pagination.current_page,e)})).catch((a=>{console.log(a),C().close(),kt("Falha ao deletar conta","error")}))),At=(a,t,e,n)=>{let s,o=[],i=Math.ceil(t/e),r=Math.ceil(n/2);s=a<=r?"start":i-r<a?"end":"middle";let l=n<i,c=1;while(c<=i&&c<=n){let t=Rt(c,a,n,i),e=2===c&&("middle"===s||"end"===s),r=c===n-1&&("middle"===s||"start"===s);l&&(e||r)?o.push("..."):o.push(t),c++}return o},Rt=(a,t,e,n)=>{var s=Math.ceil(e/2);return a===e?n:1===a?a:e<n?n-s<t?n-e+a:s<t?t-s+a:a:a},Mt={class:"no-content-container"};function zt(a,t,e,n,o,i){return(0,s.wg)(),(0,s.iD)("p",Mt,(0,u.zw)(e.message),1)}var Lt={name:"NoContent",props:["message"]};const Bt=(0,i.Z)(Lt,[["render",zt]]);var Vt=Bt,Wt={components:{PageTitle:_a,NoContent:Vt},setup(){const a=(0,d.tv)(),t=(0,D.qj)({contas:[],isOpenFilter:!0,filters:{range:null,description:null},pagination:{pages:[],limit:10,current_page:1,totalPages:0,totalRows:0}});(0,s.YP)((()=>t.contas),(a=>{t.pagination.current_page>1&&0===a.length&&Ft(z.getters.userData.user_id,t.pagination.limit,t.pagination.current_page-1,t),t.pagination.pages=At(t.pagination.current_page,t.pagination.totalRows,t.pagination.limit,8)}));let e=()=>{t.isOpenFilter?t.isOpenFilter=!1:t.isOpenFilter=!0},n=t=>{null==t?a.push({name:"contas-form"}):a.push({name:"contas-form-edit",params:{id:t}})},o=(a,e)=>{C().fire({title:"Confirmação",text:`Deseja deletar a conta ${a}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&St(z.getters.userData.user_id,e,t)}))};const i=a=>{if("prev"===a&&t.pagination.current_page>1)return t.pagination.current_page-=1,void Ft(z.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t);if("next"===a){if(t.pagination.current_page>=t.pagination.totalPages)return;t.pagination.current_page+=1,Ft(z.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t)}},r=()=>{Ft(z.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t)},l=a=>{Ft(z.getters.userData.user_id,t.pagination.limit,a,t)},c=()=>{null!=t.filters.range?(z.commit("setDateFilterRange",t.filters.range),Ft(z.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t)):C().fire("Informe um periodo no filtro de busca","","error")},u=(t,e)=>{a.push({name:"conta-transaction",params:{id:t}})},p=(0,s.Fl)((()=>{let a=0;return t.contas.forEach((t=>{t.amount<0?a-=-1*t.amount:a+=t.amount})),a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),g=(0,s.Fl)((()=>{let a=0;return t.contas.forEach((t=>{t.amount<0?a-=-1*t.amount:a+=t.amount})),a<0}));return(0,s.bv)((()=>{const a=new Date,e={start:new Date(a.getFullYear(),a.getMonth(),1),end:new Date(a.getFullYear(),a.getMonth()+1,0)};null!=z.getters.getDateFilterRange?t.filters.range=z.getters.getDateFilterRange:(z.commit("setDateFilterRange",e),t.filters.range=e),Ft(z.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t)})),{data:t,openForm:n,openFilter:e,deletePrompt:o,navigatePages:i,changeLimitPerPage:r,linkNavigationPage:l,searchFilter:c,openTransactions:u,formatDateAndHour:Ct,totalAmountAccounts:p,isNegativeAmount:g}}};const jt=(0,i.Z)(Wt,[["render",wt],["__scopeId","data-v-16718358"]]);var Ot=jt;const Ut=a=>((0,s.dD)("data-v-73b47434"),a=a(),(0,s.Cn)(),a),It={class:"conta-form-view page-content"},Nt={class:"row"},Et={class:"col-12"},qt={class:"card form-page-card"},Yt={class:"card-body page-card-body"},Ht={class:"mb-3"},Zt=Ut((()=>(0,s._)("label",{for:"description",class:"form-label"},"Descrição",-1))),Kt={class:"mb-3"},Gt=Ut((()=>(0,s._)("label",{for:"accounttype",class:"form-label"},"Tipo de conta",-1))),Jt=Ut((()=>(0,s._)("option",{value:""},"Selecione um tipo de conta",-1))),Qt=["value"],Xt={class:"mb-3"};function ae(a,t,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("page-title");return(0,s.wg)(),(0,s.iD)("div",It,[(0,s.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/contas"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,s.Uk)(" Voltar")])),_:1}),(0,s._)("div",Nt,[(0,s._)("div",Et,[(0,s._)("div",qt,[(0,s.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,s._)("div",Yt,[(0,s._)("form",null,[(0,s._)("div",Ht,[Zt,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>o.data.account.description=a),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.account.description]])]),(0,s._)("div",Kt,[Gt,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=a=>o.data.account.account_type_id=a),"aria-label":"Default select example"},[Jt,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.accountTypes,(a=>((0,s.wg)(),(0,s.iD)("option",{value:a.id},(0,u.zw)(a.description),9,Qt)))),256))],512),[[n.bM,o.data.account.account_type_id]])]),(0,s._)("div",Xt,[(0,s._)("button",{style:{"margin-right":"10px"},onClick:t[2]||(t[2]=(...a)=>o.submit&&o.submit(...a)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,s._)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>o.backPage&&o.backPage(...a)),class:"btn btn-secondary"},"Cancelar")])])])])])])])}const te=a=>(Dt(),V.get("/account-types").then((t=>{C().close(),a.accountTypes=t.data})).catch((a=>{C().fire("Falha ao obter lista de tipos de contas","","error")})));var ee={components:{PageTitle:_a},setup(){const a=(0,d.tv)(),t=(0,d.yj)(),e=(0,D.qj)({pageTitle:"",subtitle:"",accountTypes:[],account:{description:"",account_type_id:""}}),n=()=>{a.push({name:"contas"})},o=()=>{e.account.description?e.account.account_type_id?null!=t.params.id?(console.log("caiu errado no update"),Tt(z.getters.userData.user_id,t.params.id,a,e)):$t(z.getters.userData.user_id,e,a):C().fire("Atenção","Selecione um tipo de conta","warning",""):C().fire("Atenção","Preencha o campo Descrição","warning","")};return(0,s.bv)((()=>{if(null!=t.params.id)return e.pageTitle="Editar conta",e.subtitle="Edite sua conta",te(e),void xt(z.getters.userData.user_id,t.params.id,e);e.pageTitle="Nova conta",e.subtitle="Preencha o formulário abaixo para criar uma nova conta",te(e)})),{data:e,backPage:n,submit:o}}};const ne=(0,i.Z)(ee,[["render",ae],["__scopeId","data-v-73b47434"]]);var se=ne;const oe={class:"page-view page-content"},ie={class:"card page-card"},re={key:0,class:"alert alert-primary label-top"},le={class:"row"},ce={class:"col-3"},de={class:"tipo-transacao-label"},ue={key:0,class:"value-label negative-label"},pe={key:1,class:"value-label positive-label"},ge={class:"col-3"},me=(0,s._)("h4",{class:"tipo-transacao-label"},"Saldo",-1),ve={key:0,class:"value-label negative-label"},be={key:1,class:"value-label positive-label"},_e={key:2,class:"value-label normal-label"},fe={class:"page-action"},he={class:"show-per-page"},ye=(0,s._)("option",{value:"5"},"5",-1),we=(0,s._)("option",{value:"10"},"10",-1),De=(0,s._)("option",{value:"50"},"50",-1),ke=(0,s._)("option",{value:"100"},"100",-1),Ce=[ye,we,De,ke],Pe={class:"row"},Fe={class:"col-4"},xe=(0,s._)("label",{class:"form-label"},"Descrição",-1),$e={class:"input-group"},Te={class:"col-4"},Se=(0,s._)("label",{class:"form-label"},"Data",-1),Ae={style:{display:"flex"}},Re=["value"],Me=(0,s._)("span",{style:{padding:"10px"}},"até",-1),ze=["value"],Le={class:"col-2"},Be={class:"card-body page-card-body"},Ve={key:1,class:"table"},We=(0,s._)("tr",{class:"page-table-header"},[(0,s._)("th",null,"Descrição"),(0,s._)("th",null,"Data"),(0,s._)("th",null,"Tipo"),(0,s._)("th",null,"Categoria"),(0,s._)("th",null,"Valor"),(0,s._)("th",null,"Parcelado"),(0,s._)("th",null,"Qtd.Parcelas"),(0,s._)("th",null,"N.Parcela"),(0,s._)("th")],-1),je={class:"page-table-row"},Oe={key:0},Ue={class:"badge rounded-pill text-bg-primary",style:{background:"#3c9536!important"}},Ie={key:1},Ne={class:"badge rounded-pill text-bg-primary",style:{background:"#a81616!important"}},Ee={key:2},qe={class:"positive-label"},Ye={key:3},He={class:"negative-label"},Ze={class:"row-btn-actions"},Ke=["onClick"],Ge=["onClick"],Je={key:1,class:"row",style:{padding:"20px"}},Qe={class:"col-12"},Xe={"aria-label":"Page navigation example"},an={class:"pagination"},tn={class:"page-item"},en={class:"page-item"},nn={key:0,class:"page-link"},sn=["onClick"],on={class:"page-item"};function rn(a,t,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("page-title"),p=(0,s.up)("v-date-picker"),g=(0,s.up)("no-content");return(0,s.wg)(),(0,s.iD)("div",oe,[(0,s.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/contas"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,s.Uk)(" Voltar")])),_:1}),(0,s._)("div",ie,[(0,s.Wm)(d,{title:`Transações - ${o.data.accountDetails.description}`,subtitle:`Tipo - ${o.data.accountDetails.type}`,"page-icon":"fa-solid fa-receipt"},null,8,["title","subtitle"]),o.data.statistics.length?((0,s.wg)(),(0,s.iD)("div",re,[(0,s._)("div",le,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.statistics,(a=>((0,s.wg)(),(0,s.iD)("div",ce,[(0,s._)("h4",de,(0,u.zw)(a.description),1),"Despesa"===a.description?((0,s.wg)(),(0,s.iD)("span",ue,(0,u.zw)((a.total/100*-1).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)):((0,s.wg)(),(0,s.iD)("span",pe,(0,u.zw)((a.total/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1))])))),256)),(0,s._)("div",ge,[me,o.IsNegativeAmount?((0,s.wg)(),(0,s.iD)("span",ve,(0,u.zw)(o.calculatedAmount),1)):a.isNegativeAmount?((0,s.wg)(),(0,s.iD)("span",_e,(0,u.zw)(o.calculatedAmount),1)):((0,s.wg)(),(0,s.iD)("span",be,(0,u.zw)(o.calculatedAmount),1))])])])):(0,s.kq)("",!0),(0,s._)("div",fe,[(0,s._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:t[0]||(t[0]=a=>o.openForm(null))},[(0,s.Wm)(l,{icon:"fa-solid fa-circle-plus"})]),(0,s._)("button",{class:"btn btn-secondary",type:"button",onClick:t[1]||(t[1]=(...a)=>o.openFilter&&o.openFilter(...a))},[(0,s.Wm)(l,{icon:"fa-solid fa-filter"})]),(0,s._)("div",he,[(0,s.wy)((0,s._)("select",{onChange:t[2]||(t[2]=(...a)=>o.changeLimitPerPage&&o.changeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>o.data.pagination.limit=a),class:"form-select show-pages"},Ce,544),[[n.bM,o.data.pagination.limit]])])]),(0,s._)("div",{class:(0,u.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,s._)("div",Pe,[(0,s._)("div",Fe,[xe,(0,s._)("div",$e,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>o.data.filters.description=a),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,s._)("div",Te,[Se,(0,s.Wm)(p,{modelValue:o.data.filters.range,"onUpdate:modelValue":t[5]||(t[5]=a=>o.data.filters.range=a),mode:"date","is-range":""},{default:(0,s.w5)((({inputValue:a,inputEvents:t,isDragging:e})=>[(0,s._)("div",Ae,[(0,s._)("input",(0,s.dG)({class:"form-control",style:{"margin-right":"10px"},value:a.start},(0,s.mx)(t.start,!0)),null,16,Re),Me,(0,s._)("input",(0,s.dG)({class:"form-control",value:a.end},(0,s.mx)(t.end,!0)),null,16,ze)])])),_:1},8,["modelValue"])]),(0,s._)("div",Le,[(0,s._)("button",{type:"button",onClick:t[6]||(t[6]=(...a)=>o.searchFilter&&o.searchFilter(...a)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(l,{icon:"fa-solid fa-search"})])])])],2),(0,s._)("div",Be,[o.data.transactions.length?((0,s.wg)(),(0,s.iD)("table",Ve,[We,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.transactions,(a=>((0,s.wg)(),(0,s.iD)("tr",je,[(0,s._)("td",null,(0,u.zw)(a.description),1),(0,s._)("td",null,(0,u.zw)(a.date),1),"receita"===a.transaction_type.slug_name?((0,s.wg)(),(0,s.iD)("td",Oe,[(0,s._)("span",Ue,(0,u.zw)(a.transaction_type.description),1)])):((0,s.wg)(),(0,s.iD)("td",Ie,[(0,s._)("span",Ne,(0,u.zw)(a.transaction_type.description),1)])),(0,s._)("td",null,(0,u.zw)(a.category.description),1),"receita"===a.transaction_type.slug_name?((0,s.wg)(),(0,s.iD)("td",Ee,[(0,s._)("span",qe,"+ "+(0,u.zw)(a.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])):((0,s.wg)(),(0,s.iD)("td",Ye,[(0,s._)("span",He," - "+(0,u.zw)(a.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])),(0,s._)("td",null,(0,u.zw)(a.installment?"Sim":"Não"),1),(0,s._)("td",null,(0,u.zw)(null==a.amount_installment?"-":a.amount_installment),1),(0,s._)("td",null,(0,u.zw)(null==a.current_installment?"-":a.current_installment),1),(0,s._)("td",null,[(0,s._)("div",Ze,[(0,s._)("button",{type:"button",onClick:t=>o.openForm(a.id),class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(l,{icon:"fa-solid fa-pen-to-square"})],8,Ke),(0,s._)("button",{type:"button",onClick:t=>o.deletePrompt(a.description,a.id),class:"btn btn-outline-danger"},[(0,s.Wm)(l,{icon:"fa-solid fa-trash"})],8,Ge)])])])))),256))])):((0,s.wg)(),(0,s.j4)(g,{key:0,message:"Ainda não há transações para esta conta"}))]),o.data.transactions.length?((0,s.wg)(),(0,s.iD)("div",Je,[(0,s._)("div",Qe,[(0,s._)("nav",Xe,[(0,s._)("ul",an,[(0,s._)("li",tn,[(0,s._)("a",{onClick:t[7]||(t[7]=(0,n.iM)((a=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.pagination.pages,(a=>((0,s.wg)(),(0,s.iD)("li",en,["..."===a?((0,s.wg)(),(0,s.iD)("span",nn,"...")):((0,s.wg)(),(0,s.iD)("a",{key:1,onClick:(0,n.iM)((t=>o.linkNavigationPage(a)),["prevent"]),class:(0,u.C_)(["page-link",{active:o.data.pagination.current_page===a}]),href:"#"},(0,u.zw)(a),11,sn))])))),256)),(0,s._)("li",on,[(0,s._)("a",{onClick:t[8]||(t[8]=(0,n.iM)((a=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,s.kq)("",!0)])])}const ln=(a,t,e)=>{Dt(),V.get(`/users/${a}/accounts/${t}`).then((a=>{C().close(),e.accountDetails.description=a.data.description,e.accountDetails.type=a.data.accountType.description})).catch((a=>{C().close(),kt("Falha ao obter dados da conta","error")}))},cn=(a,t,e)=>{Dt();let n=`/users/${a}/accounts/${t}/transactions?limit=${e.pagination.limit}&page=${e.pagination.current_page}&initial_date=${Pt(e.filters.range.start)}&end_date=${Pt(e.filters.range.end)}`;null!=e.filters.description&&(n=n.concat(`&description=${e.filters.description}`)),V.get(n).then((a=>{C().close(),e.pagination.current_page=a.data.current_page,e.pagination.totalPages=a.data.total_pages,e.pagination.totalRows=a.data.total_rows,e.transactions=a.data.items,e.statistics=a.data.statistic.reverse()})).catch((a=>{C().close(),kt("Falha ao obter transações","error")}))},dn=(a,t,e,n)=>{V.get(`/users/${a}/accounts/${t}/transactions/${e}`).then((a=>{C().close(),n.transaction.description=a.data.description,n.transaction.transaction_type=a.data.transaction_type.id,n.transaction.transaction_category=a.data.category.id,n.transaction.date=a.data.date.split("/").reverse().join("-"),n.transaction.amount=a.data.amount,console.log(a.data)})).catch((a=>{C().close(),kt("Falha ao obter dados da transacao","error")}))},un=(a,t,e,n)=>(Dt(),V["delete"](`/users/${a}/accounts/${t}/transactions/${e}`).then((e=>{C().close(),cn(a,t,n)})).catch((a=>{C().close(),kt("Falha ao deletar transação","error")}))),pn=(a,t,e,n)=>{Dt();let s=e.transaction;"false"===s.installment&&(delete s["installment"],delete s["amount_installments"]),s.amount=100*s.amount,V.post(`/users/${a}/accounts/${t}/transactions`,s).then((a=>{kt("Transação cadastrada com sucesso!","success").then((a=>{a.isConfirmed&&n.push({name:"conta-transaction",params:{id:t}})}))})).catch((a=>{C().close(),kt("Falha ao cadastrar transação!","error")}))},gn=(a,t,e,n,s)=>{Dt();let o=n.transaction;delete o["installment"],delete o["amount_installments"],o.amount=100*o.amount,V.put(`/users/${a}/accounts/${t}/transactions/${e}`,o).then((a=>{kt("Transação atualizada com sucesso!","success").then((a=>{a.isConfirmed&&s.push({name:"conta-transaction",params:{id:t}})}))})).catch((a=>{C().close(),kt("Falha ao atualizar transação!","error")}))};var mn={name:"Transaction",components:{PageTitle:_a,NoContent:Vt},setup(){const a=(0,d.yj)(),t=(0,d.tv)();let e=(0,D.qj)({transactions:[],statistics:[],accountDetails:{description:null,type:null},isOpenFilter:!0,filters:{range:"",description:""},pagination:{pages:[],limit:10,current_page:1,totalPages:0,totalRows:0}});(0,s.YP)((()=>e.transactions),(t=>{e.pagination.current_page>1&&0===t.length&&(e.pagination.current_page-=1,cn(z.getters.userData.user_id,a.params.id,e)),e.pagination.pages=At(e.pagination.current_page,e.pagination.totalRows,e.pagination.limit,8)}));const n=t=>{if("prev"===t&&e.pagination.current_page>1)return e.pagination.current_page-=1,void cn(z.getters.userData.user_id,a.params.id,e);if("next"===t){if(e.pagination.current_page>=e.pagination.totalPages)return;e.pagination.current_page+=1,cn(z.getters.userData.user_id,a.params.id,e)}},o=t=>{e.pagination.current_page=t,cn(z.getters.userData.user_id,a.params.id,e)},i=()=>{cn(z.getters.userData.user_id,a.params.id,e)};let r=(t,n)=>{C().fire({title:"Confirmação",text:`Deseja deletar a transação descrita como ${t}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&un(z.getters.userData.user_id,a.params.id,n,e)}))},l=()=>{e.isOpenFilter?e.isOpenFilter=!1:e.isOpenFilter=!0},c=a=>{null==a?t.push({name:"conta-transaction-new"}):t.push({name:"conta-transaction-edit",params:{id_transaction:a}})};const u=(0,s.Fl)((()=>{let a=0,t=0,n=e.statistics;for(let e=0;e<n.length;e++)"Despesa"===n[e].description?t=-1*n[e].total:a=n[e].total;let s=a+t;return(s/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),p=(0,s.Fl)((()=>{let a=0,t=0,n=e.statistics.reverse();for(let e=0;e<n.length;e++)"Despesa"===n[e].description?t=-1*n[e].total:a=n[e].total;let s=a+t;return s<0})),g=()=>{null!=e.filters.range?cn(z.getters.userData.user_id,a.params.id,e):kt("Preencha os filtros de data","error")};return(0,s.bv)((()=>{const t=new Date,n={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)};null!=z.getters.getDateFilterRange?e.filters.range=z.getters.getDateFilterRange:(z.commit("setDateFilterRange",n),e.filters.range=n),ln(z.getters.userData.user_id,a.params.id,e),cn(z.getters.userData.user_id,a.params.id,e)})),{data:e,linkNavigationPage:o,navigatePages:n,changeLimitPerPage:i,openFilter:l,deletePrompt:r,openForm:c,calculatedAmount:u,IsNegativeAmount:p,searchFilter:g}}};const vn=(0,i.Z)(mn,[["render",rn]]);var bn=vn;const _n=a=>((0,s.dD)("data-v-7d355106"),a=a(),(0,s.Cn)(),a),fn={class:"conta-form-view page-content"},hn={class:"row"},yn={class:"col-12"},wn={class:"card form-page-card"},Dn={class:"card-body page-card-body"},kn={class:"row space-rows"},Cn={class:"col-6"},Pn=_n((()=>(0,s._)("label",{for:"description",class:"form-label"},"Descrição",-1))),Fn={class:"col-6"},xn=_n((()=>(0,s._)("label",{for:"date",class:"form-label"},"Data",-1))),$n={class:"row space-rows"},Tn={class:"col-6"},Sn=_n((()=>(0,s._)("label",{for:"tipo",class:"form-label"},"Tipo",-1))),An=_n((()=>(0,s._)("option",{value:""},"Selecione um tipo",-1))),Rn=["value"],Mn={class:"col-6"},zn=_n((()=>(0,s._)("label",{for:"valor",class:"form-label"},"Valor",-1))),Ln={class:"row space-rows"},Bn={class:"col-6"},Vn=_n((()=>(0,s._)("label",{for:"categoria",class:"form-label"},"Categoria",-1))),Wn=["disabled"],jn=_n((()=>(0,s._)("option",{value:""},"Selecione uma categoria",-1))),On=["value"],Un={key:0,class:"col-3"},In=_n((()=>(0,s._)("label",{for:"categoria",class:"form-label"},"Parcelamento ?",-1))),Nn=_n((()=>(0,s._)("option",{value:"false"},"Não",-1))),En=_n((()=>(0,s._)("option",{value:"true"},"Sim",-1))),qn=[Nn,En],Yn={key:1,class:"col-1"},Hn=_n((()=>(0,s._)("label",{for:"parcelas",class:"form-label"},"Parcelas",-1))),Zn=["disabled"],Kn={class:"row"},Gn={class:"mb-3"};function Jn(a,t,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("page-title"),p=(0,s.up)("CurrencyInput");return(0,s.wg)(),(0,s.iD)("div",fn,[(0,s.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:`/app/conta/${a.$route.params.id}/transaction`},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,s.Uk)(" Voltar")])),_:1},8,["to"]),(0,s._)("div",hn,[(0,s._)("div",yn,[(0,s._)("div",wn,[(0,s.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,s._)("div",Dn,[(0,s._)("form",null,[(0,s._)("div",kn,[(0,s._)("div",Cn,[Pn,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>o.data.transaction.description=a),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.transaction.description]])]),(0,s._)("div",Fn,[xn,(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=a=>o.data.transaction.date=a),class:"form-control",id:"date",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.transaction.date]])])]),(0,s._)("div",$n,[(0,s._)("div",Tn,[Sn,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=a=>o.data.transaction.transaction_type=a)},[An,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.transactionTypes,(a=>((0,s.wg)(),(0,s.iD)("option",{value:a.id},(0,u.zw)(a.description),9,Rn)))),256))],512),[[n.bM,o.data.transaction.transaction_type]])]),(0,s._)("div",Mn,[zn,(0,s.Wm)(p,{options:{currency:"BRL"},modelValue:o.data.transaction.amount,"onUpdate:modelValue":t[3]||(t[3]=a=>o.data.transaction.amount=a),class:"form-control"},null,8,["modelValue"])])]),(0,s._)("div",Ln,[(0,s._)("div",Bn,[Vn,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=a=>o.data.transaction.transaction_category=a),disabled:o.data.selectStates.categoryDisable},[jn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.transactionCategories,(a=>((0,s.wg)(),(0,s.iD)("option",{value:a.id},(0,u.zw)(a.description),9,On)))),256))],8,Wn),[[n.bM,o.data.transaction.transaction_category]])]),o.data.disableInstallment?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Un,[In,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=a=>o.data.transaction.installment=a)},qn,512),[[n.bM,o.data.transaction.installment]])])),o.data.disableInstallment?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Yn,[Hn,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=a=>o.data.transaction.amount_installments=a),class:"form-control",disabled:o.data.selectStates.installmentDisable,id:"parcelas",placeholder:"Parcelas","aria-describedby":"descriptionHelp"},null,8,Zn),[[n.nr,o.data.transaction.amount_installments]])]))]),(0,s._)("div",Kn,[(0,s._)("div",Gn,[(0,s._)("button",{style:{"margin-right":"10px"},onClick:t[7]||(t[7]=(...a)=>o.submit&&o.submit(...a)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,s._)("button",{type:"button",onClick:t[8]||(t[8]=(...a)=>o.backPage&&o.backPage(...a)),class:"btn btn-secondary"},"Cancelar")])])])])])])])])}const Qn=a=>(Dt(),V.get("/transaction-types").then((t=>{C().close(),a.transactionTypes=t.data})).catch((a=>{C().fire("Falha ao obter lista de tipos de transações","","error")}))),Xn=a=>(Dt(),V.get(`/transaction-categories?transaction_type_id=${a.transaction.transaction_type}`).then((t=>{C().close(),a.transactionCategories=t.data})).catch((a=>{C().fire("Falha ao obter lista de categorias","","error")}))),as={ref:"inputRef",type:"text"};function ts(a,t,e,n,o,i){return(0,s.wg)(),(0,s.iD)("input",as,null,512)}var es=e(7613),ns={name:"CurrencyInput",props:{modelValue:Number,options:Object},setup(a){const{inputRef:t,setValue:e}=(0,es.Er)(a.options);return(0,s.YP)((()=>a.modelValue),(a=>{e(a)})),{inputRef:t}}};const ss=(0,i.Z)(ns,[["render",ts]]);var os=ss,is={components:{CurrencyInput:os,PageTitle:_a},setup(){const a=(0,d.tv)(),t=(0,d.yj)(),e=(0,D.qj)({pageTitle:"",subtitle:"",transactionTypes:[],transactionCategories:[],disableInstallment:!1,inputLabels:["Descrição","Data","Tipo","Valor","Categoria","Quantidade"],selectStates:{categoryDisable:!0,installmentDisable:!0},transaction:{description:"",date:"",transaction_type:"",amount:null,transaction_category:"",installment:"false",amount_installments:0}}),n=()=>{a.push({name:"conta-transaction",params:{id:t.params.id}})},o=()=>{let n=Object.getOwnPropertyNames(e.transaction);for(let a=0;a<n.length;a++){if(""===e.transaction[n[a]]||null==e.transaction[n[a]])return void kt(`Preencha o campo ${e.inputLabels[a]}`,"error");if("installment"===n[a]&&"true"===e.transaction["installment"]&&0===e.transaction.amount_installments&&!1===e.disableInstallment)return void kt("Numero de parcelas inválido","error")}null!=t.params.id_transaction?gn(z.getters.userData.user_id,t.params.id,t.params.id_transaction,e,a):pn(z.getters.userData.user_id,t.params.id,e,a)};return(0,s.YP)((()=>e.transaction.transaction_type),(a=>{if(""===a)return e.selectStates.categoryDisable=!0,void(e.transactionCategories=[]);e.selectStates.categoryDisable=!1,Xn(e)})),(0,s.YP)((()=>e.transaction.installment),(a=>{"true"!==a?(e.transaction.amount_installments=0,e.selectStates.installmentDisable=!0):e.selectStates.installmentDisable=!1})),(0,s.bv)((()=>{if(Qn(e),null!=t.params.id_transaction)return e.pageTitle="Editar Transação",e.subtitle="Edite sua transação",e.disableInstallment=!0,void dn(z.getters.userData.user_id,t.params.id,t.params.id_transaction,e);e.disableInstallment=!1,e.pageTitle="Nova Transação",e.subtitle="Preencha o formulário abaixo para criar uma nova transação"})),{data:e,backPage:n,submit:o}}};const rs=(0,i.Z)(is,[["render",Jn],["__scopeId","data-v-7d355106"]]);var ls=rs;const cs=[{path:"/",name:"login",component:I},{path:"/app",name:"home",component:aa,redirect:"app/dashboard",children:[{path:"/app/dashboard",name:"dashboard",component:ya},{path:"/app/contas",name:"contas",component:Ot},{path:"/app/contas/new",name:"contas-form",component:se},{path:"/app/contas/edit/:id",name:"contas-form-edit",component:se},{path:"/app/conta/:id/transaction",name:"conta-transaction",component:bn},{path:"/app/conta/:id/transaction/new",name:"conta-transaction-new",component:ls},{path:"/app/conta/:id/transaction/edit/:id_transaction",name:"conta-transaction-edit",component:ls}]}],ds=(0,d.p7)({history:(0,d.r5)(),routes:cs,linkActiveClass:"active",linkExactActiveClass:"active"});ds.beforeEach(((a,t)=>{if("login"!=a.name){let a=z.getters.userData;if(!z.getters.isAuth)return ds.push({name:"login"});if(""===a.token||!a.hasOwnProperty("token"))return ds.push({name:"login"});j(a.token).then((a=>{})).catch((a=>(z.commit("clearState"),ds.push({name:"login"}))))}}));var us=ds,ps=(e(5654),e(3494)),gs=e(7749),ms=e(8539),vs=e(1430);ps.vI.add(ms.J9Y,ms.dLy,ms.LjC,ms.mXR,ms.Ma4,ms.KtF,ms.G_j,ms.Yai,ms.$aW,ms.wn1,ms.acZ,ms.eFW),(0,n.ri)(c).use(z).use(vs.ZP).component("font-awesome-icon",gs.GN).use(us).mount("#app")},2480:function(){}},t={};function e(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return a[n].call(o.exports,o,o.exports,e),o.exports}e.m=a,function(){var a=[];e.O=function(t,n,s,o){if(!n){var i=1/0;for(d=0;d<a.length;d++){n=a[d][0],s=a[d][1],o=a[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(e.O).every((function(a){return e.O[a](n[l])}))?n.splice(l--,1):(r=!1,o<i&&(i=o));if(r){a.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=a.length;d>0&&a[d-1][2]>o;d--)a[d]=a[d-1];a[d]=[n,s,o]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var n in t)e.o(t,n)&&!e.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){e.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={143:0};e.O.j=function(t){return 0===a[t]};var t=function(t,n){var s,o,i=n[0],r=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==a[t]}))){for(s in r)e.o(r,s)&&(e.m[s]=r[s]);if(l)var d=l(e)}for(t&&t(n);c<i.length;c++)o=i[c],e.o(a,o)&&a[o]&&a[o][0](),a[o]=0;return e.O(d)},n=self["webpackChunkfinanceiro_front"]=self["webpackChunkfinanceiro_front"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(8977)}));n=e.O(n)})();
//# sourceMappingURL=app.ec832f9c.js.map