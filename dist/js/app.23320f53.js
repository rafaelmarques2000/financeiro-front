(function(){var t={1123:function(t,a,e){"use strict";var n=e(9242),i=e(3396);function o(t,a){const e=(0,i.up)("router-view");return(0,i.wg)(),(0,i.j4)(e)}var s=e(89);const r={},l=(0,s.Z)(r,[["render",o]]);var c=l,d=(e(7658),e(2483)),p=e(7139);const u=t=>((0,i.dD)("data-v-556cf216"),t=t(),(0,i.Cn)(),t),g={class:"login-view"},m={class:"login-form-content"},_={class:"logo-content"},b=u((()=>(0,i._)("h4",{class:"sub-title"},"Seja bem vindo, insira suas credencias para começar",-1))),f={class:"login-form"},v={class:"form-field-content",id:"userfield"},y={class:"form-field-content"},h=["disabled"],w=u((()=>(0,i._)("div",{class:"login-right-content"},null,-1)));function D(t,a,e,o,s,r){const l=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("div",g,[(0,i._)("div",m,[(0,i._)("div",_,[(0,i._)("h1",null,[(0,i.Wm)(l,{icon:"fa-solid fa-sack-dollar"}),(0,i.Uk)(" Graninha 3.0")])]),b,(0,i._)("div",f,[(0,i._)("form",null,[(0,i._)("div",v,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.username=t),placeholder:"Usuário"},null,512),[[n.nr,o.data.username]])]),(0,i._)("div",y,[(0,i.wy)((0,i._)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.password=t),placeholder:"Senha"},null,512),[[n.nr,o.data.password]])]),(0,i._)("button",{disabled:o.data.disabledBtnLogin,onClick:a[2]||(a[2]=(...t)=>o.authSubmit&&o.authSubmit(...t)),class:"login-btn",type:"button"},(0,p.zw)(o.data.buttonMsg),9,h)])])]),w])}var k=e(4870),C=e(2492),P=e.n(C),F=e(65),x=e(5103),T=e(8082),R=e.n(T),L=e(680);const M="state",S="state",$=L.Z.get(M)||"dcefb8d7-17dd-45cd-8123-91e92b7fc52c",A=new x.ZP({storage:{getItem:()=>{const t=window.localStorage.getItem(S);if(t)try{const a=R().AES.decrypt(t,$);return JSON.parse(a.toString(R().enc.Utf8))}catch(a){window.localStorage.removeItem(S)}return null},setItem:(t,a)=>{const e=R().AES.encrypt(a,$).toString();return window.localStorage.setItem(S,e)},removeItem:()=>window.localStorage.removeItem(S)}});var z=(0,F.MT)({state:{isAuth:!1,userData:{},metadata:{},lastRoute:null,filters:{range:null,description:null}},getters:{isAuth(t){return t.isAuth},userData(t){return t.userData},metadata(t){return t.metadata},getFirstDate(t){return t.filters.firstDate},getLastDate(t){return t.filters.lastDate},getDateFilterRange(t){return t.filters.range},getFilterDescription(t){return t.filters.description},getLastRoute(t){return t.lastRoute}},mutations:{enableAuth(t){t.isAuth=!0},disabledAuth(t){t.isAuth=!1},setUserData(t,a){t.userData=a},clearState(t){t.isAuth=!1,t.userData={},t.filters={range:null,description:null}},setMetadata(t,a){t.metadata=a},setFirstDate(t,a){t.filters.firstDate=a},setLastDate(t,a){t.filters.lastDate=a},setDateFilterRange(t,a){t.filters.range=a},setFilterDescription(t,a){t.filters.description=a},setLastRoute(t,a){t.lastRoute=a}},plugins:[A.plugin]}),B=e(70);let W={baseURL:"http://192.168.0.252:8080/api/v1",headers:{}};z.getters.isAuth&&(W.headers={Authorization:`bearer ${z.getters.userData.token}`});var V=B.ZP.create(W);const I=t=>V.post("/auth",{username:t.username,password:t.password}),Y=t=>V.post("/check-token",{token:t});var j={setup(){const t=(0,d.tv)(),a=(0,k.qj)({username:null,password:null,disabledBtnLogin:!1,buttonMsg:"Entrar"}),e=()=>{a.username?a.password?(a.disabledBtnLogin=!0,a.buttonMsg="Processando Aguarde...",I(a).then((e=>{a.disabledBtnLogin=!1,a.buttonMsg="Entrar",z.commit("enableAuth"),z.commit("setUserData",e.data),t.push({name:"home"})})).catch((t=>{P().fire(t.response.data.message,"","error"),a.disabledBtnLogin=!1,a.buttonMsg="Entrar"}))):P().fire("Atenção","Preencha o campo Senha","warning",""):P().fire("Atenção","Preencha o campo Usuário","warning","")};return(0,i.bv)((()=>{})),{data:a,authSubmit:e}}};const U=(0,s.Z)(j,[["render",D],["__scopeId","data-v-556cf216"]]);var q=U;const O={class:"home-view"},N={class:"home-fluid"},E={class:"home-navbar"},H={class:"logo"},Z={class:"sidebar-menu"},K={class:"menu-nav-container"},G={class:"content-center"};function Q(t,a,e,o,s,r){const l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",O,[(0,i._)("div",N,[(0,i._)("nav",E,[(0,i._)("div",H,[(0,i._)("h1",null,[(0,i.Wm)(l,{icon:"fa-solid fa-sack-dollar"}),(0,i.Uk)(" Graninha 3.0")])]),(0,i._)("nav",Z,[(0,i._)("ul",null,[(0,i._)("li",null,[(0,i.Wm)(c,{to:"/app/dashboard",class:(0,p.C_)({"active-nav-menu":"dashboard"===o.ReactiveData.page})},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-chart-line"}),(0,i.Uk)(" Dash")])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(c,{to:"/app/contas",class:(0,p.C_)({"active-nav-menu":"contas"===o.ReactiveData.page})},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-receipt"}),(0,i.Uk)(" Contas")])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(c,{to:"/app/cartoes",class:(0,p.C_)({"active-nav-menu":"cartoes"===o.ReactiveData.page})},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-credit-card"}),(0,i.Uk)(" Cartões")])),_:1},8,["class"])]),(0,i._)("li",null,[(0,i.Wm)(c,{to:"/app/poupanca",class:(0,p.C_)({"active-nav-menu":"poupanca"===o.ReactiveData.page})},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-piggy-bank"}),(0,i.Uk)(" Cofrinhos")])),_:1},8,["class"])])])]),(0,i._)("div",K,[(0,i._)("a",{href:"",onClick:a[0]||(a[0]=(0,n.iM)(((...t)=>o.confirmAppExit&&o.confirmAppExit(...t)),["prevent"])),class:"btn btn-danger btn-exit"},[(0,i.Wm)(l,{icon:"fa-solid fa-right-from-bracket"}),(0,i.Uk)(" Sair")])])]),(0,i._)("div",G,[(0,i.Wm)(d,null,{default:(0,i.w5)((({Component:t})=>[(0,i.Wm)(n.uT,{name:"slideback"},{default:(0,i.w5)((()=>[((0,i.wg)(),(0,i.j4)((0,i.LL)(t)))])),_:2},1024)])),_:1})])])])}const J=(0,k.qj)({page:""});var X={setup(){const t=(0,d.tv)(),a=((0,d.yj)(),()=>{P().fire({title:"Confirmação",text:"Deseja sair do sistema ? ",icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&(z.commit("clearState"),t.push({name:"login"}))}))});return{ReactiveData:J,confirmAppExit:a}}};const tt=(0,s.Z)(X,[["render",Q],["__scopeId","data-v-191a25ba"]]);var at=tt;const et=t=>((0,i.dD)("data-v-7beceb0b"),t=t(),(0,i.Cn)(),t),nt={class:"inicio-view page-content"},it={class:"row",style:{"margin-bottom":"32px"}},ot={class:"col-12"},st=et((()=>(0,i._)("ul",{class:"nav nav-tabs",id:"myTab",role:"tablist"},[(0,i._)("li",{class:"nav-item",role:"presentation"},[(0,i._)("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#anual",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"},"Graficos Anuais")]),(0,i._)("li",{class:"nav-item",role:"presentation"},[(0,i._)("button",{class:"nav-link",id:"profile-tab","data-bs-toggle":"tab","data-bs-target":"#mensal",type:"button",role:"tab","aria-controls":"profile","aria-selected":"false"},"Graficos Mensais")])],-1))),rt={class:"tab-content",id:"tabdash"},lt={class:"tab-pane fade show active",id:"anual",role:"tabpanel","aria-labelledby":"home-tab"},ct={class:"row"},dt={class:"col-12 home-filter"},pt={class:"row"},ut={class:"col-12"},gt={class:"card cards-content-chart"},mt=et((()=>(0,i._)("h1",{class:"chart-content-title"},"Resultado anual",-1))),_t=et((()=>(0,i._)("div",{id:"barChart_1"},null,-1))),bt=et((()=>(0,i._)("div",{id:"chart-bar-legend"},null,-1))),ft={class:"tab-pane fade",id:"mensal",role:"tabpanel","aria-labelledby":"profile-tab"},vt={class:"row"},yt={class:"col-12 home-filter"},ht={style:{display:"flex"}},wt=["value"],Dt=et((()=>(0,i._)("span",{style:{padding:"10px"}},"até",-1))),kt=["value"],Ct={class:"row"},Pt={class:"col-6"},Ft={class:"card cards-content-chart"},xt=et((()=>(0,i._)("h1",{class:"chart-content-title"},"Gastos por categoria",-1))),Tt={class:"chart-pie-content",style:{"justify-content":"center","min-height":"300px","margin-bottom":"30px"}},Rt=et((()=>(0,i._)("div",{id:"bar-chart"},null,-1))),Lt=et((()=>(0,i._)("div",{id:"chart-pie-legend"},null,-1))),Mt={class:"col-6"},St={class:"card cards-content-chart ranking-category"},$t=et((()=>(0,i._)("h1",{class:"chart-content-title"},"Ranking de gastos",-1))),At={class:"chart-pie-content",style:{"padding-left":"64px"}},zt={class:"details-pie-content"},Bt={class:"categories-progress"},Wt=["onClick"],Vt={class:"progress",style:{height:"20px"}},It={class:"table-content-modal",style:{overflow:"auto",width:"100%"}},Yt={class:"table table-striped table-responsive"},jt=et((()=>(0,i._)("tr",{class:"page-table-header"},[(0,i._)("th",null,"Data"),(0,i._)("th",null,"Conta origem"),(0,i._)("th",null,"Descrição"),(0,i._)("th",null,"Valor")],-1))),Ut={class:"page-table-row"},qt={class:"nowrap"},Ot={class:"nowrap"},Nt={style:{position:"relative",top:"14px"}},Et=et((()=>(0,i._)("td",null,null,-1))),Ht=et((()=>(0,i._)("td",null,null,-1)));function Zt(t,a,e,o,s,r){const l=(0,i.up)("page-title"),c=(0,i.up)("font-awesome-icon"),d=(0,i.up)("no-content"),u=(0,i.up)("v-date-picker"),g=(0,i.up)("modal");return(0,i.wg)(),(0,i.iD)("div",nt,[(0,i._)("div",it,[(0,i._)("div",ot,[(0,i.Wm)(l,{style:{border:"none",padding:"0"},title:"Bem vindo, "+o.data.user_show_name+"!",subtitle:"Acompanhe aqui a evolução das suas finanças."},null,8,["title"])])]),st,(0,i._)("div",rt,[(0,i._)("div",lt,[(0,i._)("div",ct,[(0,i._)("div",dt,[(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.filters.competenceYear=t),style:{width:"120px"}},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.competenceList,(t=>((0,i.wg)(),(0,i.iD)("option",null,(0,p.zw)(t),1)))),256))],512),[[n.bM,o.data.filters.competenceYear]]),(0,i._)("button",{type:"button",onClick:a[1]||(a[1]=(...t)=>o.searchFilterYear&&o.searchFilterYear(...t)),style:{"margin-left":"13px",height:"36px"},class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-search"})])])]),(0,i._)("div",pt,[(0,i._)("div",ut,[(0,i._)("div",gt,[mt,null==o.data.dashboard.invoiceYearsData?((0,i.wg)(),(0,i.j4)(d,{key:0,message:"Não há dados no período",style:{position:"relative",top:"45%",bottom:"10px"}})):(0,i.kq)("",!0),_t,bt])])])]),(0,i._)("div",ft,[(0,i._)("div",vt,[(0,i._)("div",yt,[(0,i.Wm)(u,{modelValue:o.data.filters.range,"onUpdate:modelValue":a[2]||(a[2]=t=>o.data.filters.range=t),mode:"date","is-range":""},{default:(0,i.w5)((({inputValue:t,inputEvents:a,isDragging:e})=>[(0,i._)("div",ht,[(0,i._)("input",(0,i.dG)({class:"form-control",style:{"margin-right":"10px"},value:t.start},(0,i.mx)(a.start,!0)),null,16,wt),Dt,(0,i._)("input",(0,i.dG)({disabled:"",class:"form-control",value:t.end},(0,i.mx)(a.end,!0)),null,16,kt)])])),_:1},8,["modelValue"]),(0,i._)("button",{type:"button",onClick:a[3]||(a[3]=(...t)=>o.searchFilter&&o.searchFilter(...t)),style:{"margin-left":"13px",height:"36px"},class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-search"})])]),(0,i._)("div",null,[(0,i._)("div",Ct,[(0,i._)("div",Pt,[(0,i._)("div",Ft,[xt,(0,i._)("div",Tt,[null==o.data.dashboard.expensePerCategoryData?((0,i.wg)(),(0,i.j4)(d,{key:0,message:"Não há dados no período",style:{position:"relative",top:"50%"}})):(0,i.kq)("",!0),Rt]),Lt])]),(0,i._)("div",Mt,[(0,i._)("div",St,[$t,(0,i._)("div",At,[(0,i._)("div",zt,[null==o.data.dashboard.expensePerCategoryData?((0,i.wg)(),(0,i.j4)(d,{key:0,message:"Não há dados no período",style:{position:"relative",top:"50%"}})):((0,i.wg)(!0),(0,i.iD)(i.HY,{key:1},(0,i.Ko)(o.data.dashboard.expensePerCategoryData,(t=>((0,i.wg)(),(0,i.iD)("div",Bt,[(0,i._)("h4",null,[(0,i.Uk)((0,p.zw)(t.description)+" - "+(0,p.zw)(o.formatMoneyBRL(t.amount))+" ",1),(0,i._)("a",{href:"",class:"chart-ranking-details-btn",onClick:(0,n.iM)((a=>o.openCloseModalDetalhes(t.id,t.description,t.amount)),["prevent"])},[(0,i.Wm)(c,{icon:"fa-solid fa-arrow-up-right-from-square"})],8,Wt)]),(0,i._)("div",Vt,[(0,i._)("div",{class:"progress-bar bar-animate",role:"progressbar",style:(0,p.j5)(`width: ${t.percentage}%; background:${o.data.dashboard.expensePerCategoryColors[t.description]}`),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])))),256))])])])])])])])])]),o.data.chartRankingModal.show?((0,i.wg)(),(0,i.j4)(g,{key:0,onCloseModal:a[4]||(a[4]=t=>o.data.chartRankingModal.show=!1),width:"80%","close-in-backdrop":!0,"modal-title":o.data.chartRankingModal.title},{default:(0,i.w5)((()=>[(0,i._)("div",It,[(0,i._)("table",Yt,[jt,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.transactionList,(t=>((0,i.wg)(),(0,i.iD)("tr",Ut,[(0,i._)("td",null,(0,p.zw)(t.date),1),(0,i._)("td",qt,(0,p.zw)(t.account.description),1),(0,i._)("td",Ot,(0,p.zw)(t.description),1),(0,i._)("td",null,(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)])))),256)),(0,i._)("tr",Nt,[(0,i._)("td",null,"Items: "+(0,p.zw)(o.data.transactionList.length),1),Et,Ht,(0,i._)("td",null,"Total: "+(0,p.zw)(o.data.chartRankingModal.total.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)])])])])),_:1},8,["modal-title"])):(0,i.kq)("",!0)])}const Kt={class:"page-title"},Gt=(0,i._)("br",null,null,-1),Qt={key:0,class:"small subtitle"};function Jt(t,a,e,n,o,s){const r=(0,i.up)("font-awesome-icon");return(0,i.wg)(),(0,i.iD)("h1",Kt,[(0,i.Wm)(r,{icon:e.pageIcon},null,8,["icon"]),(0,i.Uk)(" "+(0,p.zw)(e.title),1),Gt,e.subtitle?((0,i.wg)(),(0,i.iD)("small",Qt,(0,p.zw)(e.subtitle),1)):(0,i.kq)("",!0)])}var Xt={name:"PageTitle",props:["title","pageIcon","subtitle"]};const ta=(0,s.Z)(Xt,[["render",Jt]]);var aa=ta,ea=e(547);const na=()=>{P().fire({title:"",text:"Processando aguarde....",icon:"",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1})},ia=()=>{P().close()},oa=(t,a)=>P().fire({title:"",text:"",html:`<h3>${t}</h3>`,icon:a,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0}),sa=t=>{let a=new Date(t),e=a.getDate()<10?"0"+a.getDate():a.getDate(),n=a.getMonth()<10?"0"+a.getMonth()+1:a.getMonth()+1,i=a.getFullYear(),o=a.getHours()<10?"0"+a.getHours():a.getHours(),s=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes();return`${e}/${n}/${i} ${o}:${s}`},ra=t=>{let a=new Date(t),e=a.getDate()<10?"0"+a.getDate():a.getDate(),n=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,i=a.getFullYear();return`${i}-${n}-${e}`},la=t=>{let a=t,e=2040,n=e-a,i=n<0?-1*n:n,o=[];o.push(a);for(let s=1;s<=i;s++)a>e?o.push(a-s):o.push(a+s);return o},ca=async(t,a)=>{try{na();let e=`/users/${t}/dashboard/expense-per-category?initial_date=${ra(a.filters.range.start)}&end_date=${ra(a.filters.range.end)}`,n=await V.get(e);return ia(),n}catch(e){P().close(),oa("Falha ao obter dados do dashboard","error")}},da=async(t,a)=>{try{na();let e=`/users/${t}/dashboard/invoice-report?competence_year=${a.filters.competenceYear}`,n=await V.get(e);return ia(),n}catch(e){P().close(),oa("Falha ao obter dados do dashboard","error")}},pa=t=>parseInt(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),ua=t=>{if(Number.isInteger(t))return 100*t;{let a=String(t).split("."),e=a[0],n=a[1],i=0;return i=n.indexOf("0",0)<0&&parseInt(n)<10?e.concat(n).concat("0"):e.concat(n),Number.parseInt(i)}},ga=async t=>{let a=[],e=await ca(z.getters.userData.user_id,t);t.dashboard.expensePerCategoryData=e.data;for(let o=0;o<e.data.length;o++)a.push([e.data[o].description,e.data[o].amount]);let n={data:{columns:a,type:(0,ea.ve)()},pie:{width:{ratio:.8}},tooltip:{contents:{template:"<ul>{{<li class={=CLASS_TOOLTIP_NAME}><span>{=VALUE}</span><br><span style=color:{=COLOR}>{=NAME}</span></li>}}<li>{=TITLE}</li></ul>"}},legend:{contents:{bindto:"#chart-pie-legend",template:function(t,a){return"<span style='background-color:"+a+";padding:5px'>"+t+"</span>"}}},bindto:"#bar-chart"},i=ea.ZP.generate(n);if(0!==e.data.length)return i.resize({width:600,height:350}),t.dashboard.expensePerCategoryColors=i.data.colors(),i;t.dashboard.expensePerCategoryData=null,t.dashboard.expensePerCategoryColors=null,i.destroy()},ma=async t=>{let a=[],e=await da(z.getters.userData.user_id,t);t.dashboard.invoiceYearsData=e.data;let n={};for(let s=0;s<e.data.length;s++)a.push([e.data[s].month,e.data[s].amount]),n[e.data[s].month]=function(t){return pa(t)};let i={data:{columns:a,type:(0,ea.Kb)(),labels:{format:n}},axis:{x:{tick:{show:!1,culling:!1,format:function(t){}}}},tooltip:{show:!1},legend:{contents:{bindto:"#chart-bar-legend",template:function(t,a){return"<span style='background-color:"+a+";padding:5px'>"+t+"</span>"}}},bar:{padding:20,width:{ratio:.9,max:100}},bindto:"#barChart_1"},o=ea.ZP.generate(i);0===e.data.length&&(t.dashboard.invoiceYearsData=null,o.destroy())},_a={class:"no-content-container"};function ba(t,a,e,n,o,s){return(0,i.wg)(),(0,i.iD)("p",_a,(0,p.zw)(e.message),1)}var fa={name:"NoContent",props:["message"]};const va=(0,s.Z)(fa,[["render",ba]]);var ya=va;const ha={class:"comp-modal-title"},wa={class:"comp-modal-body"};function Da(t,a,e,o,s,r){return(0,i.wg)(),(0,i.iD)("div",{class:"backdrop",onClick:a[1]||(a[1]=(0,n.iM)((t=>o.closeModal("backdrop")),["self"]))},[(0,i._)("div",{class:"comp-modal",style:(0,p.j5)(`width:${o.props.width};`)},[(0,i._)("div",ha,[(0,i._)("h1",null,(0,p.zw)(o.props.modalTitle),1),(0,i._)("a",{href:"",onClick:a[0]||(a[0]=(0,n.iM)((t=>o.closeModal("title-close-button")),["prevent"])),class:"comp-close-button"},"X")]),(0,i._)("div",wa,[(0,i.WI)(t.$slots,"default",{},void 0,!0)])],4)])}var ka={name:"Modal",props:{modalTitle:{type:String,required:!0},closeInBackdrop:{type:Boolean,required:!1},width:{type:String,required:!0}},emits:["close-modal"],setup(t,a){const e=e=>{("backdrop"===e&&t.closeInBackdrop||"title-close-button"===e)&&a.emit("close-modal")};return{props:t,closeModal:e}}};const Ca=(0,s.Z)(ka,[["render",Da],["__scopeId","data-v-2d369acf"]]);var Pa=Ca;const Fa=(t,a)=>{na();let e=`/users/${t}/accounts/statistics`;e=e.concat(`?initial_date=${ra(a.filters.range.start)}&end_date=${ra(a.filters.range.end)}`),a.listFilter.isCreditCard&&(e=e.concat("&account_types[]=cartao_credito")),a.listFilter.isConta&&(e=e.concat("&account_types[]=conta_corrente")),a.listFilter.isReserva&&(e=e.concat("&account_types[]=poupanca_reserva"),e=e.concat("&account_types[]=investimento")),V.get(e).then((t=>{P().close(),a.statistics=t.data})).catch((t=>{P().close(),oa("Falha ao obter estatística  da conta","error")}))},xa=(t,a,e)=>{na();let n=`/users/${t}/accounts/${a}/statistics`;n=n.concat(`?initial_date=${ra(e.filters.range.start)}&end_date=${ra(e.filters.range.end)}`),V.get(n).then((t=>{P().close(),e.statistics=t.data})).catch((t=>{P().close(),oa("Falha ao obter estatística  da conta","error")}))},Ta=(t,a,e)=>{na(),V.get(`/users/${t}/accounts/${a}`).then((t=>{P().close(),e.accountDetails.description=t.data.description,e.accountDetails.type=t.data.accountType.description})).catch((t=>{P().close(),oa("Falha ao obter dados da conta","error")}))},Ra=(t,a,e)=>{na();let n=`/users/${t}/accounts/${a}/transactions?limit=${e.pagination.limit}&page=${e.pagination.current_page}&initial_date=${ra(e.filters.range.start)}&end_date=${ra(e.filters.range.end)}`;null!=e.filters.description&&(n=n.concat(`&description=${e.filters.description}`)),V.get(n).then((t=>{P().close(),e.pagination.current_page=t.data.current_page,e.pagination.totalPages=t.data.total_pages,e.pagination.totalRows=t.data.total_rows,e.transactions=t.data.items})).catch((t=>{P().close(),oa("Falha ao obter transações","error")}))},La=(t,a,e,n)=>{V.get(`/users/${t}/accounts/${a}/transactions/${e}`).then((t=>{P().close(),n.transaction.description=t.data.description,n.transaction.transaction_type=t.data.transaction_type.id,n.transaction.transaction_category=t.data.category.id,n.transaction.date=t.data.date.split("/").reverse().join("-"),n.transaction.amount=t.data.amount})).catch((t=>{P().close(),oa("Falha ao obter dados da transacao","error")}))},Ma=(t,a,e,n)=>(na(),V["delete"](`/users/${t}/accounts/${a}/transactions/${e}`).then((e=>{P().close(),Ra(t,a,n),xa(t,a,n)})).catch((t=>{P().close(),oa("Falha ao deletar transação","error")}))),Sa=(t,a,e,n,i)=>{na();let o=e.transaction;"false"===o.installment&&(delete o["installment"],delete o["amount_installments"]),o.amount=ua(o.amount),V.post(`/users/${t}/accounts/${a}/transactions`,o).then((t=>{oa(i?"Transação cadastrada com sucesso, Clique em OK para continuar":"Transação cadastrada com sucesso!","success").then((t=>{if(t.isConfirmed){if(i)return e.transaction.description=null,e.transaction.date=null,e.transaction.transaction_type="",e.transaction.amount=null,e.transaction.transaction_category="",e.categoryDisable=!0,e.transaction.installment="false",e.transaction.amount_installments=null,void(e.simulateInstallment=null);n.push({name:"conta-transaction",params:{id:a}})}}))})).catch((t=>{P().close(),oa("Falha ao cadastrar transação!","error")}))},$a=(t,a,e,n,i)=>{na();let o=n.transaction;delete o["installment"],delete o["amount_installments"],o.amount=ua(o.amount),V.put(`/users/${t}/accounts/${a}/transactions/${e}`,o).then((t=>{oa("Transação atualizada com sucesso!","success").then((t=>{t.isConfirmed&&i.push({name:"conta-transaction",params:{id:a}})}))})).catch((t=>{P().close(),oa("Falha ao atualizar transação!","error")}))},Aa=(t,a,e)=>{na(),V.get(`/users/${t}/transactions/${a}?initial_date=${ra(e.filters.range.start)}&end_date=${ra(e.filters.range.end)}`).then((t=>{P().close(),e.transactionList=t.data})).catch((t=>{P().close(),oa("Falha ao obter transações da categoria","error")}))};var za={components:{Modal:Pa,NoContent:ya,pageTitle:aa},setup(){const t=(0,k.qj)({user_show_name:z.getters.userData.show_name,competenceList:[],transactionList:[],chartRankingModal:{show:!1,title:"",total:""},filters:{initialDate:"",endDate:"",range:null,competenceYear:null},dashboard:{expensePerCategoryData:null,invoiceYearsData:null,expensePerCategoryColors:[]}}),a=(a,e,n)=>{t.chartRankingModal.show=!0,t.chartRankingModal.title="Detalhe categoria: "+e,t.chartRankingModal.total=n,Aa(z.getters.userData.user_id,a,t)},e=()=>{ga(t)},n=()=>{ma(t)};return(0,i.bv)((()=>{t.competenceList=la(2022);const a=new Date;t.filters.competenceYear=a.getFullYear(),t.filters.range={start:new Date(a.getFullYear(),a.getMonth(),1),end:new Date(a.getFullYear(),a.getMonth()+1,0)},ga(t),ma(t)})),{data:t,searchFilter:e,searchFilterYear:n,formatMoneyBRL:pa,openCloseModalDetalhes:a}}};const Ba=(0,s.Z)(za,[["render",Zt],["__scopeId","data-v-7beceb0b"]]);var Wa=Ba;const Va=t=>((0,i.dD)("data-v-0e02dac6"),t=t(),(0,i.Cn)(),t),Ia={class:"contas-view page-content"},Ya={class:"row"},ja={class:"col-12"},Ua={class:"card page-card"},qa={class:"alert alert-primary label-top"},Oa={class:"row"},Na={class:"col-3"},Ea=Va((()=>(0,i._)("h4",{class:"tipo-transacao-label"},"Saldo total",-1))),Ha={key:0,class:"value-label negative-label"},Za={key:1,class:"value-label positive-label"},Ka={class:"page-action"},Ga={class:"show-per-page"},Qa=(0,i.uE)('<option value="5" data-v-0e02dac6>5</option><option value="10" data-v-0e02dac6>10</option><option value="15" data-v-0e02dac6>15</option><option value="50" data-v-0e02dac6>50</option><option value="100" data-v-0e02dac6>100</option>',5),Ja=[Qa],Xa={class:"row"},te={class:"col-6"},ae=Va((()=>(0,i._)("label",{class:"form-label"},"Descrição",-1))),ee={class:"input-group"},ne={class:"col-4"},ie=Va((()=>(0,i._)("label",{class:"form-label"},"Data",-1))),oe={style:{display:"flex"}},se=["value"],re=Va((()=>(0,i._)("span",{style:{padding:"10px"}},"até",-1))),le=["value"],ce={class:"col-2"},de={class:"card-body page-card-body"},pe={key:1,class:"table table-striped"},ue=Va((()=>(0,i._)("tr",{class:"page-table-header"},[(0,i._)("th",null,"Descrição"),(0,i._)("th",null,"Tipo"),(0,i._)("th",null,"Saldo"),(0,i._)("th",null,"Última atualização"),(0,i._)("th")],-1))),ge={class:"page-table-row"},me=["onClick"],_e=["onClick"],be=["onClick"],fe={class:"positive-label"},ve=["onClick"],ye={class:"negative-label"},he=["onClick"],we={class:"normal-label"},De=["onClick"],ke={class:"row-btn-actions"},Ce=["onClick"],Pe=["onClick"],Fe={key:0,class:"row",style:{padding:"20px"}},xe={class:"col-12"},Te={"aria-label":"Page navigation example"},Re={class:"pagination"},Le={class:"page-item"},Me={class:"page-item"},Se={key:0,class:"page-link"},$e=["onClick"],Ae={class:"page-item"};function ze(t,a,e,o,s,r){const l=(0,i.up)("page-title"),c=(0,i.up)("font-awesome-icon"),d=(0,i.up)("v-date-picker"),u=(0,i.up)("no-content");return(0,i.wg)(),(0,i.iD)("div",Ia,[(0,i._)("div",Ya,[(0,i._)("div",ja,[(0,i._)("div",Ua,[(0,i.Wm)(l,{title:"Contas","page-icon":"fa-solid fa-receipt",subtitle:"Gerencie suas contas",style:{padding:"20px"}}),(0,i._)("div",qa,[(0,i._)("div",Oa,[(0,i._)("div",Na,[Ea,o.isNegativeAmount?((0,i.wg)(),(0,i.iD)("span",Ha,(0,p.zw)(o.totalAmountAccounts),1)):((0,i.wg)(),(0,i.iD)("span",Za,(0,p.zw)(o.totalAmountAccounts),1))])])]),(0,i._)("div",Ka,[(0,i._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:a[0]||(a[0]=t=>o.openForm(null))},[(0,i.Wm)(c,{icon:"fa-solid fa-circle-plus"})]),(0,i._)("button",{class:"btn btn-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>o.openFilter&&o.openFilter(...t))},[(0,i.Wm)(c,{icon:"fa-solid fa-filter"})]),(0,i._)("div",Ga,[(0,i.wy)((0,i._)("select",{onChange:a[2]||(a[2]=(...t)=>o.changeLimitPerPage&&o.changeLimitPerPage(...t)),"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.pagination.limit=t),class:"form-select show-pages"},Ja,544),[[n.bM,o.data.pagination.limit]])])]),(0,i._)("div",{class:(0,p.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,i._)("div",Xa,[(0,i._)("div",te,[ae,(0,i._)("div",ee,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.filters.description=t),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,i._)("div",ne,[ie,(0,i.Wm)(d,{modelValue:o.data.filters.range,"onUpdate:modelValue":a[5]||(a[5]=t=>o.data.filters.range=t),mode:"date","is-range":""},{default:(0,i.w5)((({inputValue:t,inputEvents:a,isDragging:e})=>[(0,i._)("div",oe,[(0,i._)("input",(0,i.dG)({class:"form-control",style:{"margin-right":"10px"},value:t.start},(0,i.mx)(a.start,!0)),null,16,se),re,(0,i._)("input",(0,i.dG)({disabled:"",class:"form-control",value:t.end},(0,i.mx)(a.end,!0)),null,16,le)])])),_:1},8,["modelValue"])]),(0,i._)("div",ce,[(0,i._)("button",{type:"button",onClick:a[6]||(a[6]=(...t)=>o.searchFilter&&o.searchFilter(...t)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-search"})])])])],2),(0,i._)("div",de,[o.data.contas.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:0,message:"Ainda não há contas cadastradas, clique adicionar para cria sua primeira conta"})),o.data.contas.length?((0,i.wg)(),(0,i.iD)("table",pe,[ue,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.contas,(t=>((0,i.wg)(),(0,i.iD)("tr",ge,[(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,p.zw)(t.description),9,me),(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",{class:"badge rounded-pill text-bg-primary",style:(0,p.j5)(`background:${t.accountType.color}!important`)},(0,p.zw)(t.accountType.description),5)],8,_e),t.amount>0?((0,i.wg)(),(0,i.iD)("td",{key:0,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",fe,"+"+(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,be)):t.amount<0?((0,i.wg)(),(0,i.iD)("td",{key:1,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",ye,(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,ve)):((0,i.wg)(),(0,i.iD)("td",{key:2,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",we,(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,he)),(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,p.zw)(o.formatDateAndHour(t.updated_at)),9,De),(0,i._)("td",null,[(0,i._)("div",ke,[(0,i._)("button",{type:"button",onClick:a=>o.openForm(t.id),class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-pen-to-square"})],8,Ce),(0,i._)("button",{type:"button",onClick:a=>o.deletePrompt(t.description,t.id),class:"btn btn-outline-danger"},[(0,i.Wm)(c,{icon:"fa-solid fa-trash"})],8,Pe)])])])))),256))])):(0,i.kq)("",!0)]),o.data.contas.length?((0,i.wg)(),(0,i.iD)("div",Fe,[(0,i._)("div",xe,[(0,i._)("nav",Te,[(0,i._)("ul",Re,[(0,i._)("li",Le,[(0,i._)("a",{onClick:a[7]||(a[7]=(0,n.iM)((t=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.pagination.pages,(t=>((0,i.wg)(),(0,i.iD)("li",Me,["..."===t?((0,i.wg)(),(0,i.iD)("span",Se,"...")):((0,i.wg)(),(0,i.iD)("a",{key:1,onClick:(0,n.iM)((a=>o.linkNavigationPage(t)),["prevent"]),class:(0,p.C_)(["page-link",{active:o.data.pagination.current_page===t}]),href:"#"},(0,p.zw)(t),11,$e))])))),256)),(0,i._)("li",Ae,[(0,i._)("a",{onClick:a[8]||(a[8]=(0,n.iM)((t=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,i.kq)("",!0)])])])])}const Be=(t,a,e,n)=>{na();let i=`/users/${t}/accounts?limit=${a}&page=${e}`;null!=n.filters.description&&(i=i.concat(`&description=${n.filters.description}`)),n.listFilter.isCreditCard&&(i=i.concat("&account_types[]=cartao_credito")),n.listFilter.isConta&&(i=i.concat("&account_types[]=conta_corrente")),n.listFilter.isReserva&&(i=i.concat("&account_types[]=poupanca_reserva"),i=i.concat("&account_types[]=investimento")),i=i.concat(`&initial_date=${ra(n.filters.range.start)}&end_date=${ra(n.filters.range.end)}`),V.get(i).then((t=>{P().close(),n.pagination.current_page=t.data.current_page,n.pagination.totalPages=t.data.total_pages,n.pagination.totalRows=t.data.total_rows,n.contas=t.data.items})).catch((t=>{P().close(),oa("Falha ao obter lista de dados","error")}))},We=(t,a,e)=>{V.get(`/users/${t}/accounts/${a}`).then((t=>{P().close(),e.account.description=t.data.description,e.account.account_type_id=t.data.accountType.id})).catch((t=>{P().close(),oa("Falha ao obter dados","error")}))},Ve=(t,a,e,n)=>{na(),V.post(`/users/${t}/accounts`,a.account).then((t=>{oa("Cadastro Realizado com sucesso!","success").then((t=>{t.isConfirmed&&e.push({name:n})}))})).catch((t=>{P().close(),oa("Falha ao realizar cadastro","error")}))},Ie=(t,a,e,n,i)=>{na(),V.put(`/users/${t}/accounts/${a}`,n.account).then((t=>{oa("Atualização realizada com sucesso!","success").then((t=>{t.isConfirmed&&e.push({name:i})}))})).catch((t=>{P().close(),oa("Falha ao realizar atualização","error")}))},Ye=(t,a,e,n)=>(na(),V["delete"](`/users/${t}/accounts/${a}`).then((a=>{P().close(),Be(t,e.pagination.limit,e.pagination.current_page,e,n)})).catch((t=>{console.log(t),P().close(),oa("Falha ao deletar registro","error")}))),je=(t,a,e,n)=>{let i,o=[],s=Math.ceil(a/e),r=Math.ceil(n/2);i=t<=r?"start":s-r<t?"end":"middle";let l=n<s,c=1;while(c<=s&&c<=n){let a=Ue(c,t,n,s),e=2===c&&("middle"===i||"end"===i),r=c===n-1&&("middle"===i||"start"===i);l&&(e||r)?o.push("..."):o.push(a),c++}return o},Ue=(t,a,e,n)=>{var i=Math.ceil(e/2);return t===e?n:1===t?t:e<n?n-i<a?n-e+t:i<a?a-i+t:t:t};var qe={components:{PageTitle:aa,NoContent:ya},setup(){const t=(0,d.tv)(),a=(0,k.qj)({contas:[],isOpenFilter:!0,statistics:{},listFilter:{isCreditCard:!1,isConta:!0,isReserva:!1},filters:{range:null,description:null},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0}});(0,i.YP)((()=>a.contas),(t=>{a.pagination.current_page>1&&0===t.length&&Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page-1,a),a.pagination.pages=je(a.pagination.current_page,a.pagination.totalRows,a.pagination.limit,8)}));let e=()=>{a.isOpenFilter?a.isOpenFilter=!1:a.isOpenFilter=!0},n=a=>{null==a?t.push({name:"contas-form"}):t.push({name:"contas-form-edit",params:{id:a}})},o=(t,e)=>{P().fire({title:"Confirmação",text:`Deseja deletar a conta ${t}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&(Ye(z.getters.userData.user_id,e,a),Fa(z.getters.userData.user_id,a))}))};const s=t=>{if("prev"===t&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a);if("next"===t){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)}},r=()=>{Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)},l=t=>{Be(z.getters.userData.user_id,a.pagination.limit,t,a)},c=()=>{null!=a.filters.range?(z.commit("setDateFilterRange",a.filters.range),Fa(z.getters.userData.user_id,a),Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)):P().fire("Informe um periodo no filtro de busca","","error")},p=(a,e)=>{t.push({name:"conta-transaction",params:{id:a}})},u=(0,i.Fl)((()=>{let t=a.statistics.period_amount/100;return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),g=(0,i.Fl)((()=>a.statistics.period_amount<0));return(0,i.bv)((()=>{const t=new Date,e={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)};null!=z.getters.getDateFilterRange?a.filters.range=z.getters.getDateFilterRange:(z.commit("setDateFilterRange",e),a.filters.range=e),z.commit("setLastRoute","contas"),Fa(z.getters.userData.user_id,a),Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)})),{data:a,openForm:n,openFilter:e,deletePrompt:o,navigatePages:s,changeLimitPerPage:r,linkNavigationPage:l,searchFilter:c,openTransactions:p,formatDateAndHour:sa,totalAmountAccounts:u,isNegativeAmount:g}}};const Oe=(0,s.Z)(qe,[["render",ze],["__scopeId","data-v-0e02dac6"]]);var Ne=Oe;const Ee=t=>((0,i.dD)("data-v-50a95068"),t=t(),(0,i.Cn)(),t),He={class:"conta-form-view page-content"},Ze={class:"row"},Ke={class:"col-12"},Ge={class:"card form-page-card"},Qe={class:"card-body page-card-body"},Je={class:"mb-3"},Xe=Ee((()=>(0,i._)("label",{for:"description",class:"form-label"},"Descrição",-1))),tn={class:"mb-3"},an=Ee((()=>(0,i._)("label",{for:"accounttype",class:"form-label"},"Tipo de conta",-1))),en=["value"],nn={class:"mb-3"};function on(t,a,e,o,s,r){const l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("page-title");return(0,i.wg)(),(0,i.iD)("div",He,[(0,i.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/contas"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,i.Uk)(" Voltar")])),_:1}),(0,i._)("div",Ze,[(0,i._)("div",Ke,[(0,i._)("div",Ge,[(0,i.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,i._)("div",Qe,[(0,i._)("form",null,[(0,i._)("div",Je,[Xe,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.account.description=t),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.account.description]])]),(0,i._)("div",tn,[an,(0,i.wy)((0,i._)("select",{disabled:"",class:"form-select","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.account.account_type_id=t),"aria-label":"Default select example"},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.accountTypes,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t.id},(0,p.zw)(t.description),9,en)))),256))],512),[[n.bM,o.data.account.account_type_id]])]),(0,i._)("div",nn,[(0,i._)("button",{style:{"margin-right":"10px"},onClick:a[2]||(a[2]=(...t)=>o.submit&&o.submit(...t)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,i._)("button",{type:"button",onClick:a[3]||(a[3]=(...t)=>o.backPage&&o.backPage(...t)),class:"btn btn-secondary"},"Cancelar")])])])])])])])}const sn=t=>(na(),V.get("/account-types").then((a=>{P().close(),t.accountTypes=a.data})).catch((t=>{P().fire("Falha ao obter lista de tipos de contas","","error")})));var rn={components:{PageTitle:aa},setup(){const t=(0,d.tv)(),a=(0,d.yj)(),e=(0,k.qj)({pageTitle:"",subtitle:"",accountTypes:[],account:{description:"",account_type_id:""}}),n=()=>{t.push({name:"contas"})},o=()=>{e.account.description?e.account.account_type_id?null!=a.params.id?Ie(z.getters.userData.user_id,a.params.id,t,e,"contas"):Ve(z.getters.userData.user_id,e,t,"contas"):P().fire("Atenção","Selecione um tipo de conta","warning",""):P().fire("Atenção","Preencha o campo Descrição","warning","")};return(0,i.bv)((async()=>{if(await(0,i.Y3)(),await sn(e),e.account.account_type_id=e.accountTypes.filter((t=>"conta_corrente"===t.slug_name))[0].id,null!=a.params.id)return e.pageTitle="Editar conta",e.subtitle="Edite sua conta",void We(z.getters.userData.user_id,a.params.id,e);e.pageTitle="Nova conta",e.subtitle="Preencha o formulário abaixo para criar uma nova conta"})),{data:e,backPage:n,submit:o}}};const ln=(0,s.Z)(rn,[["render",on],["__scopeId","data-v-50a95068"]]);var cn=ln;const dn={class:"page-view page-content"},pn={class:"card page-card"},un={class:"alert alert-primary label-top"},gn={class:"row"},mn={class:"col-3"},_n={class:"tipo-transacao-label"},bn={class:"page-action"},fn={class:"show-per-page"},vn=(0,i._)("option",{value:"5"},"5",-1),yn=(0,i._)("option",{value:"10"},"10",-1),hn=(0,i._)("option",{value:"50"},"50",-1),wn=(0,i._)("option",{value:"100"},"100",-1),Dn=[vn,yn,hn,wn],kn={class:"row"},Cn={class:"col-4"},Pn=(0,i._)("label",{class:"form-label"},"Descrição",-1),Fn={class:"input-group"},xn={class:"col-4"},Tn=(0,i._)("label",{class:"form-label"},"Data",-1),Rn={style:{display:"flex"}},Ln=["value"],Mn=(0,i._)("span",{style:{padding:"10px"}},"até",-1),Sn=["value"],$n={class:"col-2"},An={class:"card-body page-card-body"},zn={key:1,class:"table"},Bn=(0,i._)("tr",{class:"page-table-header"},[(0,i._)("th",null,"Descrição"),(0,i._)("th",null,"Data"),(0,i._)("th",null,"Tipo"),(0,i._)("th",null,"Categoria"),(0,i._)("th",null,"Valor"),(0,i._)("th",null,"Parcelado"),(0,i._)("th",null,"Qtd.Parcelas"),(0,i._)("th",null,"N.Parcela"),(0,i._)("th")],-1),Wn={class:"page-table-row"},Vn={key:0},In={class:"badge rounded-pill text-bg-primary",style:{background:"#3c9536!important"}},Yn={key:1},jn={class:"badge rounded-pill text-bg-primary",style:{background:"#a81616!important"}},Un={key:2},qn={class:"positive-label"},On={key:3},Nn={class:"negative-label"},En={class:"row-btn-actions"},Hn=["onClick"],Zn=["onClick"],Kn={key:0,class:"row",style:{padding:"20px"}},Gn={class:"col-12"},Qn={"aria-label":"Page navigation example"},Jn={class:"pagination"},Xn={class:"page-item"},ti={class:"page-item"},ai={key:0,class:"page-link"},ei=["onClick"],ni={class:"page-item"};function ii(t,a,e,o,s,r){const l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("page-title"),u=(0,i.up)("v-date-picker"),g=(0,i.up)("no-content");return(0,i.wg)(),(0,i.iD)("div",dn,[(0,i.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:`/app/${o.data.lastRoute}`},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,i.Uk)(" Voltar")])),_:1},8,["to"]),(0,i._)("div",pn,[(0,i.Wm)(d,{title:`Transações - ${o.data.accountDetails.description}`,subtitle:`Tipo - ${o.data.accountDetails.type}`,"page-icon":"fa-solid fa-receipt"},null,8,["title","subtitle"]),(0,i._)("div",un,[(0,i._)("div",gn,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.statistics,(t=>((0,i.wg)(),(0,i.iD)("div",mn,[(0,i._)("h4",_n,(0,p.zw)(t.description),1),(0,i._)("span",{class:(0,p.C_)(["value-label normal-label",{"negative-label":t.amount<0,"positive-label":t.amount>0}])},(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),3)])))),256))])]),(0,i._)("div",bn,[(0,i._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:a[0]||(a[0]=t=>o.openForm(null))},[(0,i.Wm)(l,{icon:"fa-solid fa-circle-plus"})]),(0,i._)("button",{class:"btn btn-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>o.openFilter&&o.openFilter(...t))},[(0,i.Wm)(l,{icon:"fa-solid fa-filter"})]),(0,i._)("div",fn,[(0,i.wy)((0,i._)("select",{onChange:a[2]||(a[2]=(...t)=>o.changeLimitPerPage&&o.changeLimitPerPage(...t)),"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.pagination.limit=t),class:"form-select show-pages"},Dn,544),[[n.bM,o.data.pagination.limit]])])]),(0,i._)("div",{class:(0,p.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,i._)("div",kn,[(0,i._)("div",Cn,[Pn,(0,i._)("div",Fn,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.filters.description=t),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,i._)("div",xn,[Tn,(0,i.Wm)(u,{modelValue:o.data.filters.range,"onUpdate:modelValue":a[5]||(a[5]=t=>o.data.filters.range=t),mode:"date","is-range":""},{default:(0,i.w5)((({inputValue:t,inputEvents:a,isDragging:e})=>[(0,i._)("div",Rn,[(0,i._)("input",(0,i.dG)({class:"form-control",style:{"margin-right":"10px"},value:t.start},(0,i.mx)(a.start,!0)),null,16,Ln),Mn,(0,i._)("input",(0,i.dG)({class:"form-control",value:t.end},(0,i.mx)(a.end,!0)),null,16,Sn)])])),_:1},8,["modelValue"])]),(0,i._)("div",$n,[(0,i._)("button",{type:"button",onClick:a[6]||(a[6]=(...t)=>o.searchFilter&&o.searchFilter(...t)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(l,{icon:"fa-solid fa-search"})])])])],2),(0,i._)("div",An,[o.data.transactions.length?((0,i.wg)(),(0,i.iD)("table",zn,[Bn,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.transactions,(t=>((0,i.wg)(),(0,i.iD)("tr",Wn,[(0,i._)("td",null,(0,p.zw)(t.description),1),(0,i._)("td",null,(0,p.zw)(t.date),1),"receita"===t.transaction_type.slug_name?((0,i.wg)(),(0,i.iD)("td",Vn,[(0,i._)("span",In,(0,p.zw)(t.transaction_type.description),1)])):((0,i.wg)(),(0,i.iD)("td",Yn,[(0,i._)("span",jn,(0,p.zw)(t.transaction_type.description),1)])),(0,i._)("td",null,(0,p.zw)(t.category.description),1),"receita"===t.transaction_type.slug_name?((0,i.wg)(),(0,i.iD)("td",Un,[(0,i._)("span",qn,"+ "+(0,p.zw)(t.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])):((0,i.wg)(),(0,i.iD)("td",On,[(0,i._)("span",Nn," - "+(0,p.zw)(t.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])),(0,i._)("td",null,(0,p.zw)(t.installment?"Sim":"Não"),1),(0,i._)("td",null,(0,p.zw)(null==t.amount_installment?"-":t.amount_installment),1),(0,i._)("td",null,(0,p.zw)(null==t.current_installment?"-":t.current_installment),1),(0,i._)("td",null,[(0,i._)("div",En,[(0,i._)("button",{type:"button",onClick:a=>o.openForm(t.id),class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(l,{icon:"fa-solid fa-pen-to-square"})],8,Hn),(0,i._)("button",{type:"button",onClick:a=>o.deletePrompt(t.description,t.id),class:"btn btn-outline-danger"},[(0,i.Wm)(l,{icon:"fa-solid fa-trash"})],8,Zn)])])])))),256))])):((0,i.wg)(),(0,i.j4)(g,{key:0,message:"Ainda não há transações para esta conta"}))]),o.data.transactions.length?((0,i.wg)(),(0,i.iD)("div",Kn,[(0,i._)("div",Gn,[(0,i._)("nav",Qn,[(0,i._)("ul",Jn,[(0,i._)("li",Xn,[(0,i._)("a",{onClick:a[7]||(a[7]=(0,n.iM)((t=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.pagination.pages,(t=>((0,i.wg)(),(0,i.iD)("li",ti,["..."===t?((0,i.wg)(),(0,i.iD)("span",ai,"...")):((0,i.wg)(),(0,i.iD)("a",{key:1,onClick:(0,n.iM)((a=>o.linkNavigationPage(t)),["prevent"]),class:(0,p.C_)(["page-link",{active:o.data.pagination.current_page===t}]),href:"#"},(0,p.zw)(t),11,ei))])))),256)),(0,i._)("li",ni,[(0,i._)("a",{onClick:a[8]||(a[8]=(0,n.iM)((t=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,i.kq)("",!0)])])}var oi={name:"Transaction",components:{PageTitle:aa,NoContent:ya},setup(){const t=(0,d.yj)(),a=(0,d.tv)();let e=(0,k.qj)({transactions:[],statistics:{},lastRoute:null,accountDetails:{description:null,type:null},isOpenFilter:!0,filters:{range:"",description:""},pagination:{pages:[],limit:10,current_page:1,totalPages:0,totalRows:0}});(0,i.YP)((()=>e.transactions),(a=>{e.pagination.current_page>1&&0===a.length&&(e.pagination.current_page-=1,Ra(z.getters.userData.user_id,t.params.id,e)),e.pagination.pages=je(e.pagination.current_page,e.pagination.totalRows,e.pagination.limit,8)}));const n=a=>{if("prev"===a&&e.pagination.current_page>1)return e.pagination.current_page-=1,void Ra(z.getters.userData.user_id,t.params.id,e);if("next"===a){if(e.pagination.current_page>=e.pagination.totalPages)return;e.pagination.current_page+=1,Ra(z.getters.userData.user_id,t.params.id,e)}},o=a=>{e.pagination.current_page=a,Ra(z.getters.userData.user_id,t.params.id,e)},s=()=>{Ra(z.getters.userData.user_id,t.params.id,e)};let r=(a,n)=>{P().fire({title:"Confirmação",text:`Deseja deletar a transação descrita como ${a}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&Ma(z.getters.userData.user_id,t.params.id,n,e)}))},l=()=>{e.isOpenFilter?e.isOpenFilter=!1:e.isOpenFilter=!0},c=t=>{null==t?a.push({name:"conta-transaction-new"}):a.push({name:"conta-transaction-edit",params:{id_transaction:t}})};const p=(0,i.Fl)((()=>{let t=0,a=0,n=e.statistics;for(let e=0;e<n.length;e++)"Despesa"===n[e].description?a=-1*n[e].total:t=n[e].total;let i=t+a;return(i/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),u=()=>{null!=e.filters.range?(z.commit("setDateFilterRange",e.filters.range),z.commit("setFilterDescription",e.filters.description),xa(z.getters.userData.user_id,t.params.id,e),Ra(z.getters.userData.user_id,t.params.id,e)):oa("Preencha os filtros de data","error")};return(0,i.bv)((()=>{const a=new Date,n={start:new Date(a.getFullYear(),a.getMonth(),1),end:new Date(a.getFullYear(),a.getMonth()+1,0)};null!=z.getters.getDateFilterRange?(e.filters.range=z.getters.getDateFilterRange,e.filters.description=z.getters.getFilterDescription):(z.commit("setDateFilterRange",n),z.commit("setFilterDescription",e.filters.description),e.filters.range=n),e.lastRoute=z.getters.getLastRoute,xa(z.getters.userData.user_id,t.params.id,e),Ta(z.getters.userData.user_id,t.params.id,e),Ra(z.getters.userData.user_id,t.params.id,e)})),{data:e,linkNavigationPage:o,navigatePages:n,changeLimitPerPage:s,openFilter:l,deletePrompt:r,openForm:c,calculatedAmount:p,searchFilter:u}}};const si=(0,s.Z)(oi,[["render",ii]]);var ri=si;const li=t=>((0,i.dD)("data-v-5946bb3a"),t=t(),(0,i.Cn)(),t),ci={class:"conta-form-view page-content"},di={class:"row"},pi={class:"col-12"},ui={class:"card form-page-card"},gi={class:"card-body page-card-body"},mi={class:"row space-rows"},_i={class:"col-6"},bi=li((()=>(0,i._)("label",{for:"description",class:"form-label"},"Descrição",-1))),fi={class:"col-6"},vi=li((()=>(0,i._)("label",{for:"date",class:"form-label"},"Data",-1))),yi={class:"row space-rows"},hi={class:"col-6"},wi=li((()=>(0,i._)("label",{for:"tipo",class:"form-label"},"Tipo",-1))),Di=li((()=>(0,i._)("option",{value:""},"Selecione um tipo",-1))),ki=["value"],Ci={class:"col-6"},Pi=li((()=>(0,i._)("label",{for:"valor",class:"form-label"},"Valor",-1))),Fi={class:"row space-rows"},xi={class:"col-6"},Ti=li((()=>(0,i._)("label",{for:"categoria",class:"form-label"},"Categoria",-1))),Ri=["disabled"],Li=li((()=>(0,i._)("option",{value:""},"Selecione uma categoria",-1))),Mi=["value"],Si={key:0,class:"col-3"},$i=li((()=>(0,i._)("label",{for:"categoria",class:"form-label"},"Parcelamento ?",-1))),Ai=li((()=>(0,i._)("option",{value:"false"},"Não",-1))),zi=li((()=>(0,i._)("option",{value:"true"},"Sim",-1))),Bi=[Ai,zi],Wi={key:1,class:"col-1"},Vi=li((()=>(0,i._)("label",{for:"parcelas",class:"form-label"},"Parcelas",-1))),Ii=["disabled"],Yi={key:2,class:"col-2"},ji=li((()=>(0,i._)("label",{for:"valor_parcela",class:"form-label"},"Valor parcela",-1))),Ui={class:"row"},qi={class:"mb-3"};function Oi(t,a,e,o,s,r){const l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("page-title"),u=(0,i.up)("CurrencyInput");return(0,i.wg)(),(0,i.iD)("div",ci,[(0,i.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:`/app/conta/${t.$route.params.id}/transaction`},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,i.Uk)(" Voltar")])),_:1},8,["to"]),(0,i._)("div",di,[(0,i._)("div",pi,[(0,i._)("div",ui,[(0,i.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,i._)("div",gi,[(0,i._)("form",null,[(0,i._)("div",mi,[(0,i._)("div",_i,[bi,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.transaction.description=t),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.transaction.description]])]),(0,i._)("div",fi,[vi,(0,i.wy)((0,i._)("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.transaction.date=t),class:"form-control",id:"date",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.transaction.date]])])]),(0,i._)("div",yi,[(0,i._)("div",hi,[wi,(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=t=>o.data.transaction.transaction_type=t)},[Di,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.transactionTypes,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t.id},(0,p.zw)(t.description),9,ki)))),256))],512),[[n.bM,o.data.transaction.transaction_type]])]),(0,i._)("div",Ci,[Pi,(0,i.Wm)(u,{options:{currency:"BRL",precision:2,autoDecimalDigits:!0},modelValue:o.data.transaction.amount,"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.transaction.amount=t),class:"form-control"},null,8,["modelValue"])])]),(0,i._)("div",Fi,[(0,i._)("div",xi,[Ti,(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.transaction.transaction_category=t),disabled:o.data.selectStates.categoryDisable},[Li,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.transactionCategories,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t.id},(0,p.zw)(t.description),9,Mi)))),256))],8,Ri),[[n.bM,o.data.transaction.transaction_category]])]),o.data.disableInstallment?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Si,[$i,(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=t=>o.data.transaction.installment=t)},Bi,512),[[n.bM,o.data.transaction.installment]])])),o.data.disableInstallment?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Wi,[Vi,(0,i.wy)((0,i._)("input",{type:"text",onChange:a[6]||(a[6]=(...t)=>o.simulateInstallmentsAmount&&o.simulateInstallmentsAmount(...t)),"onUpdate:modelValue":a[7]||(a[7]=t=>o.data.transaction.amount_installments=t),class:"form-control",disabled:o.data.selectStates.installmentDisable,id:"parcelas",placeholder:"Parcelas"},null,40,Ii),[[n.nr,o.data.transaction.amount_installments]])])),o.data.disableInstallment?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Yi,[ji,(0,i.Wm)(u,{options:{currency:"BRL"},modelValue:o.data.simulateInstallment,"onUpdate:modelValue":a[8]||(a[8]=t=>o.data.simulateInstallment=t),disabled:"",class:"form-control"},null,8,["modelValue"])]))]),(0,i._)("div",Ui,[(0,i._)("div",qi,[(0,i._)("button",{style:{"margin-right":"10px"},onClick:a[9]||(a[9]=t=>o.submit(!1)),type:"button",class:"btn btn-primary btn-primary-custom"},"Salvar"),o.isShowSaveAndContinueButton?((0,i.wg)(),(0,i.iD)("button",{key:0,style:{"margin-right":"10px"},onClick:a[10]||(a[10]=t=>o.submit(!0)),type:"button",class:"btn btn-primary btn-primary-custom"},"Salvar e continuar")):(0,i.kq)("",!0),(0,i._)("button",{type:"button",onClick:a[11]||(a[11]=(...t)=>o.backPage&&o.backPage(...t)),class:"btn btn-secondary"},"Cancelar")])])])])])])])])}const Ni=t=>(na(),V.get("/transaction-types").then((a=>{P().close(),t.transactionTypes=a.data})).catch((t=>{P().fire("Falha ao obter lista de tipos de transações","","error")}))),Ei=t=>(na(),V.get(`/transaction-categories?transaction_type_id=${t.transaction.transaction_type}`).then((a=>{P().close(),t.transactionCategories=a.data})).catch((t=>{P().fire("Falha ao obter lista de categorias","","error")}))),Hi={ref:"inputRef",type:"text"};function Zi(t,a,e,n,o,s){return(0,i.wg)(),(0,i.iD)("input",Hi,null,512)}var Ki=e(7613),Gi={name:"CurrencyInput",props:{modelValue:Number,options:Object},setup(t){const{inputRef:a,setValue:e}=(0,Ki.Er)(t.options);return(0,i.YP)((()=>t.modelValue),(t=>{e(t)})),{inputRef:a}}};const Qi=(0,s.Z)(Gi,[["render",Zi]]);var Ji=Qi,Xi={components:{CurrencyInput:Ji,PageTitle:aa},setup(){const t=(0,d.tv)(),a=(0,d.yj)(),e=(0,k.qj)({page:{transactionId:a.params.id_transaction},pageTitle:"",subtitle:"",transactionTypes:[],transactionCategories:[],disableInstallment:!1,inputLabels:["Descrição","Data","Tipo","Valor","Categoria","Quantidade"],selectStates:{categoryDisable:!0,installmentDisable:!0},simulateInstallment:0,transaction:{description:"",date:"",transaction_type:"",amount:null,transaction_category:"",installment:"false",amount_installments:0}}),n=()=>{t.push({name:"conta-transaction",params:{id:a.params.id}})},o=n=>{let i=Object.getOwnPropertyNames(e.transaction);for(let t=0;t<i.length;t++){if(""===e.transaction[i[t]]||null==e.transaction[i[t]])return void oa(`Preencha o campo ${e.inputLabels[t]}`,"error");if("installment"===i[t]&&"true"===e.transaction["installment"]&&0===e.transaction.amount_installments&&!1===e.disableInstallment)return void oa("Numero de parcelas inválido","error")}null!=a.params.id_transaction?$a(z.getters.userData.user_id,a.params.id,a.params.id_transaction,e,t):Sa(z.getters.userData.user_id,a.params.id,e,t,n)};(0,i.YP)((()=>e.transaction.transaction_type),(t=>{if(""===t)return e.selectStates.categoryDisable=!0,void(e.transactionCategories=[]);e.selectStates.categoryDisable=!1,Ei(e)})),(0,i.YP)((()=>e.transaction.installment),(t=>{"true"!==t?(e.transaction.amount_installments=0,e.selectStates.installmentDisable=!0):e.selectStates.installmentDisable=!1}));const s=(0,i.Fl)((()=>null==e.page.transactionId)),r=()=>{e.simulateInstallment=e.transaction.amount/e.transaction.amount_installments};return(0,i.bv)((()=>{if(Ni(e),null!=a.params.id_transaction)return e.pageTitle="Editar Transação",e.subtitle="Edite sua transação",e.disableInstallment=!0,void La(z.getters.userData.user_id,a.params.id,a.params.id_transaction,e);e.disableInstallment=!1,e.pageTitle="Nova Transação",e.subtitle="Preencha o formulário abaixo para criar uma nova transação"})),{data:e,backPage:n,submit:o,isShowSaveAndContinueButton:s,simulateInstallmentsAmount:r}}};const to=(0,s.Z)(Xi,[["render",Oi],["__scopeId","data-v-5946bb3a"]]);var ao=to;const eo=t=>((0,i.dD)("data-v-1268be67"),t=t(),(0,i.Cn)(),t),no={class:"contas-view page-content"},io={class:"row"},oo={class:"col-12"},so={class:"card page-card"},ro={class:"alert alert-primary label-top"},lo={class:"row"},co={class:"col-3"},po=eo((()=>(0,i._)("h4",{class:"tipo-transacao-label"},"Saldo total",-1))),uo={key:0,class:"value-label negative-label"},go={key:1,class:"value-label positive-label"},mo={class:"page-action"},_o={class:"show-per-page"},bo=(0,i.uE)('<option value="5" data-v-1268be67>5</option><option value="10" data-v-1268be67>10</option><option value="15" data-v-1268be67>15</option><option value="50" data-v-1268be67>50</option><option value="100" data-v-1268be67>100</option>',5),fo=[bo],vo={class:"row"},yo={class:"col-6"},ho=eo((()=>(0,i._)("label",{class:"form-label"},"Descrição",-1))),wo={class:"input-group"},Do={class:"col-4"},ko=eo((()=>(0,i._)("label",{class:"form-label"},"Data",-1))),Co={style:{display:"flex"}},Po=["value"],Fo=eo((()=>(0,i._)("span",{style:{padding:"10px"}},"até",-1))),xo=["value"],To={class:"col-2"},Ro={class:"card-body page-card-body"},Lo={key:1,class:"table table-striped"},Mo=eo((()=>(0,i._)("tr",{class:"page-table-header"},[(0,i._)("th",null,"Descrição"),(0,i._)("th",null,"Tipo"),(0,i._)("th",null,"Saldo"),(0,i._)("th",null,"Última atualização"),(0,i._)("th")],-1))),So={class:"page-table-row"},$o=["onClick"],Ao=["onClick"],zo=["onClick"],Bo={class:"positive-label"},Wo=["onClick"],Vo={class:"negative-label"},Io=["onClick"],Yo={class:"normal-label"},jo=["onClick"],Uo={class:"row-btn-actions"},qo=["onClick"],Oo=["onClick"],No={key:0,class:"row",style:{padding:"20px"}},Eo={class:"col-12"},Ho={"aria-label":"Page navigation example"},Zo={class:"pagination"},Ko={class:"page-item"},Go={class:"page-item"},Qo={key:0,class:"page-link"},Jo=["onClick"],Xo={class:"page-item"};function ts(t,a,e,o,s,r){const l=(0,i.up)("page-title"),c=(0,i.up)("font-awesome-icon"),d=(0,i.up)("v-date-picker"),u=(0,i.up)("no-content");return(0,i.wg)(),(0,i.iD)("div",no,[(0,i._)("div",io,[(0,i._)("div",oo,[(0,i._)("div",so,[(0,i.Wm)(l,{title:"Cartões de credito","page-icon":"fa-solid fa-credit-card",subtitle:"Gerencie seus cartões",style:{padding:"20px"}}),(0,i._)("div",ro,[(0,i._)("div",lo,[(0,i._)("div",co,[po,o.isNegativeAmount?((0,i.wg)(),(0,i.iD)("span",uo,(0,p.zw)(o.totalAmountAccounts),1)):((0,i.wg)(),(0,i.iD)("span",go,(0,p.zw)(o.totalAmountAccounts),1))])])]),(0,i._)("div",mo,[(0,i._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:a[0]||(a[0]=t=>o.openForm(null))},[(0,i.Wm)(c,{icon:"fa-solid fa-circle-plus"})]),(0,i._)("button",{class:"btn btn-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>o.openFilter&&o.openFilter(...t))},[(0,i.Wm)(c,{icon:"fa-solid fa-filter"})]),(0,i._)("div",_o,[(0,i.wy)((0,i._)("select",{onChange:a[2]||(a[2]=(...t)=>o.changeLimitPerPage&&o.changeLimitPerPage(...t)),"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.pagination.limit=t),class:"form-select show-pages"},fo,544),[[n.bM,o.data.pagination.limit]])])]),(0,i._)("div",{class:(0,p.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,i._)("div",vo,[(0,i._)("div",yo,[ho,(0,i._)("div",wo,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.filters.description=t),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,i._)("div",Do,[ko,(0,i.Wm)(d,{modelValue:o.data.filters.range,"onUpdate:modelValue":a[5]||(a[5]=t=>o.data.filters.range=t),mode:"date","is-range":""},{default:(0,i.w5)((({inputValue:t,inputEvents:a,isDragging:e})=>[(0,i._)("div",Co,[(0,i._)("input",(0,i.dG)({class:"form-control",style:{"margin-right":"10px"},value:t.start},(0,i.mx)(a.start,!0)),null,16,Po),Fo,(0,i._)("input",(0,i.dG)({disabled:"",class:"form-control",value:t.end},(0,i.mx)(a.end,!0)),null,16,xo)])])),_:1},8,["modelValue"])]),(0,i._)("div",To,[(0,i._)("button",{type:"button",onClick:a[6]||(a[6]=(...t)=>o.searchFilter&&o.searchFilter(...t)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-search"})])])])],2),(0,i._)("div",Ro,[o.data.contas.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:0,message:"Ainda não há contas cadastradas, clique adicionar para cria sua primeira conta"})),o.data.contas.length?((0,i.wg)(),(0,i.iD)("table",Lo,[Mo,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.contas,(t=>((0,i.wg)(),(0,i.iD)("tr",So,[(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,p.zw)(t.description),9,$o),(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",{class:"badge rounded-pill text-bg-primary",style:(0,p.j5)(`background:${t.accountType.color}!important`)},(0,p.zw)(t.accountType.description),5)],8,Ao),t.amount>0?((0,i.wg)(),(0,i.iD)("td",{key:0,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",Bo,"+"+(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,zo)):t.amount<0?((0,i.wg)(),(0,i.iD)("td",{key:1,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",Vo,(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,Wo)):((0,i.wg)(),(0,i.iD)("td",{key:2,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",Yo,(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,Io)),(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,p.zw)(o.formatDateAndHour(t.updated_at)),9,jo),(0,i._)("td",null,[(0,i._)("div",Uo,[(0,i._)("button",{type:"button",onClick:a=>o.openForm(t.id),class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-pen-to-square"})],8,qo),(0,i._)("button",{type:"button",onClick:a=>o.deletePrompt(t.description,t.id),class:"btn btn-outline-danger"},[(0,i.Wm)(c,{icon:"fa-solid fa-trash"})],8,Oo)])])])))),256))])):(0,i.kq)("",!0)]),o.data.contas.length?((0,i.wg)(),(0,i.iD)("div",No,[(0,i._)("div",Eo,[(0,i._)("nav",Ho,[(0,i._)("ul",Zo,[(0,i._)("li",Ko,[(0,i._)("a",{onClick:a[7]||(a[7]=(0,n.iM)((t=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.pagination.pages,(t=>((0,i.wg)(),(0,i.iD)("li",Go,["..."===t?((0,i.wg)(),(0,i.iD)("span",Qo,"...")):((0,i.wg)(),(0,i.iD)("a",{key:1,onClick:(0,n.iM)((a=>o.linkNavigationPage(t)),["prevent"]),class:(0,p.C_)(["page-link",{active:o.data.pagination.current_page===t}]),href:"#"},(0,p.zw)(t),11,Jo))])))),256)),(0,i._)("li",Xo,[(0,i._)("a",{onClick:a[8]||(a[8]=(0,n.iM)((t=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,i.kq)("",!0)])])])])}var as={components:{PageTitle:aa,NoContent:ya},setup(){const t=(0,d.tv)(),a=(0,k.qj)({contas:[],isOpenFilter:!0,statistics:{},listFilter:{isCreditCard:!0,isConta:!1,isReserva:!1},filters:{range:null,description:null},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0}});(0,i.YP)((()=>a.contas),(t=>{a.pagination.current_page>1&&0===t.length&&Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page-1,a),a.pagination.pages=je(a.pagination.current_page,a.pagination.totalRows,a.pagination.limit,8)}));let e=()=>{a.isOpenFilter?a.isOpenFilter=!1:a.isOpenFilter=!0},n=a=>{null==a?t.push({name:"cartoes-form"}):t.push({name:"cartoes-form-edit",params:{id:a}})},o=(t,e)=>{P().fire({title:"Confirmação",text:`Deseja deletar a conta ${t}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&(Ye(z.getters.userData.user_id,e,a),Fa(z.getters.userData.user_id,a))}))};const s=t=>{if("prev"===t&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a);if("next"===t){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)}},r=()=>{Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)},l=t=>{Be(z.getters.userData.user_id,a.pagination.limit,t,a)},c=()=>{null!=a.filters.range?(z.commit("setDateFilterRange",a.filters.range),Fa(z.getters.userData.user_id,a),Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)):P().fire("Informe um periodo no filtro de busca","","error")},p=(a,e)=>{t.push({name:"conta-transaction",params:{id:a}})},u=(0,i.Fl)((()=>{let t=a.statistics.period_amount/100;return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),g=(0,i.Fl)((()=>a.statistics.period_amount<0));return(0,i.bv)((async()=>{const t=new Date,e={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)};null!=z.getters.getDateFilterRange?a.filters.range=z.getters.getDateFilterRange:(z.commit("setDateFilterRange",e),a.filters.range=e),z.commit("setLastRoute","cartoes"),Fa(z.getters.userData.user_id,a),Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)})),{data:a,openForm:n,openFilter:e,deletePrompt:o,navigatePages:s,changeLimitPerPage:r,linkNavigationPage:l,searchFilter:c,openTransactions:p,formatDateAndHour:sa,totalAmountAccounts:u,isNegativeAmount:g}}};const es=(0,s.Z)(as,[["render",ts],["__scopeId","data-v-1268be67"]]);var ns=es;const is=t=>((0,i.dD)("data-v-12686b00"),t=t(),(0,i.Cn)(),t),os={class:"conta-form-view page-content"},ss={class:"row"},rs={class:"col-12"},ls={class:"card form-page-card"},cs={class:"card-body page-card-body"},ds={class:"mb-3"},ps=is((()=>(0,i._)("label",{for:"description",class:"form-label"},"Descrição",-1))),us={class:"mb-3"},gs=is((()=>(0,i._)("label",{for:"accounttype",class:"form-label"},"Tipo de conta",-1))),ms=["value"],_s={class:"mb-3"};function bs(t,a,e,o,s,r){const l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("page-title");return(0,i.wg)(),(0,i.iD)("div",os,[(0,i.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/cartoes"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,i.Uk)(" Voltar")])),_:1}),(0,i._)("div",ss,[(0,i._)("div",rs,[(0,i._)("div",ls,[(0,i.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,i._)("div",cs,[(0,i._)("form",null,[(0,i._)("div",ds,[ps,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.account.description=t),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.account.description]])]),(0,i._)("div",us,[gs,(0,i.wy)((0,i._)("select",{disabled:"",class:"form-select","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.account.account_type_id=t)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.accountTypes,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t.id},(0,p.zw)(t.description),9,ms)))),256))],512),[[n.bM,o.data.account.account_type_id]])]),(0,i._)("div",_s,[(0,i._)("button",{style:{"margin-right":"10px"},onClick:a[2]||(a[2]=(...t)=>o.submit&&o.submit(...t)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,i._)("button",{type:"button",onClick:a[3]||(a[3]=(...t)=>o.backPage&&o.backPage(...t)),class:"btn btn-secondary"},"Cancelar")])])])])])])])}var fs={components:{PageTitle:aa},setup(){const t=(0,d.tv)(),a=(0,d.yj)(),e=(0,k.qj)({pageTitle:"",subtitle:"",accountTypes:[],account:{description:"",account_type_id:""}}),n=()=>{t.push({name:"cartoes"})},o=()=>{e.account.description?e.account.account_type_id?null!=a.params.id?Ie(z.getters.userData.user_id,a.params.id,t,e,"cartoes"):Ve(z.getters.userData.user_id,e,t,"cartoes"):P().fire("Atenção","Selecione um tipo de conta","warning",""):P().fire("Atenção","Preencha o campo Descrição","warning","")};return(0,i.bv)((async()=>{if(await sn(e),await(0,i.Y3)(),e.account.account_type_id=e.accountTypes.filter((t=>"cartao_credito"===t.slug_name))[0].id,null!=a.params.id)return e.pageTitle="Editar Cartão",e.subtitle="Edite seu cartão",void We(z.getters.userData.user_id,a.params.id,e);e.pageTitle="Novo Cartão",e.subtitle="Preencha o formulário abaixo para criar uma novo cartão"})),{data:e,backPage:n,submit:o}}};const vs=(0,s.Z)(fs,[["render",bs],["__scopeId","data-v-12686b00"]]);var ys=vs;const hs=t=>((0,i.dD)("data-v-6b15d568"),t=t(),(0,i.Cn)(),t),ws={class:"contas-view page-content"},Ds={class:"row"},ks={class:"col-12"},Cs={class:"card page-card"},Ps={class:"alert alert-primary label-top"},Fs={class:"row"},xs={class:"col-3"},Ts=hs((()=>(0,i._)("h4",{class:"tipo-transacao-label"},"Saldo total",-1))),Rs={key:0,class:"value-label negative-label"},Ls={key:1,class:"value-label positive-label"},Ms={class:"page-action"},Ss={class:"show-per-page"},$s=(0,i.uE)('<option value="5" data-v-6b15d568>5</option><option value="10" data-v-6b15d568>10</option><option value="15" data-v-6b15d568>15</option><option value="50" data-v-6b15d568>50</option><option value="100" data-v-6b15d568>100</option>',5),As=[$s],zs={class:"row"},Bs={class:"col-6"},Ws=hs((()=>(0,i._)("label",{class:"form-label"},"Descrição",-1))),Vs={class:"input-group"},Is={class:"col-4"},Ys=hs((()=>(0,i._)("label",{class:"form-label"},"Data",-1))),js={style:{display:"flex"}},Us=["value"],qs=hs((()=>(0,i._)("span",{style:{padding:"10px"}},"até",-1))),Os=["value"],Ns={class:"col-2"},Es={class:"card-body page-card-body"},Hs={key:1,class:"table table-striped"},Zs=hs((()=>(0,i._)("tr",{class:"page-table-header"},[(0,i._)("th",null,"Descrição"),(0,i._)("th",null,"Tipo"),(0,i._)("th",null,"Saldo"),(0,i._)("th",null,"Última atualização"),(0,i._)("th")],-1))),Ks={class:"page-table-row"},Gs=["onClick"],Qs=["onClick"],Js=["onClick"],Xs={class:"positive-label"},tr=["onClick"],ar={class:"negative-label"},er=["onClick"],nr={class:"normal-label"},ir=["onClick"],or={class:"row-btn-actions"},sr=["onClick"],rr=["onClick"],lr={key:0,class:"row",style:{padding:"20px"}},cr={class:"col-12"},dr={"aria-label":"Page navigation example"},pr={class:"pagination"},ur={class:"page-item"},gr={class:"page-item"},mr={key:0,class:"page-link"},_r=["onClick"],br={class:"page-item"};function fr(t,a,e,o,s,r){const l=(0,i.up)("page-title"),c=(0,i.up)("font-awesome-icon"),d=(0,i.up)("v-date-picker"),u=(0,i.up)("no-content");return(0,i.wg)(),(0,i.iD)("div",ws,[(0,i._)("div",Ds,[(0,i._)("div",ks,[(0,i._)("div",Cs,[(0,i.Wm)(l,{title:"Poupança/Investimento","page-icon":"fa-solid fa-sack-dollar",subtitle:"Gerencie sua reserva",style:{padding:"20px"}}),(0,i._)("div",Ps,[(0,i._)("div",Fs,[(0,i._)("div",xs,[Ts,o.isNegativeAmount?((0,i.wg)(),(0,i.iD)("span",Rs,(0,p.zw)(o.totalAmountAccounts),1)):((0,i.wg)(),(0,i.iD)("span",Ls,(0,p.zw)(o.totalAmountAccounts),1))])])]),(0,i._)("div",Ms,[(0,i._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:a[0]||(a[0]=t=>o.openForm(null))},[(0,i.Wm)(c,{icon:"fa-solid fa-circle-plus"})]),(0,i._)("button",{class:"btn btn-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>o.openFilter&&o.openFilter(...t))},[(0,i.Wm)(c,{icon:"fa-solid fa-filter"})]),(0,i._)("div",Ss,[(0,i.wy)((0,i._)("select",{onChange:a[2]||(a[2]=(...t)=>o.changeLimitPerPage&&o.changeLimitPerPage(...t)),"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.pagination.limit=t),class:"form-select show-pages"},As,544),[[n.bM,o.data.pagination.limit]])])]),(0,i._)("div",{class:(0,p.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,i._)("div",zs,[(0,i._)("div",Bs,[Ws,(0,i._)("div",Vs,[(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.filters.description=t),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,i._)("div",Is,[Ys,(0,i.Wm)(d,{modelValue:o.data.filters.range,"onUpdate:modelValue":a[5]||(a[5]=t=>o.data.filters.range=t),mode:"date","is-range":""},{default:(0,i.w5)((({inputValue:t,inputEvents:a,isDragging:e})=>[(0,i._)("div",js,[(0,i._)("input",(0,i.dG)({class:"form-control",style:{"margin-right":"10px"},value:t.start},(0,i.mx)(a.start,!0)),null,16,Us),qs,(0,i._)("input",(0,i.dG)({disabled:"",class:"form-control",value:t.end},(0,i.mx)(a.end,!0)),null,16,Os)])])),_:1},8,["modelValue"])]),(0,i._)("div",Ns,[(0,i._)("button",{type:"button",onClick:a[6]||(a[6]=(...t)=>o.searchFilter&&o.searchFilter(...t)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-search"})])])])],2),(0,i._)("div",Es,[o.data.contas.length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.j4)(u,{key:0,message:"Ainda não há contas cadastradas, clique adicionar para cria sua primeira conta"})),o.data.contas.length?((0,i.wg)(),(0,i.iD)("table",Hs,[Zs,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.contas,(t=>((0,i.wg)(),(0,i.iD)("tr",Ks,[(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,p.zw)(t.description),9,Gs),(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",{class:"badge rounded-pill text-bg-primary",style:(0,p.j5)(`background:${t.accountType.color}!important`)},(0,p.zw)(t.accountType.description),5)],8,Qs),t.amount>0?((0,i.wg)(),(0,i.iD)("td",{key:0,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",Xs,"+"+(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,Js)):t.amount<0?((0,i.wg)(),(0,i.iD)("td",{key:1,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",ar,(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,tr)):((0,i.wg)(),(0,i.iD)("td",{key:2,onClick:a=>o.openTransactions(t.id,t.description)},[(0,i._)("span",nr,(0,p.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,er)),(0,i._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,p.zw)(o.formatDateAndHour(t.updated_at)),9,ir),(0,i._)("td",null,[(0,i._)("div",or,[(0,i._)("button",{type:"button",onClick:a=>o.openForm(t.id),class:"btn btn-primary btn-primary-custom"},[(0,i.Wm)(c,{icon:"fa-solid fa-pen-to-square"})],8,sr),(0,i._)("button",{type:"button",onClick:a=>o.deletePrompt(t.description,t.id),class:"btn btn-outline-danger"},[(0,i.Wm)(c,{icon:"fa-solid fa-trash"})],8,rr)])])])))),256))])):(0,i.kq)("",!0)]),o.data.contas.length?((0,i.wg)(),(0,i.iD)("div",lr,[(0,i._)("div",cr,[(0,i._)("nav",dr,[(0,i._)("ul",pr,[(0,i._)("li",ur,[(0,i._)("a",{onClick:a[7]||(a[7]=(0,n.iM)((t=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.pagination.pages,(t=>((0,i.wg)(),(0,i.iD)("li",gr,["..."===t?((0,i.wg)(),(0,i.iD)("span",mr,"...")):((0,i.wg)(),(0,i.iD)("a",{key:1,onClick:(0,n.iM)((a=>o.linkNavigationPage(t)),["prevent"]),class:(0,p.C_)(["page-link",{active:o.data.pagination.current_page===t}]),href:"#"},(0,p.zw)(t),11,_r))])))),256)),(0,i._)("li",br,[(0,i._)("a",{onClick:a[8]||(a[8]=(0,n.iM)((t=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,i.kq)("",!0)])])])])}var vr={components:{PageTitle:aa,NoContent:ya},setup(){const t=(0,d.tv)(),a=(0,k.qj)({contas:[],isOpenFilter:!0,statistics:{},listFilter:{isCreditCard:!1,isConta:!1,isReserva:!0},filters:{range:null,description:null},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0}});(0,i.YP)((()=>a.contas),(t=>{a.pagination.current_page>1&&0===t.length&&Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page-1,a),a.pagination.pages=je(a.pagination.current_page,a.pagination.totalRows,a.pagination.limit,8)}));let e=()=>{a.isOpenFilter?a.isOpenFilter=!1:a.isOpenFilter=!0},n=a=>{null==a?t.push({name:"poupanca-form"}):t.push({name:"poupanca-form-edit",params:{id:a}})},o=(t,e)=>{P().fire({title:"Confirmação",text:`Deseja deletar a conta ${t}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&(Ye(z.getters.userData.user_id,e,a),Fa(z.getters.userData.user_id,a))}))};const s=t=>{if("prev"===t&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a);if("next"===t){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)}},r=()=>{Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)},l=t=>{Be(z.getters.userData.user_id,a.pagination.limit,t,a)},c=()=>{null!=a.filters.range?(z.commit("setDateFilterRange",a.filters.range),Fa(z.getters.userData.user_id,a),Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)):P().fire("Informe um periodo no filtro de busca","","error")},p=(a,e)=>{z.commit("setLastRoute","poupanca"),t.push({name:"conta-transaction",params:{id:a}})},u=(0,i.Fl)((()=>{let t=a.statistics.period_amount/100;return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),g=(0,i.Fl)((()=>a.statistics.period_amount<0));return(0,i.bv)((async()=>{const t=new Date,e={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)};null!=z.getters.getDateFilterRange?a.filters.range=z.getters.getDateFilterRange:(z.commit("setDateFilterRange",e),a.filters.range=e),z.commit("setLastRoute","poupanca"),Fa(z.getters.userData.user_id,a),Be(z.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)})),{data:a,openForm:n,openFilter:e,deletePrompt:o,navigatePages:s,changeLimitPerPage:r,linkNavigationPage:l,searchFilter:c,openTransactions:p,formatDateAndHour:sa,totalAmountAccounts:u,isNegativeAmount:g}}};const yr=(0,s.Z)(vr,[["render",fr],["__scopeId","data-v-6b15d568"]]);var hr=yr;const wr=t=>((0,i.dD)("data-v-15b38c25"),t=t(),(0,i.Cn)(),t),Dr={class:"conta-form-view page-content"},kr={class:"row"},Cr={class:"col-12"},Pr={class:"card form-page-card"},Fr={class:"card-body page-card-body"},xr={class:"mb-3"},Tr=wr((()=>(0,i._)("label",{for:"description",class:"form-label"},"Descrição",-1))),Rr={class:"mb-3"},Lr=wr((()=>(0,i._)("label",{for:"accounttype",class:"form-label"},"Tipo de conta",-1))),Mr=wr((()=>(0,i._)("option",{value:""},"Selecione um tipo de conta",-1))),Sr=["value"],$r={class:"mb-3"};function Ar(t,a,e,o,s,r){const l=(0,i.up)("font-awesome-icon"),c=(0,i.up)("router-link"),d=(0,i.up)("page-title");return(0,i.wg)(),(0,i.iD)("div",Dr,[(0,i.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/poupanca"},{default:(0,i.w5)((()=>[(0,i.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,i.Uk)(" Voltar")])),_:1}),(0,i._)("div",kr,[(0,i._)("div",Cr,[(0,i._)("div",Pr,[(0,i.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,i._)("div",Fr,[(0,i._)("form",null,[(0,i._)("div",xr,[Tr,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.account.description=t),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.account.description]])]),(0,i._)("div",Rr,[Lr,(0,i.wy)((0,i._)("select",{class:"form-select","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.account.account_type_id=t)},[Mr,((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.data.accountTypes,(t=>((0,i.wg)(),(0,i.iD)("option",{value:t.id},(0,p.zw)(t.description),9,Sr)))),256))],512),[[n.bM,o.data.account.account_type_id]])]),(0,i._)("div",$r,[(0,i._)("button",{style:{"margin-right":"10px"},onClick:a[2]||(a[2]=(...t)=>o.submit&&o.submit(...t)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,i._)("button",{type:"button",onClick:a[3]||(a[3]=(...t)=>o.backPage&&o.backPage(...t)),class:"btn btn-secondary"},"Cancelar")])])])])])])])}var zr={components:{PageTitle:aa},setup(){const t=(0,d.tv)(),a=(0,d.yj)(),e=(0,k.qj)({pageTitle:"",subtitle:"",accountTypes:[],account:{description:"",account_type_id:""}}),n=()=>{t.push({name:"poupanca"})},o=()=>{e.account.description?e.account.account_type_id?null!=a.params.id?Ie(z.getters.userData.user_id,a.params.id,t,e,"cartoes"):Ve(z.getters.userData.user_id,e,t,"cartoes"):P().fire("Atenção","Selecione um tipo de conta","warning",""):P().fire("Atenção","Preencha o campo Descrição","warning","")};return(0,i.bv)((async()=>{if(await sn(e),await(0,i.Y3)(),e.accountTypes=e.accountTypes.filter((t=>"investimento"===t.slug_name||"poupanca_reserva"===t.slug_name)),null!=a.params.id)return e.pageTitle="Editar Conta",e.subtitle="Edite sua conta de poupança e investimento",void We(z.getters.userData.user_id,a.params.id,e);e.pageTitle="Nova Conta Poupança/Investimento",e.subtitle="Preencha o formulário abaixo para criar uma nova conta de Poupança ou Investimento"})),{data:e,backPage:n,submit:o}}};const Br=(0,s.Z)(zr,[["render",Ar],["__scopeId","data-v-15b38c25"]]);var Wr=Br;const Vr=[{path:"/",name:"login",component:q},{path:"/app",name:"home",component:at,redirect:"app/dashboard",children:[{path:"/app/dashboard",name:"dashboard",component:Wa,meta:{page:"dashboard"}},{path:"/app/contas",name:"contas",component:Ne,meta:{page:"contas"}},{path:"/app/contas/new",name:"contas-form",component:cn,meta:{page:"contas"}},{path:"/app/contas/edit/:id",name:"contas-form-edit",component:cn,meta:{page:"contas"}},{path:"/app/conta/:id/transaction",name:"conta-transaction",component:ri},{path:"/app/conta/:id/transaction/new",name:"conta-transaction-new",component:ao},{path:"/app/conta/:id/transaction/edit/:id_transaction",name:"conta-transaction-edit",component:ao},{path:"/app/cartoes",name:"cartoes",component:ns,meta:{page:"cartoes"}},{path:"/app/cartoes/new",name:"cartoes-form",component:ys,meta:{page:"cartoes"}},{path:"/app/contas/cartoes/:id",name:"cartoes-form-edit",component:ys,meta:{page:"cartoes"}},{path:"/app/poupanca",name:"poupanca",component:hr,meta:{page:"poupanca"}},{path:"/app/poupanca/new",name:"poupanca-form",component:Wr,meta:{page:"poupanca"}},{path:"/app/poupanca/edit/:id",name:"poupanca-form-edit",component:Wr,meta:{page:"poupanca"}}]}],Ir=(0,d.p7)({history:(0,d.r5)(),routes:Vr});Ir.beforeEach(((t,a)=>{if("login"!==t.name){let a=z.getters.userData;if(!z.getters.isAuth)return Ir.push({name:"login"});if(""===a.token||!a.hasOwnProperty("token"))return Ir.push({name:"login"});Y(a.token).then((a=>{J.page=t.meta.page})).catch((t=>(z.commit("clearState"),Ir.push({name:"login"}))))}}));var Yr=Ir,jr=(e(5654),e(3494)),Ur=e(7749),qr=e(8539),Or=e(1430);jr.vI.add(qr.J9Y,qr.dLy,qr.LjC,qr.mXR,qr.Ma4,qr.KtF,qr.G_j,qr.Yai,qr.$aW,qr.wn1,qr.acZ,qr.eFW,qr.Ozh,qr.Stf,qr.Quw,qr.aLp,qr.wlW),(0,n.ri)(c).use(z).use(Or.ZP).component("font-awesome-icon",Ur.GN).use(Yr).mount("#app")},2480:function(){}},a={};function e(n){var i=a[n];if(void 0!==i)return i.exports;var o=a[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(a,n,i,o){if(!n){var s=1/0;for(d=0;d<t.length;d++){n=t[d][0],i=t[d][1],o=t[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(e.O).every((function(t){return e.O[t](n[l])}))?n.splice(l--,1):(r=!1,o<s&&(s=o));if(r){t.splice(d--,1);var c=i();void 0!==c&&(a=c)}}return a}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[n,i,o]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,n){var i,o,s=n[0],r=n[1],l=n[2],c=0;if(s.some((function(a){return 0!==t[a]}))){for(i in r)e.o(r,i)&&(e.m[i]=r[i]);if(l)var d=l(e)}for(a&&a(n);c<s.length;c++)o=s[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(d)},n=self["webpackChunkfinanceiro_front"]=self["webpackChunkfinanceiro_front"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(1123)}));n=e.O(n)})();
//# sourceMappingURL=app.23320f53.js.map