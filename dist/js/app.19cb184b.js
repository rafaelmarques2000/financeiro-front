(function(){var t={7301:function(t,a,e){"use strict";var n=e(9242),s=e(3396);function o(t,a){const e=(0,s.up)("router-view");return(0,s.wg)(),(0,s.j4)(e)}var i=e(89);const r={},l=(0,i.Z)(r,[["render",o]]);var c=l,d=(e(7658),e(2483)),u=e(7139);const p=t=>((0,s.dD)("data-v-71931602"),t=t(),(0,s.Cn)(),t),g={class:"login-view"},m={class:"login-form-content"},_=p((()=>(0,s._)("div",{class:"logo-content"},[(0,s._)("h1",null,"Sistema de Finanças")],-1))),b=p((()=>(0,s._)("h4",{class:"sub-title"},"Seja bem vindo, insira suas credencias para começar",-1))),f={class:"login-form"},h={class:"form-field-content",id:"userfield"},v={class:"form-field-content"},y=["disabled"];function w(t,a,e,o,i,r){return(0,s.wg)(),(0,s.iD)("div",g,[(0,s._)("div",m,[_,b,(0,s._)("div",f,[(0,s._)("form",null,[(0,s._)("div",h,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.username=t),placeholder:"Usuário"},null,512),[[n.nr,o.data.username]])]),(0,s._)("div",v,[(0,s.wy)((0,s._)("input",{type:"password","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.password=t),placeholder:"Senha"},null,512),[[n.nr,o.data.password]])]),(0,s._)("button",{disabled:o.data.disabledBtnLogin,onClick:a[2]||(a[2]=(...t)=>o.authSubmit&&o.authSubmit(...t)),class:"login-btn",type:"button"},(0,u.zw)(o.data.buttonMsg),9,y)])])])])}var D=e(4870),k=e(2492),C=e.n(k),P=e(65),x=e(5103),F=e(8082),$=e.n(F),T=e(680);const S="state",M="state",R=T.Z.get(S)||"dcefb8d7-17dd-45cd-8123-91e92b7fc52c",A=new x.ZP({storage:{getItem:()=>{const t=window.localStorage.getItem(M);if(t)try{const a=$().AES.decrypt(t,R);return JSON.parse(a.toString($().enc.Utf8))}catch(a){window.localStorage.removeItem(M)}return null},setItem:(t,a)=>{const e=$().AES.encrypt(a,R).toString();return window.localStorage.setItem(M,e)},removeItem:()=>window.localStorage.removeItem(M)}});var B=(0,P.MT)({state:{isAuth:!1,userData:{},metadata:{},filters:{range:null}},getters:{isAuth(t){return t.isAuth},userData(t){return t.userData},metadata(t){return t.metadata},getFirstDate(t){return t.filters.firstDate},getLastDate(t){return t.filters.lastDate},getDateFilterRange(t){return t.filters.range}},mutations:{enableAuth(t){t.isAuth=!0},disabledAuth(t){t.isAuth=!1},setUserData(t,a){t.userData=a},clearState(t){t.isAuth=!1,t.userData={},t.filters={range:null}},setMetadata(t,a){t.metadata=a},setFirstDate(t,a){t.filters.firstDate=a},setLastDate(t,a){t.filters.lastDate=a},setDateFilterRange(t,a){t.filters.range=a}},plugins:[A.plugin]}),L=e(70);let z={baseURL:"http://192.168.0.252:8080/api/v1",headers:{}};B.getters.isAuth&&(z.headers={Authorization:`bearer ${B.getters.userData.token}`});var j=L.ZP.create(z);const V=t=>j.post("/auth",{username:t.username,password:t.password}),W=t=>j.post("/check-token",{token:t});var O={setup(){const t=(0,d.tv)(),a=(0,D.qj)({username:null,password:null,disabledBtnLogin:!1,buttonMsg:"Entrar"}),e=()=>{a.username?a.password?(a.disabledBtnLogin=!0,a.buttonMsg="Processando Aguarde...",V(a).then((e=>{a.disabledBtnLogin=!1,a.buttonMsg="Entrar",B.commit("enableAuth"),B.commit("setUserData",e.data),t.push({name:"home"})})).catch((t=>{C().fire(t.response.data.message,"","error"),a.disabledBtnLogin=!1,a.buttonMsg="Entrar"}))):C().fire("Atenção","Preencha o campo Senha","warning",""):C().fire("Atenção","Preencha o campo Usuário","warning","")};return(0,s.bv)((()=>{})),{data:a,authSubmit:e}}};const U=(0,i.Z)(O,[["render",w],["__scopeId","data-v-71931602"]]);var I=U;const N=t=>((0,s.dD)("data-v-45c59962"),t=t(),(0,s.Cn)(),t),Y={class:"home-view"},q={class:"sidebar"},E=N((()=>(0,s._)("div",{class:"logo"},[(0,s._)("h1",null,"Sistema Financeiro")],-1))),H={class:"sidebar-menu"},Z={class:"home-fluid"},K=N((()=>(0,s._)("nav",{class:"home-navbar"},null,-1))),G={class:"content-center"};function J(t,a,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)("div",Y,[(0,s._)("div",q,[E,(0,s._)("nav",H,[(0,s._)("ul",null,[(0,s._)("li",null,[(0,s.Wm)(c,{to:"/app/dashboard"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-house"}),(0,s.Uk)(" Inicio")])),_:1})]),(0,s._)("li",null,[(0,s.Wm)(c,{to:"/app/contas"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-receipt"}),(0,s.Uk)(" Contas")])),_:1})]),(0,s._)("li",null,[(0,s._)("a",{href:"",onClick:a[0]||(a[0]=(0,n.iM)(((...t)=>o.confirmAppExit&&o.confirmAppExit(...t)),["prevent"]))},[(0,s.Wm)(l,{icon:"fa-solid fa-right-from-bracket"}),(0,s.Uk)(" Sair")])])])])]),(0,s._)("div",Z,[K,(0,s._)("div",G,[(0,s.Wm)(d)])])])}var Q={setup(){const t=(0,d.tv)(),a=(0,D.qj)({msg:"hello"}),e=()=>{C().fire({title:"Confirmação",text:"Deseja sair do sistema ? ",icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&(B.commit("clearState"),t.push({name:"login"}))}))};return{data:a,confirmAppExit:e}}};const X=(0,i.Z)(Q,[["render",J],["__scopeId","data-v-45c59962"]]);var tt=X;const at=t=>((0,s.dD)("data-v-379093ff"),t=t(),(0,s.Cn)(),t),et={class:"inicio-view page-content"},nt={class:"row"},st={class:"col-6"},ot=at((()=>(0,s._)("div",{class:"col-6",style:{display:"flex"}},null,-1))),it={class:"row"},rt={class:"col-6"},lt={class:"card cards-content-chart"},ct=at((()=>(0,s._)("h1",{class:"chart-content-title"},"Gastos por categoria",-1))),dt={class:"chart-pie-content",style:{"justify-content":"center","min-height":"300px","margin-bottom":"30px"}},ut=at((()=>(0,s._)("div",{id:"bar-chart"},null,-1))),pt={class:"col-6"},gt={class:"card cards-content-chart ranking-category"},mt=at((()=>(0,s._)("h1",{class:"chart-content-title"},"Ranking de gastos",-1))),_t={class:"chart-pie-content",style:{"padding-left":"64px"}},bt={class:"details-pie-content"},ft={class:"categories-progress"},ht={class:"progress",style:{height:"20px"}};function vt(t,a,e,n,o,i){const r=(0,s.up)("page-title"),l=(0,s.up)("no-content");return(0,s.wg)(),(0,s.iD)("div",et,[(0,s._)("div",nt,[(0,s._)("div",st,[(0,s.Wm)(r,{style:{border:"none"},title:"Bem vindo, "+n.data.user_show_name+"!",subtitle:"Acompanhe aqui a evolução das suas finanças."},null,8,["title"])]),ot]),(0,s._)("div",it,[(0,s._)("div",rt,[(0,s._)("div",lt,[ct,(0,s._)("div",dt,[null==n.data.dashboard.expensePerCategoryData?((0,s.wg)(),(0,s.j4)(l,{key:0,message:"Não há dados no período",style:{position:"relative",top:"50%"}})):(0,s.kq)("",!0),ut])])]),(0,s._)("div",pt,[(0,s._)("div",gt,[mt,(0,s._)("div",_t,[(0,s._)("div",bt,[null==n.data.dashboard.expensePerCategoryData?((0,s.wg)(),(0,s.j4)(l,{key:0,message:"Não há dados no período",style:{position:"relative",top:"50%"}})):((0,s.wg)(!0),(0,s.iD)(s.HY,{key:1},(0,s.Ko)(n.data.dashboard.expensePerCategoryData,(t=>((0,s.wg)(),(0,s.iD)("div",ft,[(0,s._)("h4",null,(0,u.zw)(t.description)+" - "+(0,u.zw)(n.formatMoneyBRL(t.amount)),1),(0,s._)("div",ht,[(0,s._)("div",{class:"progress-bar progress-bar-animated",role:"progressbar",style:(0,u.j5)(`width: ${t.percentage}%; background:${n.data.dashboard.expensePerCategoryColors[t.description]}`),"aria-valuenow":"25","aria-valuemin":"0","aria-valuemax":"100"},null,4)])])))),256))])])])])])])}const yt={class:"page-title"},wt=(0,s._)("br",null,null,-1),Dt={key:0,class:"small subtitle"};function kt(t,a,e,n,o,i){const r=(0,s.up)("font-awesome-icon");return(0,s.wg)(),(0,s.iD)("h1",yt,[(0,s.Wm)(r,{icon:e.pageIcon},null,8,["icon"]),(0,s.Uk)(" "+(0,u.zw)(e.title),1),wt,e.subtitle?((0,s.wg)(),(0,s.iD)("small",Dt,(0,u.zw)(e.subtitle),1)):(0,s.kq)("",!0)])}var Ct={name:"PageTitle",props:["title","pageIcon","subtitle"]};const Pt=(0,i.Z)(Ct,[["render",kt]]);var xt=Pt,Ft=e(547);const $t=()=>{C().fire({title:"",text:"Processando aguarde....",icon:"",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1})},Tt=()=>{C().close()},St=(t,a)=>C().fire({title:"",text:"",html:`<h3>${t}</h3>`,icon:a,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0}),Mt=t=>{let a=new Date(t),e=a.getDate()<10?"0"+a.getDate():a.getDate(),n=a.getMonth()<10?"0"+a.getMonth()+1:a.getMonth()+1,s=a.getFullYear(),o=a.getHours()<10?"0"+a.getHours():a.getHours(),i=a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes();return`${e}/${n}/${s} ${o}:${i}`},Rt=t=>{let a=new Date(t),e=a.getDate()<10?"0"+a.getDate():a.getDate(),n=a.getMonth()+1<10?"0"+(a.getMonth()+1):a.getMonth()+1,s=a.getFullYear();return`${s}-${n}-${e}`},At=async(t,a)=>{try{$t();let e=`/users/${t}/dashboard/expense-per-category?initial_date=${Rt(a.filters.initialDate)}&end_date=${Rt(a.filters.endDate)}`,n=await j.get(e);return Tt(),n}catch(e){C().close(),St("Falha ao obter dados do dashboard","error")}},Bt=async t=>{let a=[],e=await At(B.getters.userData.user_id,t);t.dashboard.expensePerCategoryData=e.data;for(let s=0;s<e.data.length;s++)a.push([e.data[s].description,e.data[s].amount]);let n={data:{columns:a,type:(0,Ft.ve)()},pie:{width:{ratio:.3}},legend:{show:!0,position:"right"},bindto:"#bar-chart"};if(0!==e.data.length){let a=Ft.ZP.generate(n);return a.resize({width:600,height:350}),t.dashboard.expensePerCategoryColors=a.data.colors(),a}t.dashboard.expensePerCategoryData=null,t.dashboard.expensePerCategoryColors=null},Lt=t=>parseInt(t).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),zt={class:"no-content-container"};function jt(t,a,e,n,o,i){return(0,s.wg)(),(0,s.iD)("p",zt,(0,u.zw)(e.message),1)}var Vt={name:"NoContent",props:["message"]};const Wt=(0,i.Z)(Vt,[["render",jt]]);var Ot=Wt,Ut={components:{NoContent:Ot,pageTitle:xt},setup(){const t=(0,D.qj)({user_show_name:B.getters.userData.show_name,filters:{initialDate:"",endDate:""},dashboard:{expensePerCategoryData:null,expensePerCategoryColors:[]}});return(0,s.bv)((()=>{const a=new Date;t.filters.initialDate=new Date(a.getFullYear(),a.getMonth(),1),t.filters.endDate=new Date(a.getFullYear(),a.getMonth()+1,0),Bt(t)})),{data:t,formatMoneyBRL:Lt}}};const It=(0,i.Z)(Ut,[["render",vt],["__scopeId","data-v-379093ff"]]);var Nt=It;const Yt=t=>((0,s.dD)("data-v-b7006dbc"),t=t(),(0,s.Cn)(),t),qt={class:"contas-view page-content"},Et={class:"row"},Ht={class:"col-12"},Zt={class:"card page-card"},Kt={class:"alert alert-primary label-top"},Gt={class:"row"},Jt={class:"col-3"},Qt=Yt((()=>(0,s._)("h4",{class:"tipo-transacao-label"},"Resultado do mês",-1))),Xt={key:0,class:"value-label negative-label"},ta={key:1,class:"value-label positive-label"},aa={class:"page-action"},ea={class:"show-per-page"},na=(0,s.uE)('<option value="5" data-v-b7006dbc>5</option><option value="10" data-v-b7006dbc>10</option><option value="15" data-v-b7006dbc>15</option><option value="50" data-v-b7006dbc>50</option><option value="100" data-v-b7006dbc>100</option>',5),sa=[na],oa={class:"row"},ia={class:"col-6"},ra=Yt((()=>(0,s._)("label",{class:"form-label"},"Descrição",-1))),la={class:"input-group"},ca={class:"col-4"},da=Yt((()=>(0,s._)("label",{class:"form-label"},"Data",-1))),ua={style:{display:"flex"}},pa=["value"],ga=Yt((()=>(0,s._)("span",{style:{padding:"10px"}},"até",-1))),ma=["value"],_a={class:"col-2"},ba={class:"card-body page-card-body"},fa={key:1,class:"table table-striped"},ha=Yt((()=>(0,s._)("tr",{class:"page-table-header"},[(0,s._)("th",null,"Descrição"),(0,s._)("th",null,"Tipo"),(0,s._)("th",null,"Saldo"),(0,s._)("th",null,"Última atualização"),(0,s._)("th")],-1))),va={class:"page-table-row"},ya=["onClick"],wa=["onClick"],Da=["onClick"],ka={class:"positive-label"},Ca=["onClick"],Pa={class:"negative-label"},xa=["onClick"],Fa={class:"normal-label"},$a=["onClick"],Ta={class:"row-btn-actions"},Sa=["onClick"],Ma=["onClick"],Ra={key:0,class:"row",style:{padding:"20px"}},Aa={class:"col-12"},Ba={"aria-label":"Page navigation example"},La={class:"pagination"},za={class:"page-item"},ja={class:"page-item"},Va={key:0,class:"page-link"},Wa=["onClick"],Oa={class:"page-item"};function Ua(t,a,e,o,i,r){const l=(0,s.up)("page-title"),c=(0,s.up)("font-awesome-icon"),d=(0,s.up)("v-date-picker"),p=(0,s.up)("no-content");return(0,s.wg)(),(0,s.iD)("div",qt,[(0,s._)("div",Et,[(0,s._)("div",Ht,[(0,s._)("div",Zt,[(0,s.Wm)(l,{title:"Contas","page-icon":"fa-solid fa-receipt",subtitle:"Gerencie suas contas",style:{padding:"20px"}}),(0,s._)("div",Kt,[(0,s._)("div",Gt,[(0,s._)("div",Jt,[Qt,o.isNegativeAmount?((0,s.wg)(),(0,s.iD)("span",Xt,(0,u.zw)(o.totalAmountAccounts),1)):((0,s.wg)(),(0,s.iD)("span",ta,(0,u.zw)(o.totalAmountAccounts),1))])])]),(0,s._)("div",aa,[(0,s._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:a[0]||(a[0]=t=>o.openForm(null))},[(0,s.Wm)(c,{icon:"fa-solid fa-circle-plus"})]),(0,s._)("button",{class:"btn btn-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>o.openFilter&&o.openFilter(...t))},[(0,s.Wm)(c,{icon:"fa-solid fa-filter"})]),(0,s._)("div",ea,[(0,s.wy)((0,s._)("select",{onChange:a[2]||(a[2]=(...t)=>o.changeLimitPerPage&&o.changeLimitPerPage(...t)),"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.pagination.limit=t),class:"form-select show-pages"},sa,544),[[n.bM,o.data.pagination.limit]])])]),(0,s._)("div",{class:(0,u.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,s._)("div",oa,[(0,s._)("div",ia,[ra,(0,s._)("div",la,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.filters.description=t),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,s._)("div",ca,[da,(0,s.Wm)(d,{modelValue:o.data.filters.range,"onUpdate:modelValue":a[5]||(a[5]=t=>o.data.filters.range=t),mode:"date","is-range":""},{default:(0,s.w5)((({inputValue:t,inputEvents:a,isDragging:e})=>[(0,s._)("div",ua,[(0,s._)("input",(0,s.dG)({class:"form-control",style:{"margin-right":"10px"},value:t.start},(0,s.mx)(a.start,!0)),null,16,pa),ga,(0,s._)("input",(0,s.dG)({class:"form-control",value:t.end},(0,s.mx)(a.end,!0)),null,16,ma)])])),_:1},8,["modelValue"])]),(0,s._)("div",_a,[(0,s._)("button",{type:"button",onClick:a[6]||(a[6]=(...t)=>o.searchFilter&&o.searchFilter(...t)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(c,{icon:"fa-solid fa-search"})])])])],2),(0,s._)("div",ba,[o.data.contas.length?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(p,{key:0,message:"Ainda não há contas cadastradas, clique adicionar para cria sua primeira conta"})),o.data.contas.length?((0,s.wg)(),(0,s.iD)("table",fa,[ha,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.contas,(t=>((0,s.wg)(),(0,s.iD)("tr",va,[(0,s._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,u.zw)(t.description),9,ya),(0,s._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},[(0,s._)("span",{class:"badge rounded-pill text-bg-primary",style:(0,u.j5)(`background:${t.accountType.color}!important`)},(0,u.zw)(t.accountType.description),5)],8,wa),t.amount>0?((0,s.wg)(),(0,s.iD)("td",{key:0,onClick:a=>o.openTransactions(t.id,t.description)},[(0,s._)("span",ka,"+"+(0,u.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,Da)):t.amount<0?((0,s.wg)(),(0,s.iD)("td",{key:1,onClick:a=>o.openTransactions(t.id,t.description)},[(0,s._)("span",Pa,(0,u.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,Ca)):((0,s.wg)(),(0,s.iD)("td",{key:2,onClick:a=>o.openTransactions(t.id,t.description)},[(0,s._)("span",Fa,(0,u.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)],8,xa)),(0,s._)("td",{onClick:a=>o.openTransactions(t.id,t.description)},(0,u.zw)(o.formatDateAndHour(t.updated_at)),9,$a),(0,s._)("td",null,[(0,s._)("div",Ta,[(0,s._)("button",{type:"button",onClick:a=>o.openForm(t.id),class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(c,{icon:"fa-solid fa-pen-to-square"})],8,Sa),(0,s._)("button",{type:"button",onClick:a=>o.deletePrompt(t.description,t.id),class:"btn btn-outline-danger"},[(0,s.Wm)(c,{icon:"fa-solid fa-trash"})],8,Ma)])])])))),256))])):(0,s.kq)("",!0)]),o.data.contas.length?((0,s.wg)(),(0,s.iD)("div",Ra,[(0,s._)("div",Aa,[(0,s._)("nav",Ba,[(0,s._)("ul",La,[(0,s._)("li",za,[(0,s._)("a",{onClick:a[7]||(a[7]=(0,n.iM)((t=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.pagination.pages,(t=>((0,s.wg)(),(0,s.iD)("li",ja,["..."===t?((0,s.wg)(),(0,s.iD)("span",Va,"...")):((0,s.wg)(),(0,s.iD)("a",{key:1,onClick:(0,n.iM)((a=>o.linkNavigationPage(t)),["prevent"]),class:(0,u.C_)(["page-link",{active:o.data.pagination.current_page===t}]),href:"#"},(0,u.zw)(t),11,Wa))])))),256)),(0,s._)("li",Oa,[(0,s._)("a",{onClick:a[8]||(a[8]=(0,n.iM)((t=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,s.kq)("",!0)])])])])}const Ia=(t,a,e,n)=>{$t();let s=`/users/${t}/accounts?limit=${a}&page=${e}`;null!=n.filters.description&&(s=s.concat(`&description=${n.filters.description}`)),s=s.concat(`&initial_date=${Rt(n.filters.range.start)}&end_date=${Rt(n.filters.range.end)}`),j.get(s).then((t=>{C().close(),n.pagination.current_page=t.data.current_page,n.pagination.totalPages=t.data.total_pages,n.pagination.totalRows=t.data.total_rows,n.contas=t.data.items})).catch((t=>{C().close(),St("Falha ao obter lista de contas","error")}))},Na=(t,a,e)=>{j.get(`/users/${t}/accounts/${a}`).then((t=>{C().close(),e.account.description=t.data.description,e.account.account_type_id=t.data.accountType.id})).catch((t=>{C().close(),St("Falha ao obter dados da conta","error")}))},Ya=(t,a,e)=>{$t(),j.post(`/users/${t}/accounts`,a.account).then((t=>{St("Conta cadastrada com sucesso!","success").then((t=>{t.isConfirmed&&e.push({name:"contas"})}))})).catch((t=>{C().close(),St("Falha ao cadastrar conta!","error")}))},qa=(t,a,e,n)=>{$t(),j.put(`/users/${t}/accounts/${a}`,n.account).then((t=>{St("Conta atualizada com sucesso!","success").then((t=>{t.isConfirmed&&e.push({name:"contas"})}))})).catch((t=>{C().close(),St("Falha ao atualizar conta","error")}))},Ea=(t,a,e)=>($t(),j["delete"](`/users/${t}/accounts/${a}`).then((a=>{C().close(),Ia(t,e.pagination.limit,e.pagination.current_page,e)})).catch((t=>{console.log(t),C().close(),St("Falha ao deletar conta","error")}))),Ha=(t,a,e,n)=>{let s,o=[],i=Math.ceil(a/e),r=Math.ceil(n/2);s=t<=r?"start":i-r<t?"end":"middle";let l=n<i,c=1;while(c<=i&&c<=n){let a=Za(c,t,n,i),e=2===c&&("middle"===s||"end"===s),r=c===n-1&&("middle"===s||"start"===s);l&&(e||r)?o.push("..."):o.push(a),c++}return o},Za=(t,a,e,n)=>{var s=Math.ceil(e/2);return t===e?n:1===t?t:e<n?n-s<a?n-e+t:s<a?a-s+t:t:t},Ka=(t,a)=>{$t();let e=`/users/${t}/accounts/statistics`;e=e.concat(`?initial_date=${Rt(a.filters.range.start)}&end_date=${Rt(a.filters.range.end)}`),j.get(e).then((t=>{C().close(),console.log(t.data),a.statistics=t.data})).catch((t=>{C().close(),St("Falha ao obter estatística  da conta","error")}))},Ga=(t,a,e)=>{$t();let n=`/users/${t}/accounts/${a}/statistics`;n=n.concat(`?initial_date=${Rt(e.filters.range.start)}&end_date=${Rt(e.filters.range.end)}`),j.get(n).then((t=>{C().close(),e.statistics=t.data})).catch((t=>{C().close(),St("Falha ao obter estatística  da conta","error")}))};var Ja={components:{PageTitle:xt,NoContent:Ot},setup(){const t=(0,d.tv)(),a=(0,D.qj)({contas:[],isOpenFilter:!0,statistics:{},filters:{range:null,description:null},pagination:{pages:[],limit:15,current_page:1,totalPages:0,totalRows:0}});(0,s.YP)((()=>a.contas),(t=>{a.pagination.current_page>1&&0===t.length&&Ia(B.getters.userData.user_id,a.pagination.limit,a.pagination.current_page-1,a),a.pagination.pages=Ha(a.pagination.current_page,a.pagination.totalRows,a.pagination.limit,8)}));let e=()=>{a.isOpenFilter?a.isOpenFilter=!1:a.isOpenFilter=!0},n=a=>{null==a?t.push({name:"contas-form"}):t.push({name:"contas-form-edit",params:{id:a}})},o=(t,e)=>{C().fire({title:"Confirmação",text:`Deseja deletar a conta ${t}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&(Ea(B.getters.userData.user_id,e,a),Ka(B.getters.userData.user_id,a))}))};const i=t=>{if("prev"===t&&a.pagination.current_page>1)return a.pagination.current_page-=1,void Ia(B.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a);if("next"===t){if(a.pagination.current_page>=a.pagination.totalPages)return;a.pagination.current_page+=1,Ia(B.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)}},r=()=>{Ia(B.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)},l=t=>{Ia(B.getters.userData.user_id,a.pagination.limit,t,a)},c=()=>{null!=a.filters.range?(B.commit("setDateFilterRange",a.filters.range),Ka(B.getters.userData.user_id,a),Ia(B.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)):C().fire("Informe um periodo no filtro de busca","","error")},u=(a,e)=>{t.push({name:"conta-transaction",params:{id:a}})},p=(0,s.Fl)((()=>{let t=a.statistics.period_amount/100;return t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),g=(0,s.Fl)((()=>a.statistics.period_amount<0));return(0,s.bv)((()=>{const t=new Date,e={start:new Date(t.getFullYear(),t.getMonth(),1),end:new Date(t.getFullYear(),t.getMonth()+1,0)};null!=B.getters.getDateFilterRange?a.filters.range=B.getters.getDateFilterRange:(B.commit("setDateFilterRange",e),a.filters.range=e),Ka(B.getters.userData.user_id,a),Ia(B.getters.userData.user_id,a.pagination.limit,a.pagination.current_page,a)})),{data:a,openForm:n,openFilter:e,deletePrompt:o,navigatePages:i,changeLimitPerPage:r,linkNavigationPage:l,searchFilter:c,openTransactions:u,formatDateAndHour:Mt,totalAmountAccounts:p,isNegativeAmount:g}}};const Qa=(0,i.Z)(Ja,[["render",Ua],["__scopeId","data-v-b7006dbc"]]);var Xa=Qa;const te=t=>((0,s.dD)("data-v-73b47434"),t=t(),(0,s.Cn)(),t),ae={class:"conta-form-view page-content"},ee={class:"row"},ne={class:"col-12"},se={class:"card form-page-card"},oe={class:"card-body page-card-body"},ie={class:"mb-3"},re=te((()=>(0,s._)("label",{for:"description",class:"form-label"},"Descrição",-1))),le={class:"mb-3"},ce=te((()=>(0,s._)("label",{for:"accounttype",class:"form-label"},"Tipo de conta",-1))),de=te((()=>(0,s._)("option",{value:""},"Selecione um tipo de conta",-1))),ue=["value"],pe={class:"mb-3"};function ge(t,a,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("page-title");return(0,s.wg)(),(0,s.iD)("div",ae,[(0,s.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/contas"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,s.Uk)(" Voltar")])),_:1}),(0,s._)("div",ee,[(0,s._)("div",ne,[(0,s._)("div",se,[(0,s.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,s._)("div",oe,[(0,s._)("form",null,[(0,s._)("div",ie,[re,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.account.description=t),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.account.description]])]),(0,s._)("div",le,[ce,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.account.account_type_id=t),"aria-label":"Default select example"},[de,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.accountTypes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id},(0,u.zw)(t.description),9,ue)))),256))],512),[[n.bM,o.data.account.account_type_id]])]),(0,s._)("div",pe,[(0,s._)("button",{style:{"margin-right":"10px"},onClick:a[2]||(a[2]=(...t)=>o.submit&&o.submit(...t)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,s._)("button",{type:"button",onClick:a[3]||(a[3]=(...t)=>o.backPage&&o.backPage(...t)),class:"btn btn-secondary"},"Cancelar")])])])])])])])}const me=t=>($t(),j.get("/account-types").then((a=>{C().close(),t.accountTypes=a.data})).catch((t=>{C().fire("Falha ao obter lista de tipos de contas","","error")})));var _e={components:{PageTitle:xt},setup(){const t=(0,d.tv)(),a=(0,d.yj)(),e=(0,D.qj)({pageTitle:"",subtitle:"",accountTypes:[],account:{description:"",account_type_id:""}}),n=()=>{t.push({name:"contas"})},o=()=>{e.account.description?e.account.account_type_id?null!=a.params.id?(console.log("caiu errado no update"),qa(B.getters.userData.user_id,a.params.id,t,e)):Ya(B.getters.userData.user_id,e,t):C().fire("Atenção","Selecione um tipo de conta","warning",""):C().fire("Atenção","Preencha o campo Descrição","warning","")};return(0,s.bv)((()=>{if(null!=a.params.id)return e.pageTitle="Editar conta",e.subtitle="Edite sua conta",me(e),void Na(B.getters.userData.user_id,a.params.id,e);e.pageTitle="Nova conta",e.subtitle="Preencha o formulário abaixo para criar uma nova conta",me(e)})),{data:e,backPage:n,submit:o}}};const be=(0,i.Z)(_e,[["render",ge],["__scopeId","data-v-73b47434"]]);var fe=be;const he={class:"page-view page-content"},ve={class:"card page-card"},ye={class:"alert alert-primary label-top"},we={class:"row"},De={class:"col-3"},ke={class:"tipo-transacao-label"},Ce={class:"page-action"},Pe={class:"show-per-page"},xe=(0,s._)("option",{value:"5"},"5",-1),Fe=(0,s._)("option",{value:"10"},"10",-1),$e=(0,s._)("option",{value:"50"},"50",-1),Te=(0,s._)("option",{value:"100"},"100",-1),Se=[xe,Fe,$e,Te],Me={class:"row"},Re={class:"col-4"},Ae=(0,s._)("label",{class:"form-label"},"Descrição",-1),Be={class:"input-group"},Le={class:"col-4"},ze=(0,s._)("label",{class:"form-label"},"Data",-1),je={style:{display:"flex"}},Ve=["value"],We=(0,s._)("span",{style:{padding:"10px"}},"até",-1),Oe=["value"],Ue={class:"col-2"},Ie={class:"card-body page-card-body"},Ne={key:1,class:"table"},Ye=(0,s._)("tr",{class:"page-table-header"},[(0,s._)("th",null,"Descrição"),(0,s._)("th",null,"Data"),(0,s._)("th",null,"Tipo"),(0,s._)("th",null,"Categoria"),(0,s._)("th",null,"Valor"),(0,s._)("th",null,"Parcelado"),(0,s._)("th",null,"Qtd.Parcelas"),(0,s._)("th",null,"N.Parcela"),(0,s._)("th")],-1),qe={class:"page-table-row"},Ee={key:0},He={class:"badge rounded-pill text-bg-primary",style:{background:"#3c9536!important"}},Ze={key:1},Ke={class:"badge rounded-pill text-bg-primary",style:{background:"#a81616!important"}},Ge={key:2},Je={class:"positive-label"},Qe={key:3},Xe={class:"negative-label"},tn={class:"row-btn-actions"},an=["onClick"],en=["onClick"],nn={key:0,class:"row",style:{padding:"20px"}},sn={class:"col-12"},on={"aria-label":"Page navigation example"},rn={class:"pagination"},ln={class:"page-item"},cn={class:"page-item"},dn={key:0,class:"page-link"},un=["onClick"],pn={class:"page-item"};function gn(t,a,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("page-title"),p=(0,s.up)("v-date-picker"),g=(0,s.up)("no-content");return(0,s.wg)(),(0,s.iD)("div",he,[(0,s.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/contas"},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,s.Uk)(" Voltar")])),_:1}),(0,s._)("div",ve,[(0,s.Wm)(d,{title:`Transações - ${o.data.accountDetails.description}`,subtitle:`Tipo - ${o.data.accountDetails.type}`,"page-icon":"fa-solid fa-receipt"},null,8,["title","subtitle"]),(0,s._)("div",ye,[(0,s._)("div",we,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.statistics,(t=>((0,s.wg)(),(0,s.iD)("div",De,[(0,s._)("h4",ke,(0,u.zw)(t.description),1),(0,s._)("span",{class:(0,u.C_)(["value-label normal-label",{"negative-label":t.amount<0,"positive-label":t.amount>0}])},(0,u.zw)(t.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),3)])))),256))])]),(0,s._)("div",Ce,[(0,s._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:a[0]||(a[0]=t=>o.openForm(null))},[(0,s.Wm)(l,{icon:"fa-solid fa-circle-plus"})]),(0,s._)("button",{class:"btn btn-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>o.openFilter&&o.openFilter(...t))},[(0,s.Wm)(l,{icon:"fa-solid fa-filter"})]),(0,s._)("div",Pe,[(0,s.wy)((0,s._)("select",{onChange:a[2]||(a[2]=(...t)=>o.changeLimitPerPage&&o.changeLimitPerPage(...t)),"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.pagination.limit=t),class:"form-select show-pages"},Se,544),[[n.bM,o.data.pagination.limit]])])]),(0,s._)("div",{class:(0,u.C_)(["filter-body",{"filter-body-open":o.data.isOpenFilter}])},[(0,s._)("div",Me,[(0,s._)("div",Re,[Ae,(0,s._)("div",Be,[(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.filters.description=t),class:"form-control"},null,512),[[n.nr,o.data.filters.description]])])]),(0,s._)("div",Le,[ze,(0,s.Wm)(p,{modelValue:o.data.filters.range,"onUpdate:modelValue":a[5]||(a[5]=t=>o.data.filters.range=t),mode:"date","is-range":""},{default:(0,s.w5)((({inputValue:t,inputEvents:a,isDragging:e})=>[(0,s._)("div",je,[(0,s._)("input",(0,s.dG)({class:"form-control",style:{"margin-right":"10px"},value:t.start},(0,s.mx)(a.start,!0)),null,16,Ve),We,(0,s._)("input",(0,s.dG)({class:"form-control",value:t.end},(0,s.mx)(a.end,!0)),null,16,Oe)])])),_:1},8,["modelValue"])]),(0,s._)("div",Ue,[(0,s._)("button",{type:"button",onClick:a[6]||(a[6]=(...t)=>o.searchFilter&&o.searchFilter(...t)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(l,{icon:"fa-solid fa-search"})])])])],2),(0,s._)("div",Ie,[o.data.transactions.length?((0,s.wg)(),(0,s.iD)("table",Ne,[Ye,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.transactions,(t=>((0,s.wg)(),(0,s.iD)("tr",qe,[(0,s._)("td",null,(0,u.zw)(t.description),1),(0,s._)("td",null,(0,u.zw)(t.date),1),"receita"===t.transaction_type.slug_name?((0,s.wg)(),(0,s.iD)("td",Ee,[(0,s._)("span",He,(0,u.zw)(t.transaction_type.description),1)])):((0,s.wg)(),(0,s.iD)("td",Ze,[(0,s._)("span",Ke,(0,u.zw)(t.transaction_type.description),1)])),(0,s._)("td",null,(0,u.zw)(t.category.description),1),"receita"===t.transaction_type.slug_name?((0,s.wg)(),(0,s.iD)("td",Ge,[(0,s._)("span",Je,"+ "+(0,u.zw)(t.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])):((0,s.wg)(),(0,s.iD)("td",Qe,[(0,s._)("span",Xe," - "+(0,u.zw)(t.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])),(0,s._)("td",null,(0,u.zw)(t.installment?"Sim":"Não"),1),(0,s._)("td",null,(0,u.zw)(null==t.amount_installment?"-":t.amount_installment),1),(0,s._)("td",null,(0,u.zw)(null==t.current_installment?"-":t.current_installment),1),(0,s._)("td",null,[(0,s._)("div",tn,[(0,s._)("button",{type:"button",onClick:a=>o.openForm(t.id),class:"btn btn-primary btn-primary-custom"},[(0,s.Wm)(l,{icon:"fa-solid fa-pen-to-square"})],8,an),(0,s._)("button",{type:"button",onClick:a=>o.deletePrompt(t.description,t.id),class:"btn btn-outline-danger"},[(0,s.Wm)(l,{icon:"fa-solid fa-trash"})],8,en)])])])))),256))])):((0,s.wg)(),(0,s.j4)(g,{key:0,message:"Ainda não há transações para esta conta"}))]),o.data.transactions.length?((0,s.wg)(),(0,s.iD)("div",nn,[(0,s._)("div",sn,[(0,s._)("nav",on,[(0,s._)("ul",rn,[(0,s._)("li",ln,[(0,s._)("a",{onClick:a[7]||(a[7]=(0,n.iM)((t=>o.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.pagination.pages,(t=>((0,s.wg)(),(0,s.iD)("li",cn,["..."===t?((0,s.wg)(),(0,s.iD)("span",dn,"...")):((0,s.wg)(),(0,s.iD)("a",{key:1,onClick:(0,n.iM)((a=>o.linkNavigationPage(t)),["prevent"]),class:(0,u.C_)(["page-link",{active:o.data.pagination.current_page===t}]),href:"#"},(0,u.zw)(t),11,un))])))),256)),(0,s._)("li",pn,[(0,s._)("a",{onClick:a[8]||(a[8]=(0,n.iM)((t=>o.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,s.kq)("",!0)])])}const mn=(t,a,e)=>{$t(),j.get(`/users/${t}/accounts/${a}`).then((t=>{C().close(),e.accountDetails.description=t.data.description,e.accountDetails.type=t.data.accountType.description})).catch((t=>{C().close(),St("Falha ao obter dados da conta","error")}))},_n=(t,a,e)=>{$t();let n=`/users/${t}/accounts/${a}/transactions?limit=${e.pagination.limit}&page=${e.pagination.current_page}&initial_date=${Rt(e.filters.range.start)}&end_date=${Rt(e.filters.range.end)}`;null!=e.filters.description&&(n=n.concat(`&description=${e.filters.description}`)),j.get(n).then((t=>{C().close(),e.pagination.current_page=t.data.current_page,e.pagination.totalPages=t.data.total_pages,e.pagination.totalRows=t.data.total_rows,e.transactions=t.data.items})).catch((t=>{C().close(),St("Falha ao obter transações","error")}))},bn=(t,a,e,n)=>{j.get(`/users/${t}/accounts/${a}/transactions/${e}`).then((t=>{C().close(),n.transaction.description=t.data.description,n.transaction.transaction_type=t.data.transaction_type.id,n.transaction.transaction_category=t.data.category.id,n.transaction.date=t.data.date.split("/").reverse().join("-"),n.transaction.amount=t.data.amount})).catch((t=>{C().close(),St("Falha ao obter dados da transacao","error")}))},fn=(t,a,e,n)=>($t(),j["delete"](`/users/${t}/accounts/${a}/transactions/${e}`).then((e=>{C().close(),_n(t,a,n)})).catch((t=>{C().close(),St("Falha ao deletar transação","error")}))),hn=(t,a,e,n)=>{$t();let s=e.transaction;"false"===s.installment&&(delete s["installment"],delete s["amount_installments"]),s.amount=100*s.amount,j.post(`/users/${t}/accounts/${a}/transactions`,s).then((t=>{St("Transação cadastrada com sucesso!","success").then((t=>{t.isConfirmed&&n.push({name:"conta-transaction",params:{id:a}})}))})).catch((t=>{C().close(),St("Falha ao cadastrar transação!","error")}))},vn=(t,a,e,n,s)=>{$t();let o=n.transaction;delete o["installment"],delete o["amount_installments"],o.amount=100*o.amount,j.put(`/users/${t}/accounts/${a}/transactions/${e}`,o).then((t=>{St("Transação atualizada com sucesso!","success").then((t=>{t.isConfirmed&&s.push({name:"conta-transaction",params:{id:a}})}))})).catch((t=>{C().close(),St("Falha ao atualizar transação!","error")}))};var yn={name:"Transaction",components:{PageTitle:xt,NoContent:Ot},setup(){const t=(0,d.yj)(),a=(0,d.tv)();let e=(0,D.qj)({transactions:[],statistics:{},accountDetails:{description:null,type:null},isOpenFilter:!0,filters:{range:"",description:""},pagination:{pages:[],limit:10,current_page:1,totalPages:0,totalRows:0}});(0,s.YP)((()=>e.transactions),(a=>{e.pagination.current_page>1&&0===a.length&&(e.pagination.current_page-=1,_n(B.getters.userData.user_id,t.params.id,e)),e.pagination.pages=Ha(e.pagination.current_page,e.pagination.totalRows,e.pagination.limit,8)}));const n=a=>{if("prev"===a&&e.pagination.current_page>1)return e.pagination.current_page-=1,void _n(B.getters.userData.user_id,t.params.id,e);if("next"===a){if(e.pagination.current_page>=e.pagination.totalPages)return;e.pagination.current_page+=1,_n(B.getters.userData.user_id,t.params.id,e)}},o=a=>{e.pagination.current_page=a,_n(B.getters.userData.user_id,t.params.id,e)},i=()=>{_n(B.getters.userData.user_id,t.params.id,e)};let r=(a,n)=>{C().fire({title:"Confirmação",text:`Deseja deletar a transação descrita como ${a}?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&(fn(B.getters.userData.user_id,t.params.id,n,e),Ga(B.getters.userData.user_id,t.params.id,e))}))},l=()=>{e.isOpenFilter?e.isOpenFilter=!1:e.isOpenFilter=!0},c=t=>{null==t?a.push({name:"conta-transaction-new"}):a.push({name:"conta-transaction-edit",params:{id_transaction:t}})};const u=(0,s.Fl)((()=>{let t=0,a=0,n=e.statistics;for(let e=0;e<n.length;e++)"Despesa"===n[e].description?a=-1*n[e].total:t=n[e].total;let s=t+a;return(s/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),p=()=>{null!=e.filters.range?(Ga(B.getters.userData.user_id,t.params.id,e),_n(B.getters.userData.user_id,t.params.id,e)):St("Preencha os filtros de data","error")};return(0,s.bv)((()=>{const a=new Date,n={start:new Date(a.getFullYear(),a.getMonth(),1),end:new Date(a.getFullYear(),a.getMonth()+1,0)};null!=B.getters.getDateFilterRange?e.filters.range=B.getters.getDateFilterRange:(B.commit("setDateFilterRange",n),e.filters.range=n),Ga(B.getters.userData.user_id,t.params.id,e),mn(B.getters.userData.user_id,t.params.id,e),_n(B.getters.userData.user_id,t.params.id,e)})),{data:e,linkNavigationPage:o,navigatePages:n,changeLimitPerPage:i,openFilter:l,deletePrompt:r,openForm:c,calculatedAmount:u,searchFilter:p}}};const wn=(0,i.Z)(yn,[["render",gn]]);var Dn=wn;const kn=t=>((0,s.dD)("data-v-7d355106"),t=t(),(0,s.Cn)(),t),Cn={class:"conta-form-view page-content"},Pn={class:"row"},xn={class:"col-12"},Fn={class:"card form-page-card"},$n={class:"card-body page-card-body"},Tn={class:"row space-rows"},Sn={class:"col-6"},Mn=kn((()=>(0,s._)("label",{for:"description",class:"form-label"},"Descrição",-1))),Rn={class:"col-6"},An=kn((()=>(0,s._)("label",{for:"date",class:"form-label"},"Data",-1))),Bn={class:"row space-rows"},Ln={class:"col-6"},zn=kn((()=>(0,s._)("label",{for:"tipo",class:"form-label"},"Tipo",-1))),jn=kn((()=>(0,s._)("option",{value:""},"Selecione um tipo",-1))),Vn=["value"],Wn={class:"col-6"},On=kn((()=>(0,s._)("label",{for:"valor",class:"form-label"},"Valor",-1))),Un={class:"row space-rows"},In={class:"col-6"},Nn=kn((()=>(0,s._)("label",{for:"categoria",class:"form-label"},"Categoria",-1))),Yn=["disabled"],qn=kn((()=>(0,s._)("option",{value:""},"Selecione uma categoria",-1))),En=["value"],Hn={key:0,class:"col-3"},Zn=kn((()=>(0,s._)("label",{for:"categoria",class:"form-label"},"Parcelamento ?",-1))),Kn=kn((()=>(0,s._)("option",{value:"false"},"Não",-1))),Gn=kn((()=>(0,s._)("option",{value:"true"},"Sim",-1))),Jn=[Kn,Gn],Qn={key:1,class:"col-1"},Xn=kn((()=>(0,s._)("label",{for:"parcelas",class:"form-label"},"Parcelas",-1))),ts=["disabled"],as={class:"row"},es={class:"mb-3"};function ns(t,a,e,o,i,r){const l=(0,s.up)("font-awesome-icon"),c=(0,s.up)("router-link"),d=(0,s.up)("page-title"),p=(0,s.up)("CurrencyInput");return(0,s.wg)(),(0,s.iD)("div",Cn,[(0,s.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:`/app/conta/${t.$route.params.id}/transaction`},{default:(0,s.w5)((()=>[(0,s.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,s.Uk)(" Voltar")])),_:1},8,["to"]),(0,s._)("div",Pn,[(0,s._)("div",xn,[(0,s._)("div",Fn,[(0,s.Wm)(d,{title:o.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:o.data.subtitle},null,8,["title","subtitle"]),(0,s._)("div",$n,[(0,s._)("form",null,[(0,s._)("div",Tn,[(0,s._)("div",Sn,[Mn,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=t=>o.data.transaction.description=t),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.transaction.description]])]),(0,s._)("div",Rn,[An,(0,s.wy)((0,s._)("input",{type:"date","onUpdate:modelValue":a[1]||(a[1]=t=>o.data.transaction.date=t),class:"form-control",id:"date",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,o.data.transaction.date]])])]),(0,s._)("div",Bn,[(0,s._)("div",Ln,[zn,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=t=>o.data.transaction.transaction_type=t)},[jn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.transactionTypes,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id},(0,u.zw)(t.description),9,Vn)))),256))],512),[[n.bM,o.data.transaction.transaction_type]])]),(0,s._)("div",Wn,[On,(0,s.Wm)(p,{options:{currency:"BRL"},modelValue:o.data.transaction.amount,"onUpdate:modelValue":a[3]||(a[3]=t=>o.data.transaction.amount=t),class:"form-control"},null,8,["modelValue"])])]),(0,s._)("div",Un,[(0,s._)("div",In,[Nn,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=t=>o.data.transaction.transaction_category=t),disabled:o.data.selectStates.categoryDisable},[qn,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.data.transactionCategories,(t=>((0,s.wg)(),(0,s.iD)("option",{value:t.id},(0,u.zw)(t.description),9,En)))),256))],8,Yn),[[n.bM,o.data.transaction.transaction_category]])]),o.data.disableInstallment?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Hn,[Zn,(0,s.wy)((0,s._)("select",{class:"form-select","onUpdate:modelValue":a[5]||(a[5]=t=>o.data.transaction.installment=t)},Jn,512),[[n.bM,o.data.transaction.installment]])])),o.data.disableInstallment?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",Qn,[Xn,(0,s.wy)((0,s._)("input",{type:"text","onUpdate:modelValue":a[6]||(a[6]=t=>o.data.transaction.amount_installments=t),class:"form-control",disabled:o.data.selectStates.installmentDisable,id:"parcelas",placeholder:"Parcelas","aria-describedby":"descriptionHelp"},null,8,ts),[[n.nr,o.data.transaction.amount_installments]])]))]),(0,s._)("div",as,[(0,s._)("div",es,[(0,s._)("button",{style:{"margin-right":"10px"},onClick:a[7]||(a[7]=(...t)=>o.submit&&o.submit(...t)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,s._)("button",{type:"button",onClick:a[8]||(a[8]=(...t)=>o.backPage&&o.backPage(...t)),class:"btn btn-secondary"},"Cancelar")])])])])])])])])}const ss=t=>($t(),j.get("/transaction-types").then((a=>{C().close(),t.transactionTypes=a.data})).catch((t=>{C().fire("Falha ao obter lista de tipos de transações","","error")}))),os=t=>($t(),j.get(`/transaction-categories?transaction_type_id=${t.transaction.transaction_type}`).then((a=>{C().close(),t.transactionCategories=a.data})).catch((t=>{C().fire("Falha ao obter lista de categorias","","error")}))),is={ref:"inputRef",type:"text"};function rs(t,a,e,n,o,i){return(0,s.wg)(),(0,s.iD)("input",is,null,512)}var ls=e(7613),cs={name:"CurrencyInput",props:{modelValue:Number,options:Object},setup(t){const{inputRef:a,setValue:e}=(0,ls.Er)(t.options);return(0,s.YP)((()=>t.modelValue),(t=>{e(t)})),{inputRef:a}}};const ds=(0,i.Z)(cs,[["render",rs]]);var us=ds,ps={components:{CurrencyInput:us,PageTitle:xt},setup(){const t=(0,d.tv)(),a=(0,d.yj)(),e=(0,D.qj)({pageTitle:"",subtitle:"",transactionTypes:[],transactionCategories:[],disableInstallment:!1,inputLabels:["Descrição","Data","Tipo","Valor","Categoria","Quantidade"],selectStates:{categoryDisable:!0,installmentDisable:!0},transaction:{description:"",date:"",transaction_type:"",amount:null,transaction_category:"",installment:"false",amount_installments:0}}),n=()=>{t.push({name:"conta-transaction",params:{id:a.params.id}})},o=()=>{let n=Object.getOwnPropertyNames(e.transaction);for(let t=0;t<n.length;t++){if(""===e.transaction[n[t]]||null==e.transaction[n[t]])return void St(`Preencha o campo ${e.inputLabels[t]}`,"error");if("installment"===n[t]&&"true"===e.transaction["installment"]&&0===e.transaction.amount_installments&&!1===e.disableInstallment)return void St("Numero de parcelas inválido","error")}null!=a.params.id_transaction?vn(B.getters.userData.user_id,a.params.id,a.params.id_transaction,e,t):hn(B.getters.userData.user_id,a.params.id,e,t)};return(0,s.YP)((()=>e.transaction.transaction_type),(t=>{if(""===t)return e.selectStates.categoryDisable=!0,void(e.transactionCategories=[]);e.selectStates.categoryDisable=!1,os(e)})),(0,s.YP)((()=>e.transaction.installment),(t=>{"true"!==t?(e.transaction.amount_installments=0,e.selectStates.installmentDisable=!0):e.selectStates.installmentDisable=!1})),(0,s.bv)((()=>{if(ss(e),null!=a.params.id_transaction)return e.pageTitle="Editar Transação",e.subtitle="Edite sua transação",e.disableInstallment=!0,void bn(B.getters.userData.user_id,a.params.id,a.params.id_transaction,e);e.disableInstallment=!1,e.pageTitle="Nova Transação",e.subtitle="Preencha o formulário abaixo para criar uma nova transação"})),{data:e,backPage:n,submit:o}}};const gs=(0,i.Z)(ps,[["render",ns],["__scopeId","data-v-7d355106"]]);var ms=gs;const _s=[{path:"/",name:"login",component:I},{path:"/app",name:"home",component:tt,redirect:"app/dashboard",children:[{path:"/app/dashboard",name:"dashboard",component:Nt},{path:"/app/contas",name:"contas",component:Xa},{path:"/app/contas/new",name:"contas-form",component:fe},{path:"/app/contas/edit/:id",name:"contas-form-edit",component:fe},{path:"/app/conta/:id/transaction",name:"conta-transaction",component:Dn},{path:"/app/conta/:id/transaction/new",name:"conta-transaction-new",component:ms},{path:"/app/conta/:id/transaction/edit/:id_transaction",name:"conta-transaction-edit",component:ms}]}],bs=(0,d.p7)({history:(0,d.r5)(),routes:_s,linkActiveClass:"active",linkExactActiveClass:"active"});bs.beforeEach(((t,a)=>{if("login"!=t.name){let t=B.getters.userData;if(!B.getters.isAuth)return bs.push({name:"login"});if(""===t.token||!t.hasOwnProperty("token"))return bs.push({name:"login"});W(t.token).then((t=>{})).catch((t=>(B.commit("clearState"),bs.push({name:"login"}))))}}));var fs=bs,hs=(e(5654),e(3494)),vs=e(7749),ys=e(8539),ws=e(1430);hs.vI.add(ys.J9Y,ys.dLy,ys.LjC,ys.mXR,ys.Ma4,ys.KtF,ys.G_j,ys.Yai,ys.$aW,ys.wn1,ys.acZ,ys.eFW),(0,n.ri)(c).use(B).use(ws.ZP).component("font-awesome-icon",vs.GN).use(fs).mount("#app")},2480:function(){}},a={};function e(n){var s=a[n];if(void 0!==s)return s.exports;var o=a[n]={exports:{}};return t[n].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(a,n,s,o){if(!n){var i=1/0;for(d=0;d<t.length;d++){n=t[d][0],s=t[d][1],o=t[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||i>=o)&&Object.keys(e.O).every((function(t){return e.O[t](n[l])}))?n.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(d--,1);var c=s();void 0!==c&&(a=c)}}return a}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[n,s,o]}}(),function(){e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,{a:a}),a}}(),function(){e.d=function(t,a){for(var n in a)e.o(a,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:a[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};e.O.j=function(a){return 0===t[a]};var a=function(a,n){var s,o,i=n[0],r=n[1],l=n[2],c=0;if(i.some((function(a){return 0!==t[a]}))){for(s in r)e.o(r,s)&&(e.m[s]=r[s]);if(l)var d=l(e)}for(a&&a(n);c<i.length;c++)o=i[c],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(d)},n=self["webpackChunkfinanceiro_front"]=self["webpackChunkfinanceiro_front"]||[];n.forEach(a.bind(null,0)),n.push=a.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(7301)}));n=e.O(n)})();
//# sourceMappingURL=app.19cb184b.js.map