(function(){var a={2384:function(a,t,e){"use strict";var n=e(9242),o=e(3396);function s(a,t){const e=(0,o.up)("router-view");return(0,o.wg)(),(0,o.j4)(e)}var i=e(89);const r={},l=(0,i.Z)(r,[["render",s]]);var c=l,d=(e(7658),e(2483)),u=e(7139);const p=a=>((0,o.dD)("data-v-71931602"),a=a(),(0,o.Cn)(),a),m={class:"login-view"},g={class:"login-form-content"},f=p((()=>(0,o._)("div",{class:"logo-content"},[(0,o._)("h1",null,"Sistema de Finanças")],-1))),_=p((()=>(0,o._)("h4",{class:"sub-title"},"Seja bem vindo, insira suas credencias para começar",-1))),b={class:"login-form"},v={class:"form-field-content",id:"userfield"},h={class:"form-field-content"},y=["disabled"];function w(a,t,e,s,i,r){return(0,o.wg)(),(0,o.iD)("div",m,[(0,o._)("div",g,[f,_,(0,o._)("div",b,[(0,o._)("form",null,[(0,o._)("div",v,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>s.data.username=a),placeholder:"Usuário"},null,512),[[n.nr,s.data.username]])]),(0,o._)("div",h,[(0,o.wy)((0,o._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=a=>s.data.password=a),placeholder:"Senha"},null,512),[[n.nr,s.data.password]])]),(0,o._)("button",{disabled:s.data.disabledBtnLogin,onClick:t[2]||(t[2]=(...a)=>s.authSubmit&&s.authSubmit(...a)),class:"login-btn",type:"button"},(0,u.zw)(s.data.buttonMsg),9,y)])])])])}var D=e(4870),k=e(2492),C=e.n(k),P=e(65),M=e(5103),F=e(8082),T=e.n(F),S=e(680);const x="state",$="state",A=S.Z.get(x)||"dcefb8d7-17dd-45cd-8123-91e92b7fc52c",B=new M.ZP({storage:{getItem:()=>{const a=window.localStorage.getItem($);if(a)try{const t=T().AES.decrypt(a,A);return JSON.parse(t.toString(T().enc.Utf8))}catch(t){window.localStorage.removeItem($)}return null},setItem:(a,t)=>{const e=T().AES.encrypt(t,A).toString();return window.localStorage.setItem($,e)},removeItem:()=>window.localStorage.removeItem($)}});var j=(0,P.MT)({state:{isAuth:!1,userData:{},metadata:{}},getters:{isAuth(a){return a.isAuth},userData(a){return a.userData},metadata(a){return a.metadata}},mutations:{enableAuth(a){a.isAuth=!0},disabledAuth(a){a.isAuth=!1},setUserData(a,t){a.userData=t},clearState(a){a.isAuth=!1,a.userData={}},setMetadata(a,t){a.metadata=t}},plugins:[B.plugin]}),L=e(70);let z={baseURL:"http://192.168.0.252:8080/api/v1",headers:{}};j.getters.isAuth&&(z.headers={Authorization:`bearer ${j.getters.userData.token}`});var R=L.ZP.create(z);const O=a=>R.post("/auth",{username:a.username,password:a.password}),U=a=>R.post("/check-token",{token:a});var W={setup(){const a=(0,d.tv)(),t=(0,D.qj)({username:null,password:null,disabledBtnLogin:!1,buttonMsg:"Entrar"}),e=()=>{t.username?t.password?(t.disabledBtnLogin=!0,t.buttonMsg="Processando Aguarde...",O(t).then((e=>{t.disabledBtnLogin=!1,t.buttonMsg="Entrar",j.commit("enableAuth"),j.commit("setUserData",e.data),a.push({name:"home"})})).catch((a=>{C().fire(a.response.data.message,"","error"),t.disabledBtnLogin=!1,t.buttonMsg="Entrar"}))):C().fire("Atenção","Preencha o campo Senha","warning",""):C().fire("Atenção","Preencha o campo Usuário","warning","")};return(0,o.bv)((()=>{})),{data:t,authSubmit:e}}};const V=(0,i.Z)(W,[["render",w],["__scopeId","data-v-71931602"]]);var I=V;const q=a=>((0,o.dD)("data-v-45c59962"),a=a(),(0,o.Cn)(),a),E={class:"home-view"},N={class:"sidebar"},Y=q((()=>(0,o._)("div",{class:"logo"},[(0,o._)("h1",null,"Sistema Financeiro")],-1))),Z={class:"sidebar-menu"},H={class:"home-fluid"},K=q((()=>(0,o._)("nav",{class:"home-navbar"},null,-1))),G={class:"content-center"};function J(a,t,e,s,i,r){const l=(0,o.up)("font-awesome-icon"),c=(0,o.up)("router-link"),d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",E,[(0,o._)("div",N,[Y,(0,o._)("nav",Z,[(0,o._)("ul",null,[(0,o._)("li",null,[(0,o.Wm)(c,{to:"/app/dashboard"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{icon:"fa-solid fa-house"}),(0,o.Uk)(" Inicio")])),_:1})]),(0,o._)("li",null,[(0,o.Wm)(c,{to:"/app/contas"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{icon:"fa-solid fa-receipt"}),(0,o.Uk)(" Contas")])),_:1})]),(0,o._)("li",null,[(0,o._)("a",{href:"",onClick:t[0]||(t[0]=(0,n.iM)(((...a)=>s.confirmAppExit&&s.confirmAppExit(...a)),["prevent"]))},[(0,o.Wm)(l,{icon:"fa-solid fa-right-from-bracket"}),(0,o.Uk)(" Sair")])])])])]),(0,o._)("div",H,[K,(0,o._)("div",G,[(0,o.Wm)(d)])])])}var Q={setup(){const a=(0,d.tv)(),t=(0,D.qj)({msg:"hello"}),e=()=>{C().fire({title:"Confirmação",text:"Deseja sair do sistema ? ",icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&(j.commit("clearState"),a.push({name:"login"}))}))};return{data:t,confirmAppExit:e}}};const X=(0,i.Z)(Q,[["render",J],["__scopeId","data-v-45c59962"]]);var aa=X;const ta={class:"inicio-view page-content"},ea={class:"row"},na={class:"col-6"},oa={class:"container cards-content-chart"},sa={class:"card chart-card"},ia={class:"card-body"},ra=(0,o.uE)('<div class="col-6" data-v-135da2af><div class="dropdown data-filter" data-v-135da2af><button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" data-v-135da2af> Hoje(27/10) </button><ul class="dropdown-menu" data-v-135da2af><li data-v-135da2af><button class="dropdown-item" type="button" data-v-135da2af>Action</button></li><li data-v-135da2af><button class="dropdown-item" type="button" data-v-135da2af>Another action</button></li><li data-v-135da2af><button class="dropdown-item" type="button" data-v-135da2af>Something else here</button></li></ul></div><div class="container cards-content" data-v-135da2af><div class="row metric-card-row" data-v-135da2af><div class="col-md-6" data-v-135da2af><div class="card metric-card metric-card-blue" data-v-135da2af><div class="card-body" data-v-135da2af><h5 class="title-card" data-v-135da2af>Total compras mês</h5><span class="card-value" data-v-135da2af>R$ 500,00</span></div></div></div><div class="col-md-6" data-v-135da2af><div class="card metric-card metric-card-blue" data-v-135da2af><div class="card-body" data-v-135da2af><h5 class="title-card" data-v-135da2af>Total compras mês</h5><span class="card-value" data-v-135da2af>R$ 500,00</span></div></div></div></div><div class="row" data-v-135da2af><div class="col-md-6" data-v-135da2af><div class="card metric-card metric-card-blue" data-v-135da2af><div class="card-body" data-v-135da2af><h5 class="title-card" data-v-135da2af>Total compras mês</h5><span class="card-value" data-v-135da2af>R$ 500,00</span></div></div></div><div class="col-md-6" data-v-135da2af><div class="card metric-card metric-card-blue" data-v-135da2af><div class="card-body" data-v-135da2af><h5 class="title-card" data-v-135da2af>Total compras mês</h5><span class="card-value" data-v-135da2af>R$ 500,00</span></div></div></div></div></div></div>',1);function la(a,t,e,n,s,i){const r=(0,o.up)("page-title"),l=(0,o.up)("bar");return(0,o.wg)(),(0,o.iD)("div",ta,[(0,o._)("div",ea,[(0,o._)("div",na,[(0,o.Wm)(r,{style:{border:"none"},title:"Bem vindo,"+n.data.user_show_name,subtitle:"Ajuste os filtros para obter resultados"},null,8,["title"]),(0,o._)("div",oa,[(0,o._)("div",sa,[(0,o._)("div",ia,[(0,o.Wm)(l,{"chart-data":n.data.chartData,"chart-options":n.data.chartOptions},null,8,["chart-data","chart-options"])])])])]),ra])])}var ca=e(6294),da=e(741);const ua={class:"page-title"},pa=(0,o._)("br",null,null,-1),ma={key:0,class:"small subtitle"};function ga(a,t,e,n,s,i){const r=(0,o.up)("font-awesome-icon");return(0,o.wg)(),(0,o.iD)("h1",ua,[(0,o.Wm)(r,{icon:e.pageIcon},null,8,["icon"]),(0,o.Uk)(" "+(0,u.zw)(e.title),1),pa,e.subtitle?((0,o.wg)(),(0,o.iD)("small",ma,(0,u.zw)(e.subtitle),1)):(0,o.kq)("",!0)])}var fa={name:"PageTitle",props:["title","pageIcon","subtitle"]};const _a=(0,i.Z)(fa,[["render",ga]]);var ba=_a;da.kL.register(da.Dx,da.u,da.De,da.ZL,da.uw,da.f$);var va={components:{Bar:ca.$Q,pageTitle:ba},setup(){const a=(0,D.qj)({chartData:{labels:["January","February","March"],datasets:[{label:"Faturas ao longo dos meses",backgroundColor:"#7DA0FA",data:[40,20,12]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1},user_show_name:j.getters.userData.show_name});return{data:a}}};const ha=(0,i.Z)(va,[["render",la],["__scopeId","data-v-135da2af"]]);var ya=ha;const wa=a=>((0,o.dD)("data-v-14e6da8a"),a=a(),(0,o.Cn)(),a),Da={class:"contas-view page-content"},ka={class:"row"},Ca={class:"col-12"},Pa={class:"card page-card"},Ma={class:"alert alert-primary label-top"},Fa={class:"row"},Ta={class:"col-3"},Sa=wa((()=>(0,o._)("h4",{class:"tipo-transacao-label"},"Resultado do Mês",-1))),xa={class:"value-label"},$a={class:"page-action"},Aa={class:"show-per-page"},Ba=wa((()=>(0,o._)("option",{value:"5"},"5",-1))),ja=wa((()=>(0,o._)("option",{value:"10"},"10",-1))),La=wa((()=>(0,o._)("option",{value:"50"},"50",-1))),za=wa((()=>(0,o._)("option",{value:"100"},"100",-1))),Ra=[Ba,ja,La,za],Oa={class:"row"},Ua={class:"col-6"},Wa=wa((()=>(0,o._)("label",{class:"form-label"},"Descrição",-1))),Va={class:"input-group"},Ia={class:"col-4"},qa=wa((()=>(0,o._)("label",{class:"form-label"},"Data",-1))),Ea={class:"input-group"},Na=wa((()=>(0,o._)("span",{style:{padding:"10px"}},"até",-1))),Ya={class:"col-2"},Za={class:"card-body page-card-body"},Ha={key:1,class:"table table-hover"},Ka=wa((()=>(0,o._)("tr",{class:"page-table-header"},[(0,o._)("th",null,"Descrição"),(0,o._)("th",null,"Tipo"),(0,o._)("th",null,"Saldo"),(0,o._)("th",null,"Última atualização"),(0,o._)("th")],-1))),Ga={class:"page-table-row"},Ja=["onClick"],Qa={key:0},Xa={class:"positive-label"},at={key:1},tt={class:"negative-label"},et={key:2},nt={class:"normal-label"},ot={class:"row-btn-actions"},st=["onClick"],it=["onClick"],rt={key:0,class:"row",style:{padding:"20px"}},lt={class:"col-12"},ct={"aria-label":"Page navigation example"},dt={class:"pagination"},ut={class:"page-item"},pt={class:"page-item"},mt={key:0,class:"page-link"},gt=["onClick"],ft={class:"page-item"};function _t(a,t,e,s,i,r){const l=(0,o.up)("page-title"),c=(0,o.up)("font-awesome-icon"),d=(0,o.up)("no-content");return(0,o.wg)(),(0,o.iD)("div",Da,[(0,o._)("div",ka,[(0,o._)("div",Ca,[(0,o._)("div",Pa,[(0,o.Wm)(l,{title:"Contas","page-icon":"fa-solid fa-receipt",subtitle:"Gerencie suas contas",style:{padding:"20px"}}),(0,o._)("div",Ma,[(0,o._)("div",Fa,[(0,o._)("div",Ta,[Sa,(0,o._)("span",xa,(0,u.zw)(s.totalAmountAccounts),1)])])]),(0,o._)("div",$a,[(0,o._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:t[0]||(t[0]=a=>s.openForm(null))},[(0,o.Wm)(c,{icon:"fa-solid fa-circle-plus"})]),(0,o._)("button",{class:"btn btn-secondary",type:"button",onClick:t[1]||(t[1]=(...a)=>s.openFilter&&s.openFilter(...a))},[(0,o.Wm)(c,{icon:"fa-solid fa-filter"})]),(0,o._)("div",Aa,[(0,o.wy)((0,o._)("select",{onChange:t[2]||(t[2]=(...a)=>s.changeLimitPerPage&&s.changeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>s.data.pagination.limit=a),class:"form-select show-pages"},Ra,544),[[n.bM,s.data.pagination.limit]])])]),(0,o._)("div",{class:(0,u.C_)(["filter-body",{"filter-body-open":s.data.isOpenFilter}])},[(0,o._)("div",Oa,[(0,o._)("div",Ua,[Wa,(0,o._)("div",Va,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>s.data.filters.description=a),class:"form-control"},null,512),[[n.nr,s.data.filters.description]])])]),(0,o._)("div",Ia,[qa,(0,o._)("div",Ea,[(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=a=>s.data.filters.firstDayMonth=a),class:"form-control"},null,512),[[n.nr,s.data.filters.firstDayMonth]]),Na,(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=a=>s.data.filters.lastDayMonth=a),class:"form-control"},null,512),[[n.nr,s.data.filters.lastDayMonth]])])]),(0,o._)("div",Ya,[(0,o._)("button",{type:"button",onClick:t[7]||(t[7]=(...a)=>s.searchFilter&&s.searchFilter(...a)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,o.Wm)(c,{icon:"fa-solid fa-search"})])])])],2),(0,o._)("div",Za,[s.data.contas.length?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(d,{key:0,message:"Ainda não há contas cadastradas, clique adicionar para cria sua primeira conta"})),s.data.contas.length?((0,o.wg)(),(0,o.iD)("table",Ha,[Ka,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.contas,(a=>((0,o.wg)(),(0,o.iD)("tr",Ga,[(0,o._)("td",null,[(0,o._)("a",{href:"",onClick:(0,n.iM)((t=>s.openTransactions(a.id,a.description)),["prevent"])},(0,u.zw)(a.description),9,Ja)]),(0,o._)("td",null,[(0,o._)("span",{class:"badge rounded-pill text-bg-primary",style:(0,u.j5)(`background:${a.accountType.color}!important`)},(0,u.zw)(a.accountType.description),5)]),a.amount>0?((0,o.wg)(),(0,o.iD)("td",Qa,[(0,o._)("span",Xa,"+"+(0,u.zw)(a.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)])):a.amount<0?((0,o.wg)(),(0,o.iD)("td",at,[(0,o._)("span",tt,(0,u.zw)(a.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)])):((0,o.wg)(),(0,o.iD)("td",et,[(0,o._)("span",nt,(0,u.zw)(a.amount.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)])),(0,o._)("td",null,(0,u.zw)(a.updated_at),1),(0,o._)("td",null,[(0,o._)("div",ot,[(0,o._)("button",{type:"button",onClick:t=>s.openForm(a.id),class:"btn btn-primary btn-primary-custom"},[(0,o.Wm)(c,{icon:"fa-solid fa-pen-to-square"})],8,st),(0,o._)("button",{type:"button",onClick:t=>s.deletePrompt(a.description,a.id),class:"btn btn-outline-danger"},[(0,o.Wm)(c,{icon:"fa-solid fa-trash"})],8,it)])])])))),256))])):(0,o.kq)("",!0)]),s.data.contas.length?((0,o.wg)(),(0,o.iD)("div",rt,[(0,o._)("div",lt,[(0,o._)("nav",ct,[(0,o._)("ul",dt,[(0,o._)("li",ut,[(0,o._)("a",{onClick:t[8]||(t[8]=(0,n.iM)((a=>s.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.pagination.pages,(a=>((0,o.wg)(),(0,o.iD)("li",pt,["..."===a?((0,o.wg)(),(0,o.iD)("span",mt,"...")):((0,o.wg)(),(0,o.iD)("a",{key:1,onClick:(0,n.iM)((t=>s.linkNavigationPage(a)),["prevent"]),class:(0,u.C_)(["page-link",{active:s.data.pagination.current_page===a}]),href:"#"},(0,u.zw)(a),11,gt))])))),256)),(0,o._)("li",ft,[(0,o._)("a",{onClick:t[9]||(t[9]=(0,n.iM)((a=>s.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,o.kq)("",!0)])])])])}const bt={class:"no-content-container"};function vt(a,t,e,n,s,i){return(0,o.wg)(),(0,o.iD)("p",bt,(0,u.zw)(e.message),1)}var ht={name:"NoContent",props:["message"]};const yt=(0,i.Z)(ht,[["render",vt]]);var wt=yt;const Dt=()=>{C().fire({title:"",text:"Processando aguarde....",icon:"",allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!1})},kt=(a,t)=>C().fire({title:"",text:"",html:`<h3>${a}</h3>`,icon:t,allowOutsideClick:!1,allowEscapeKey:!1,showConfirmButton:!0}),Ct=(a,t,e,n)=>{Dt();let o=`/users/${a}/accounts?limit=${t}&page=${e}`;null!=n.filters.description&&(o=o.concat(`&description=${n.filters.description}`)),o=o.concat(`&initial_date=${n.filters.firstDayMonth}&end_date=${n.filters.lastDayMonth}`),R.get(o).then((a=>{C().close(),n.pagination.current_page=a.data.current_page,n.pagination.totalPages=a.data.total_pages,n.pagination.totalRows=a.data.total_rows,n.contas=a.data.items})).catch((a=>{C().close(),kt("Falha ao obter lista de contas","error")}))},Pt=(a,t,e)=>{R.get(`/users/${a}/accounts/${t}`).then((a=>{C().close(),e.account.description=a.data.description,e.account.account_type_id=a.data.accountType.id})).catch((a=>{C().close(),kt("Falha ao obter dados da conta","error")}))},Mt=(a,t,e)=>{Dt(),R.post(`/users/${a}/accounts`,t.account).then((a=>{kt("Conta cadastrada com sucesso!","success").then((a=>{a.isConfirmed&&e.push({name:"contas"})}))})).catch((a=>{C().close(),kt("Falha ao cadastrar conta!","error")}))},Ft=(a,t,e,n)=>{Dt(),R.put(`/users/${a}/accounts/${t}`,n.account).then((a=>{kt("Conta atualizada com sucesso","success").then((a=>{a.isConfirmed&&e.push({name:"contas"})}))})).catch((a=>{C().close(),kt("Falha ao atualizar conta","error")}))},Tt=(a,t,e)=>(Dt(),R["delete"](`/users/${a}/accounts/${t}`).then((t=>{C().close(),Ct(a,e.pagination.limit,e.pagination.current_page,e)})).catch((a=>{console.log(a),C().close(),kt("Falha ao deletar conta","error")}))),St=(a,t,e,n)=>{let o,s=[],i=Math.ceil(t/e),r=Math.ceil(n/2);o=a<=r?"start":i-r<a?"end":"middle";let l=n<i,c=1;while(c<=i&&c<=n){let t=xt(c,a,n,i),e=2===c&&("middle"===o||"end"===o),r=c===n-1&&("middle"===o||"start"===o);l&&(e||r)?s.push("..."):s.push(t),c++}return s},xt=(a,t,e,n)=>{var o=Math.ceil(e/2);return a===e?n:1===a?a:e<n?n-o<t?n-e+a:o<t?t-o+a:a:a};var $t={components:{PageTitle:ba,NoContent:wt},setup(){const a=(0,d.tv)(),t=(0,D.qj)({contas:[],isOpenFilter:!0,filters:{description:null,firstDayMonth:"",lastDayMonth:""},pagination:{pages:[],limit:10,current_page:1,totalPages:0,totalRows:0}});(0,o.YP)((()=>t.contas),(a=>{t.pagination.current_page>1&&0===a.length&&Ct(j.getters.userData.user_id,t.pagination.limit,t.pagination.current_page-1,t),t.pagination.pages=St(t.pagination.current_page,t.pagination.totalRows,t.pagination.limit,8)}));let e=()=>{t.isOpenFilter?t.isOpenFilter=!1:t.isOpenFilter=!0},n=t=>{null==t?a.push({name:"contas-form"}):a.push({name:"contas-form-edit",params:{id:t}})},s=(a,e)=>{C().fire({title:"Confirmação",text:`Deseja deletar a conta ${a} ?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((a=>{a.isConfirmed&&Tt(j.getters.userData.user_id,e,t)}))};const i=a=>{if("prev"===a&&t.pagination.current_page>1)return t.pagination.current_page-=1,void Ct(j.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t);if("next"===a){if(t.pagination.current_page>=t.pagination.totalPages)return;t.pagination.current_page+=1,Ct(j.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t)}},r=()=>{Ct(j.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t)},l=a=>{Ct(j.getters.userData.user_id,t.pagination.limit,a,t)},c=()=>{""!==t.filters.firstDayMonth&&""!==t.filters.firstDayMonth?Ct(j.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t):C().fire("Informe um periodo no filtro de busca","","error")},u=(t,e)=>{a.push({name:"conta-transaction",params:{id:t}})},p=(0,o.Fl)((()=>{let a=0;return t.contas.forEach((t=>{t.amount<0?a-=-1*t.amount:a+=t.amount})),a.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}));return(0,o.bv)((()=>{const a=new Date,e=new Date(a.getFullYear(),a.getMonth(),1),n=new Date(a.getFullYear(),a.getMonth()+1,0),o=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"});t.filters.firstDayMonth=o.format(e).split("/").reverse().join("-"),t.filters.lastDayMonth=o.format(n).split("/").reverse().join("-"),Ct(j.getters.userData.user_id,t.pagination.limit,t.pagination.current_page,t)})),{data:t,openForm:n,openFilter:e,deletePrompt:s,navigatePages:i,changeLimitPerPage:r,linkNavigationPage:l,searchFilter:c,openTransactions:u,totalAmountAccounts:p}}};const At=(0,i.Z)($t,[["render",_t],["__scopeId","data-v-14e6da8a"]]);var Bt=At;const jt=a=>((0,o.dD)("data-v-1682f9e6"),a=a(),(0,o.Cn)(),a),Lt={class:"conta-form-view page-content"},zt={class:"row"},Rt={class:"col-12"},Ot={class:"card form-page-card"},Ut={class:"card-body page-card-body"},Wt={class:"mb-3"},Vt=jt((()=>(0,o._)("label",{for:"description",class:"form-label"},"Descrição",-1))),It={class:"mb-3"},qt=jt((()=>(0,o._)("label",{for:"accounttype",class:"form-label"},"Tipo de conta",-1))),Et=jt((()=>(0,o._)("option",{value:""},"Selecione um tipo de conta",-1))),Nt=["value"],Yt={class:"mb-3"};function Zt(a,t,e,s,i,r){const l=(0,o.up)("font-awesome-icon"),c=(0,o.up)("router-link"),d=(0,o.up)("page-title");return(0,o.wg)(),(0,o.iD)("div",Lt,[(0,o.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/contas"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,o.Uk)(" Voltar")])),_:1}),(0,o._)("div",zt,[(0,o._)("div",Rt,[(0,o._)("div",Ot,[(0,o.Wm)(d,{title:s.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:s.data.subtitle},null,8,["title","subtitle"]),(0,o._)("div",Ut,[(0,o._)("form",null,[(0,o._)("div",Wt,[Vt,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>s.data.account.description=a),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,s.data.account.description]])]),(0,o._)("div",It,[qt,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[1]||(t[1]=a=>s.data.account.account_type_id=a),"aria-label":"Default select example"},[Et,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.accountTypes,(a=>((0,o.wg)(),(0,o.iD)("option",{value:a.id},(0,u.zw)(a.description),9,Nt)))),256))],512),[[n.bM,s.data.account.account_type_id]])]),(0,o._)("div",Yt,[(0,o._)("button",{style:{"margin-right":"10px"},onClick:t[2]||(t[2]=(...a)=>s.submit&&s.submit(...a)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,o._)("button",{type:"button",onClick:t[3]||(t[3]=(...a)=>s.backPage&&s.backPage(...a)),class:"btn btn-secondary"},"Cancelar")])])])])])])])}const Ht=a=>(Dt(),R.get("/account-types").then((t=>{C().close(),a.accountTypes=t.data})).catch((a=>{C().fire("Falha ao obter lista de tipos de contas","","error")})));var Kt={components:{PageTitle:ba},setup(){const a=(0,d.tv)(),t=(0,d.yj)(),e=(0,D.qj)({pageTitle:"",subtitle:"",accountTypes:[],account:{description:"",account_type_id:""}}),n=()=>{a.push({name:"contas"})},s=()=>{e.account.description?e.account.account_type_id?null!=t.params.id?(console.log("caiu errado no update"),Ft(j.getters.userData.user_id,t.params.id,a,e)):Mt(j.getters.userData.user_id,e,a):C().fire("Atenção","Selecione um tipo de conta","warning",""):C().fire("Atenção","Preencha o campo Descrição","warning","")};return(0,o.bv)((()=>{if(null!=t.params.id)return e.pageTitle="Editar Conta",e.subtitle="Edite sua conta",Ht(e),void Pt(j.getters.userData.user_id,t.params.id,e);e.pageTitle="Nova Conta",e.subtitle="Preencha o formulário abaixo para criar uma nova conta",Ht(e)})),{data:e,backPage:n,submit:s}}};const Gt=(0,i.Z)(Kt,[["render",Zt],["__scopeId","data-v-1682f9e6"]]);var Jt=Gt;const Qt={class:"page-view page-content"},Xt={class:"card page-card"},ae={key:0,class:"alert alert-primary label-top"},te={class:"row"},ee={class:"col-3"},ne={class:"tipo-transacao-label"},oe={key:0,class:"value-label"},se={key:1,class:"value-label"},ie={class:"col-3"},re=(0,o._)("h4",{class:"tipo-transacao-label"},"Saldo",-1),le={class:"value-label"},ce={class:"page-action"},de={class:"show-per-page"},ue=(0,o._)("option",{value:"5"},"5",-1),pe=(0,o._)("option",{value:"10"},"10",-1),me=(0,o._)("option",{value:"50"},"50",-1),ge=(0,o._)("option",{value:"100"},"100",-1),fe=[ue,pe,me,ge],_e={class:"row"},be={class:"col-4"},ve=(0,o._)("label",{class:"form-label"},"Descrição",-1),he={class:"input-group"},ye={class:"col-4"},we=(0,o._)("label",{class:"form-label"},"Data",-1),De={class:"input-group"},ke=(0,o._)("span",{style:{padding:"10px"}},"até",-1),Ce={class:"col-2"},Pe={class:"card-body page-card-body"},Me={key:1,class:"table table-hover"},Fe=(0,o._)("tr",{class:"page-table-header"},[(0,o._)("th",null,"Descrição"),(0,o._)("th",null,"Data"),(0,o._)("th",null,"Tipo"),(0,o._)("th",null,"Categoria"),(0,o._)("th",null,"Valor"),(0,o._)("th",null,"Parcelado"),(0,o._)("th",null,"Qtd.Parcelas"),(0,o._)("th",null,"N.Parcela"),(0,o._)("th")],-1),Te={class:"page-table-row"},Se={key:0},xe={class:"badge rounded-pill text-bg-primary",style:{background:"#3c9536!important"}},$e={key:1},Ae={class:"badge rounded-pill text-bg-primary",style:{background:"#a81616!important"}},Be={key:2},je={class:"positive-label"},Le={key:3},ze={class:"negative-label"},Re={class:"row-btn-actions"},Oe=["onClick"],Ue=["onClick"],We={key:1,class:"row",style:{padding:"20px"}},Ve={class:"col-12"},Ie={"aria-label":"Page navigation example"},qe={class:"pagination"},Ee={class:"page-item"},Ne={class:"page-item"},Ye={key:0,class:"page-link"},Ze=["onClick"],He={class:"page-item"};function Ke(a,t,e,s,i,r){const l=(0,o.up)("font-awesome-icon"),c=(0,o.up)("router-link"),d=(0,o.up)("page-title"),p=(0,o.up)("no-content");return(0,o.wg)(),(0,o.iD)("div",Qt,[(0,o.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:"/app/contas"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,o.Uk)(" Voltar")])),_:1}),(0,o._)("div",Xt,[(0,o.Wm)(d,{title:`Transações - ${s.data.accountDetails.description}`,subtitle:`Tipo - ${s.data.accountDetails.type}`,"page-icon":"fa-solid fa-receipt"},null,8,["title","subtitle"]),s.data.statistics.length?((0,o.wg)(),(0,o.iD)("div",ae,[(0,o._)("div",te,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.statistics,(a=>((0,o.wg)(),(0,o.iD)("div",ee,[(0,o._)("h4",ne,(0,u.zw)(a.description),1),"Despesa"===a.description?((0,o.wg)(),(0,o.iD)("span",oe,(0,u.zw)((a.total/100*-1).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1)):((0,o.wg)(),(0,o.iD)("span",se,(0,u.zw)((a.total/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})),1))])))),256)),(0,o._)("div",ie,[re,(0,o._)("span",le,(0,u.zw)(s.calculatedAmount),1)])])])):(0,o.kq)("",!0),(0,o._)("div",ce,[(0,o._)("button",{class:"btn btn-primary btn-primary-custom",type:"button",onClick:t[0]||(t[0]=a=>s.openForm(null))},[(0,o.Wm)(l,{icon:"fa-solid fa-circle-plus"})]),(0,o._)("button",{class:"btn btn-secondary",type:"button",onClick:t[1]||(t[1]=(...a)=>s.openFilter&&s.openFilter(...a))},[(0,o.Wm)(l,{icon:"fa-solid fa-filter"})]),(0,o._)("div",de,[(0,o.wy)((0,o._)("select",{onChange:t[2]||(t[2]=(...a)=>s.changeLimitPerPage&&s.changeLimitPerPage(...a)),"onUpdate:modelValue":t[3]||(t[3]=a=>s.data.pagination.limit=a),class:"form-select show-pages"},fe,544),[[n.bM,s.data.pagination.limit]])])]),(0,o._)("div",{class:(0,u.C_)(["filter-body",{"filter-body-open":s.data.isOpenFilter}])},[(0,o._)("div",_e,[(0,o._)("div",be,[ve,(0,o._)("div",he,[(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=a=>s.data.filters.description=a),class:"form-control"},null,512),[[n.nr,s.data.filters.description]])])]),(0,o._)("div",ye,[we,(0,o._)("div",De,[(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[5]||(t[5]=a=>s.data.filters.firstDayMonth=a),class:"form-control"},null,512),[[n.nr,s.data.filters.firstDayMonth]]),ke,(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[6]||(t[6]=a=>s.data.filters.lastDayMonth=a),class:"form-control"},null,512),[[n.nr,s.data.filters.lastDayMonth]])])]),(0,o._)("div",Ce,[(0,o._)("button",{type:"button",onClick:t[7]||(t[7]=(...a)=>s.searchFilter&&s.searchFilter(...a)),style:{"margin-top":"25px"},class:"btn btn-primary btn-primary-custom"},[(0,o.Wm)(l,{icon:"fa-solid fa-search"})])])])],2),(0,o._)("div",Pe,[s.data.transactions.length?((0,o.wg)(),(0,o.iD)("table",Me,[Fe,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.transactions,(a=>((0,o.wg)(),(0,o.iD)("tr",Te,[(0,o._)("td",null,(0,u.zw)(a.description),1),(0,o._)("td",null,(0,u.zw)(a.date),1),"receita"===a.transaction_type.slug_name?((0,o.wg)(),(0,o.iD)("td",Se,[(0,o._)("span",xe,(0,u.zw)(a.transaction_type.description),1)])):((0,o.wg)(),(0,o.iD)("td",$e,[(0,o._)("span",Ae,(0,u.zw)(a.transaction_type.description),1)])),(0,o._)("td",null,(0,u.zw)(a.category.description),1),"receita"===a.transaction_type.slug_name?((0,o.wg)(),(0,o.iD)("td",Be,[(0,o._)("span",je,"+ "+(0,u.zw)(a.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])):((0,o.wg)(),(0,o.iD)("td",Le,[(0,o._)("span",ze," - "+(0,u.zw)(a.amount.toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)])),(0,o._)("td",null,(0,u.zw)(a.installment?"sim":"Não"),1),(0,o._)("td",null,(0,u.zw)(null==a.amount_installment?"-":a.amount_installment),1),(0,o._)("td",null,(0,u.zw)(null==a.current_installment?"-":a.current_installment),1),(0,o._)("td",null,[(0,o._)("div",Re,[(0,o._)("button",{type:"button",onClick:t=>s.openForm(a.id),class:"btn btn-primary btn-primary-custom"},[(0,o.Wm)(l,{icon:"fa-solid fa-pen-to-square"})],8,Oe),(0,o._)("button",{type:"button",onClick:t=>s.deletePrompt(a.description,a.id),class:"btn btn-outline-danger"},[(0,o.Wm)(l,{icon:"fa-solid fa-trash"})],8,Ue)])])])))),256))])):((0,o.wg)(),(0,o.j4)(p,{key:0,message:"Ainda não há transações para esta conta"}))]),s.data.transactions.length?((0,o.wg)(),(0,o.iD)("div",We,[(0,o._)("div",Ve,[(0,o._)("nav",Ie,[(0,o._)("ul",qe,[(0,o._)("li",Ee,[(0,o._)("a",{onClick:t[8]||(t[8]=(0,n.iM)((a=>s.navigatePages("prev")),["prevent"])),class:"page-link",href:"#"},"Anterior")]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.pagination.pages,(a=>((0,o.wg)(),(0,o.iD)("li",Ne,["..."===a?((0,o.wg)(),(0,o.iD)("span",Ye,"...")):((0,o.wg)(),(0,o.iD)("a",{key:1,onClick:(0,n.iM)((t=>s.linkNavigationPage(a)),["prevent"]),class:(0,u.C_)(["page-link",{active:s.data.pagination.current_page===a}]),href:"#"},(0,u.zw)(a),11,Ze))])))),256)),(0,o._)("li",He,[(0,o._)("a",{onClick:t[9]||(t[9]=(0,n.iM)((a=>s.navigatePages("next")),["prevent"])),class:"page-link",href:"#"},"Proximo")])])])])])):(0,o.kq)("",!0)])])}const Ge=(a,t,e)=>{Dt(),R.get(`/users/${a}/accounts/${t}`).then((a=>{C().close(),e.accountDetails.description=a.data.description,e.accountDetails.type=a.data.accountType.description})).catch((a=>{C().close(),kt("Falha ao obter dados da conta","error")}))},Je=(a,t,e)=>{Dt();let n=`/users/${a}/accounts/${t}/transactions?limit=${e.pagination.limit}&page=${e.pagination.current_page}&initial_date=${e.filters.firstDayMonth}&end_date=${e.filters.lastDayMonth}`;null!=e.filters.description&&(n=n.concat(`&description=${e.filters.description}`)),R.get(n).then((a=>{C().close(),e.pagination.current_page=a.data.current_page,e.pagination.totalPages=a.data.total_pages,e.pagination.totalRows=a.data.total_rows,e.transactions=a.data.items,e.statistics=a.data.statistic})).catch((a=>{C().close(),kt("Falha ao obter transações","error")}))},Qe=(a,t,e,n)=>{R.get(`/users/${a}/accounts/${t}/transactions/${e}`).then((a=>{C().close(),n.transaction.description=a.data.description,n.transaction.transaction_type=a.data.transaction_type.id,n.transaction.transaction_category=a.data.category.id,n.transaction.date=a.data.date.split("/").reverse().join("-"),n.transaction.amount=a.data.amount,console.log(a.data)})).catch((a=>{C().close(),kt("Falha ao obter dados da transacao","error")}))},Xe=(a,t,e,n)=>(Dt(),R["delete"](`/users/${a}/accounts/${t}/transactions/${e}`).then((e=>{C().close(),Je(a,t,n)})).catch((a=>{C().close(),kt("Falha ao deletar transação","error")}))),an=(a,t,e,n)=>{Dt();let o=e.transaction;"false"===o.installment&&(delete o["installment"],delete o["amount_installments"]),o.amount=100*o.amount,R.post(`/users/${a}/accounts/${t}/transactions`,o).then((a=>{kt("Transação cadastrada com sucesso!","success").then((a=>{a.isConfirmed&&n.push({name:"conta-transaction",params:{id:t}})}))})).catch((a=>{C().close(),kt("Falha ao cadastrar transação!","error")}))},tn=(a,t,e,n,o)=>{Dt();let s=n.transaction;delete s["installment"],delete s["amount_installments"],s.amount=100*s.amount,R.put(`/users/${a}/accounts/${t}/transactions/${e}`,s).then((a=>{kt("Transação atualizada com sucesso!","success").then((a=>{a.isConfirmed&&o.push({name:"conta-transaction",params:{id:t}})}))})).catch((a=>{C().close(),kt("Falha ao atualizar transação!","error")}))};var en={name:"Transaction",components:{PageTitle:ba,NoContent:wt},setup(){const a=(0,d.yj)(),t=(0,d.tv)();let e=(0,D.qj)({transactions:[],statistics:[],accountDetails:{description:null,type:null},isOpenFilter:!0,filters:{description:"",firstDayMonth:"",lastDayMonth:""},pagination:{pages:[],limit:10,current_page:1,totalPages:0,totalRows:0}});(0,o.YP)((()=>e.transactions),(t=>{e.pagination.current_page>1&&0===t.length&&(e.pagination.current_page-=1,Je(j.getters.userData.user_id,a.params.id,e)),e.pagination.pages=St(e.pagination.current_page,e.pagination.totalRows,e.pagination.limit,8)}));const n=t=>{if("prev"===t&&e.pagination.current_page>1)return e.pagination.current_page-=1,void Je(j.getters.userData.user_id,a.params.id,e);if("next"===t){if(e.pagination.current_page>=e.pagination.totalPages)return;e.pagination.current_page+=1,Je(j.getters.userData.user_id,a.params.id,e)}},s=t=>{e.pagination.current_page=t,Je(j.getters.userData.user_id,a.params.id,e)},i=()=>{Je(j.getters.userData.user_id,a.params.id,e)};let r=(t,n)=>{C().fire({title:"Confirmação",text:`Deseja deletar a transação descrita como ${t} ?`,icon:"question",showConfirmButton:!0,confirmButtonText:"Sim",showCancelButton:!0,cancelButtonText:"Não"}).then((t=>{t.isConfirmed&&Xe(j.getters.userData.user_id,a.params.id,n,e)}))},l=()=>{e.isOpenFilter?e.isOpenFilter=!1:e.isOpenFilter=!0},c=a=>{null==a?t.push({name:"conta-transaction-new"}):t.push({name:"conta-transaction-edit",params:{id_transaction:a}})};const u=(0,o.Fl)((()=>{let a=0,t=0,n=e.statistics.reverse();for(let e=0;e<n.length;e++)"Despesa"===n[e].description?t=-1*n[e].total:a=n[e].total;let o=a+t;return(o/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})),p=()=>{""!==e.filters.firstDayMonth&&""!==e.filters.lastDayMonth?Je(j.getters.userData.user_id,a.params.id,e):kt("Preencha os filtros de data","error")};return(0,o.bv)((()=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),1),o=new Date(t.getFullYear(),t.getMonth()+1,0),s=new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"2-digit",day:"2-digit"});e.filters.firstDayMonth=s.format(n).split("/").reverse().join("-"),e.filters.lastDayMonth=s.format(o).split("/").reverse().join("-"),Ge(j.getters.userData.user_id,a.params.id,e),Je(j.getters.userData.user_id,a.params.id,e)})),{data:e,linkNavigationPage:s,navigatePages:n,changeLimitPerPage:i,openFilter:l,deletePrompt:r,openForm:c,calculatedAmount:u,searchFilter:p}}};const nn=(0,i.Z)(en,[["render",Ke]]);var on=nn;const sn=a=>((0,o.dD)("data-v-7d355106"),a=a(),(0,o.Cn)(),a),rn={class:"conta-form-view page-content"},ln={class:"row"},cn={class:"col-12"},dn={class:"card form-page-card"},un={class:"card-body page-card-body"},pn={class:"row space-rows"},mn={class:"col-6"},gn=sn((()=>(0,o._)("label",{for:"description",class:"form-label"},"Descrição",-1))),fn={class:"col-6"},_n=sn((()=>(0,o._)("label",{for:"date",class:"form-label"},"Data",-1))),bn={class:"row space-rows"},vn={class:"col-6"},hn=sn((()=>(0,o._)("label",{for:"tipo",class:"form-label"},"Tipo",-1))),yn=sn((()=>(0,o._)("option",{value:""},"Selecione um tipo",-1))),wn=["value"],Dn={class:"col-6"},kn=sn((()=>(0,o._)("label",{for:"valor",class:"form-label"},"Valor",-1))),Cn={class:"row space-rows"},Pn={class:"col-6"},Mn=sn((()=>(0,o._)("label",{for:"categoria",class:"form-label"},"Categoria",-1))),Fn=["disabled"],Tn=sn((()=>(0,o._)("option",{value:""},"Selecione uma categoria",-1))),Sn=["value"],xn={key:0,class:"col-3"},$n=sn((()=>(0,o._)("label",{for:"categoria",class:"form-label"},"Parcelamento ?",-1))),An=sn((()=>(0,o._)("option",{value:"false"},"Não",-1))),Bn=sn((()=>(0,o._)("option",{value:"true"},"Sim",-1))),jn=[An,Bn],Ln={key:1,class:"col-1"},zn=sn((()=>(0,o._)("label",{for:"parcelas",class:"form-label"},"Parcelas",-1))),Rn=["disabled"],On={class:"row"},Un={class:"mb-3"};function Wn(a,t,e,s,i,r){const l=(0,o.up)("font-awesome-icon"),c=(0,o.up)("router-link"),d=(0,o.up)("page-title"),p=(0,o.up)("CurrencyInput");return(0,o.wg)(),(0,o.iD)("div",rn,[(0,o.Wm)(c,{class:"btn btn-primary btn-primary-custom",to:`/app/conta/${a.$route.params.id}/transaction`},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{icon:"fa-solid fa-arrow-left"}),(0,o.Uk)(" Voltar")])),_:1},8,["to"]),(0,o._)("div",ln,[(0,o._)("div",cn,[(0,o._)("div",dn,[(0,o.Wm)(d,{title:s.data.pageTitle,"page-icon":"fa-solid fa-receipt",subtitle:s.data.subtitle},null,8,["title","subtitle"]),(0,o._)("div",un,[(0,o._)("form",null,[(0,o._)("div",pn,[(0,o._)("div",mn,[gn,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=a=>s.data.transaction.description=a),class:"form-control",id:"description",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,s.data.transaction.description]])]),(0,o._)("div",fn,[_n,(0,o.wy)((0,o._)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=a=>s.data.transaction.date=a),class:"form-control",id:"date",placeholder:"Digite um nome para sua conta","aria-describedby":"descriptionHelp"},null,512),[[n.nr,s.data.transaction.date]])])]),(0,o._)("div",bn,[(0,o._)("div",vn,[hn,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[2]||(t[2]=a=>s.data.transaction.transaction_type=a)},[yn,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.transactionTypes,(a=>((0,o.wg)(),(0,o.iD)("option",{value:a.id},(0,u.zw)(a.description),9,wn)))),256))],512),[[n.bM,s.data.transaction.transaction_type]])]),(0,o._)("div",Dn,[kn,(0,o.Wm)(p,{options:{currency:"BRL"},modelValue:s.data.transaction.amount,"onUpdate:modelValue":t[3]||(t[3]=a=>s.data.transaction.amount=a),class:"form-control"},null,8,["modelValue"])])]),(0,o._)("div",Cn,[(0,o._)("div",Pn,[Mn,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[4]||(t[4]=a=>s.data.transaction.transaction_category=a),disabled:s.data.selectStates.categoryDisable},[Tn,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.data.transactionCategories,(a=>((0,o.wg)(),(0,o.iD)("option",{value:a.id},(0,u.zw)(a.description),9,Sn)))),256))],8,Fn),[[n.bM,s.data.transaction.transaction_category]])]),s.data.disableInstallment?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",xn,[$n,(0,o.wy)((0,o._)("select",{class:"form-select","onUpdate:modelValue":t[5]||(t[5]=a=>s.data.transaction.installment=a)},jn,512),[[n.bM,s.data.transaction.installment]])])),s.data.disableInstallment?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",Ln,[zn,(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[6]||(t[6]=a=>s.data.transaction.amount_installments=a),class:"form-control",disabled:s.data.selectStates.installmentDisable,id:"parcelas",placeholder:"Parcelas","aria-describedby":"descriptionHelp"},null,8,Rn),[[n.nr,s.data.transaction.amount_installments]])]))]),(0,o._)("div",On,[(0,o._)("div",Un,[(0,o._)("button",{style:{"margin-right":"10px"},onClick:t[7]||(t[7]=(...a)=>s.submit&&s.submit(...a)),type:"button",class:"btn btn-primary btn-primary-custom"},"Concluir"),(0,o._)("button",{type:"button",onClick:t[8]||(t[8]=(...a)=>s.backPage&&s.backPage(...a)),class:"btn btn-secondary"},"Cancelar")])])])])])])])])}const Vn=a=>(Dt(),R.get("/transaction-types").then((t=>{C().close(),a.transactionTypes=t.data})).catch((a=>{C().fire("Falha ao obter lista de tipos de transações","","error")}))),In=a=>(Dt(),R.get(`/transaction-categories?transaction_type_id=${a.transaction.transaction_type}`).then((t=>{C().close(),a.transactionCategories=t.data})).catch((a=>{C().fire("Falha ao obter lista de categorias","","error")}))),qn={ref:"inputRef",type:"text"};function En(a,t,e,n,s,i){return(0,o.wg)(),(0,o.iD)("input",qn,null,512)}var Nn=e(7613),Yn={name:"CurrencyInput",props:{modelValue:Number,options:Object},setup(a){const{inputRef:t,setValue:e}=(0,Nn.Er)(a.options);return(0,o.YP)((()=>a.modelValue),(a=>{e(a)})),{inputRef:t}}};const Zn=(0,i.Z)(Yn,[["render",En]]);var Hn=Zn,Kn={components:{CurrencyInput:Hn,PageTitle:ba},setup(){const a=(0,d.tv)(),t=(0,d.yj)(),e=(0,D.qj)({pageTitle:"",subtitle:"",transactionTypes:[],transactionCategories:[],disableInstallment:!1,inputLabels:["Descrição","Data","Tipo","Valor","Categoria","Quantidade"],selectStates:{categoryDisable:!0,installmentDisable:!0},transaction:{description:"",date:"",transaction_type:"",amount:null,transaction_category:"",installment:"false",amount_installments:0}}),n=()=>{a.push({name:"conta-transaction",params:{id:t.params.id}})},s=()=>{let n=Object.getOwnPropertyNames(e.transaction);for(let a=0;a<n.length;a++){if(""===e.transaction[n[a]]||null==e.transaction[n[a]])return void kt(`Preencha o campo ${e.inputLabels[a]}`,"error");if("installment"===n[a]&&"true"===e.transaction["installment"]&&0===e.transaction.amount_installments&&!1===e.disableInstallment)return void kt("Numero de parcelas inválido","error")}null!=t.params.id_transaction?tn(j.getters.userData.user_id,t.params.id,t.params.id_transaction,e,a):an(j.getters.userData.user_id,t.params.id,e,a)};return(0,o.YP)((()=>e.transaction.transaction_type),(a=>{if(""===a)return e.selectStates.categoryDisable=!0,void(e.transactionCategories=[]);e.selectStates.categoryDisable=!1,In(e)})),(0,o.YP)((()=>e.transaction.installment),(a=>{"true"!==a?(e.transaction.amount_installments=0,e.selectStates.installmentDisable=!0):e.selectStates.installmentDisable=!1})),(0,o.bv)((()=>{if(Vn(e),null!=t.params.id_transaction)return e.pageTitle="Editar Transação",e.subtitle="Edite sua transação",e.disableInstallment=!0,void Qe(j.getters.userData.user_id,t.params.id,t.params.id_transaction,e);e.disableInstallment=!1,e.pageTitle="Nova Transação",e.subtitle="Preencha o formulário abaixo para criar uma nova transação"})),{data:e,backPage:n,submit:s}}};const Gn=(0,i.Z)(Kn,[["render",Wn],["__scopeId","data-v-7d355106"]]);var Jn=Gn;const Qn=[{path:"/",name:"login",component:I},{path:"/app",name:"home",component:aa,redirect:"app/dashboard",children:[{path:"/app/dashboard",name:"dashboard",component:ya},{path:"/app/contas",name:"contas",component:Bt},{path:"/app/contas/new",name:"contas-form",component:Jt},{path:"/app/contas/edit/:id",name:"contas-form-edit",component:Jt},{path:"/app/conta/:id/transaction",name:"conta-transaction",component:on},{path:"/app/conta/:id/transaction/new",name:"conta-transaction-new",component:Jn},{path:"/app/conta/:id/transaction/edit/:id_transaction",name:"conta-transaction-edit",component:Jn}]}],Xn=(0,d.p7)({history:(0,d.r5)(),routes:Qn,linkActiveClass:"active",linkExactActiveClass:"active"});Xn.beforeEach(((a,t)=>{if("login"!=a.name){let a=j.getters.userData;if(!j.getters.isAuth)return Xn.push({name:"login"});if(""===a.token||!a.hasOwnProperty("token"))return Xn.push({name:"login"});U(a.token).then((a=>{})).catch((a=>(j.commit("clearState"),Xn.push({name:"login"}))))}}));var ao=Xn,to=(e(5654),e(3494)),eo=e(7749),no=e(8539);to.vI.add(no.J9Y,no.dLy,no.LjC,no.mXR,no.Ma4,no.KtF,no.G_j,no.Yai,no.$aW,no.wn1,no.acZ),(0,n.ri)(c).use(j).component("font-awesome-icon",eo.GN).use(ao).mount("#app")},2480:function(){}},t={};function e(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return a[n].call(s.exports,s,s.exports,e),s.exports}e.m=a,function(){var a=[];e.O=function(t,n,o,s){if(!n){var i=1/0;for(d=0;d<a.length;d++){n=a[d][0],o=a[d][1],s=a[d][2];for(var r=!0,l=0;l<n.length;l++)(!1&s||i>=s)&&Object.keys(e.O).every((function(a){return e.O[a](n[l])}))?n.splice(l--,1):(r=!1,s<i&&(i=s));if(r){a.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=a.length;d>0&&a[d-1][2]>s;d--)a[d]=a[d-1];a[d]=[n,o,s]}}(),function(){e.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return e.d(t,{a:t}),t}}(),function(){e.d=function(a,t){for(var n in t)e.o(t,n)&&!e.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:t[n]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(a){if("object"===typeof window)return window}}()}(),function(){e.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)}}(),function(){e.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})}}(),function(){var a={143:0};e.O.j=function(t){return 0===a[t]};var t=function(t,n){var o,s,i=n[0],r=n[1],l=n[2],c=0;if(i.some((function(t){return 0!==a[t]}))){for(o in r)e.o(r,o)&&(e.m[o]=r[o]);if(l)var d=l(e)}for(t&&t(n);c<i.length;c++)s=i[c],e.o(a,s)&&a[s]&&a[s][0](),a[s]=0;return e.O(d)},n=self["webpackChunkfinanceiro_front"]=self["webpackChunkfinanceiro_front"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=e.O(void 0,[998],(function(){return e(2384)}));n=e.O(n)})();
//# sourceMappingURL=app.4c147989.js.map